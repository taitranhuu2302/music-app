function E4(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var ie=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function oR(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function sR(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var o=Function.bind.apply(e,i);return new o}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Yu={},x4={get exports(){return Yu},set exports(t){Yu=t}},Up={},w={},S4={get exports(){return w},set exports(t){w=t}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hc=Symbol.for("react.element"),T4=Symbol.for("react.portal"),C4=Symbol.for("react.fragment"),k4=Symbol.for("react.strict_mode"),I4=Symbol.for("react.profiler"),R4=Symbol.for("react.provider"),P4=Symbol.for("react.context"),O4=Symbol.for("react.forward_ref"),A4=Symbol.for("react.suspense"),N4=Symbol.for("react.memo"),D4=Symbol.for("react.lazy"),cx=Symbol.iterator;function M4(t){return t===null||typeof t!="object"?null:(t=cx&&t[cx]||t["@@iterator"],typeof t=="function"?t:null)}var aR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lR=Object.assign,uR={};function wl(t,e,n){this.props=t,this.context=e,this.refs=uR,this.updater=n||aR}wl.prototype.isReactComponent={};wl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};wl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function cR(){}cR.prototype=wl.prototype;function sw(t,e,n){this.props=t,this.context=e,this.refs=uR,this.updater=n||aR}var aw=sw.prototype=new cR;aw.constructor=sw;lR(aw,wl.prototype);aw.isPureReactComponent=!0;var dx=Array.isArray,dR=Object.prototype.hasOwnProperty,lw={current:null},hR={key:!0,ref:!0,__self:!0,__source:!0};function fR(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)dR.call(e,r)&&!hR.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Hc,type:t,key:o,ref:s,props:i,_owner:lw.current}}function L4(t,e){return{$$typeof:Hc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function uw(t){return typeof t=="object"&&t!==null&&t.$$typeof===Hc}function $4(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var hx=/\/+/g;function Bg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?$4(""+t.key):e.toString(36)}function xh(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Hc:case T4:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Bg(s,0):r,dx(i)?(n="",t!=null&&(n=t.replace(hx,"$&/")+"/"),xh(i,e,n,"",function(u){return u})):i!=null&&(uw(i)&&(i=L4(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(hx,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",dx(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+Bg(o,a);s+=xh(o,e,n,l,i)}else if(l=M4(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+Bg(o,a++),s+=xh(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function $d(t,e,n){if(t==null)return t;var r=[],i=0;return xh(t,r,"","",function(o){return e.call(n,o,i++)}),r}function F4(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var In={current:null},Sh={transition:null},j4={ReactCurrentDispatcher:In,ReactCurrentBatchConfig:Sh,ReactCurrentOwner:lw};Re.Children={map:$d,forEach:function(t,e,n){$d(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return $d(t,function(){e++}),e},toArray:function(t){return $d(t,function(e){return e})||[]},only:function(t){if(!uw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Re.Component=wl;Re.Fragment=C4;Re.Profiler=I4;Re.PureComponent=sw;Re.StrictMode=k4;Re.Suspense=A4;Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j4;Re.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=lR({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=lw.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)dR.call(e,l)&&!hR.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Hc,type:t.type,key:i,ref:o,props:r,_owner:s}};Re.createContext=function(t){return t={$$typeof:P4,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:R4,_context:t},t.Consumer=t};Re.createElement=fR;Re.createFactory=function(t){var e=fR.bind(null,t);return e.type=t,e};Re.createRef=function(){return{current:null}};Re.forwardRef=function(t){return{$$typeof:O4,render:t}};Re.isValidElement=uw;Re.lazy=function(t){return{$$typeof:D4,_payload:{_status:-1,_result:t},_init:F4}};Re.memo=function(t,e){return{$$typeof:N4,type:t,compare:e===void 0?null:e}};Re.startTransition=function(t){var e=Sh.transition;Sh.transition={};try{t()}finally{Sh.transition=e}};Re.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Re.useCallback=function(t,e){return In.current.useCallback(t,e)};Re.useContext=function(t){return In.current.useContext(t)};Re.useDebugValue=function(){};Re.useDeferredValue=function(t){return In.current.useDeferredValue(t)};Re.useEffect=function(t,e){return In.current.useEffect(t,e)};Re.useId=function(){return In.current.useId()};Re.useImperativeHandle=function(t,e,n){return In.current.useImperativeHandle(t,e,n)};Re.useInsertionEffect=function(t,e){return In.current.useInsertionEffect(t,e)};Re.useLayoutEffect=function(t,e){return In.current.useLayoutEffect(t,e)};Re.useMemo=function(t,e){return In.current.useMemo(t,e)};Re.useReducer=function(t,e,n){return In.current.useReducer(t,e,n)};Re.useRef=function(t){return In.current.useRef(t)};Re.useState=function(t){return In.current.useState(t)};Re.useSyncExternalStore=function(t,e,n){return In.current.useSyncExternalStore(t,e,n)};Re.useTransition=function(){return In.current.useTransition()};Re.version="18.2.0";(function(t){t.exports=Re})(S4);const ke=oR(w),Xu=E4({__proto__:null,default:ke},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U4=w,V4=Symbol.for("react.element"),B4=Symbol.for("react.fragment"),z4=Object.prototype.hasOwnProperty,W4=U4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,H4={key:!0,ref:!0,__self:!0,__source:!0};function pR(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)z4.call(e,r)&&!H4.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:V4,type:t,key:o,ref:s,props:i,_owner:W4.current}}Up.Fragment=B4;Up.jsx=pR;Up.jsxs=pR;(function(t){t.exports=Up})(x4);const St=Yu.Fragment,E=Yu.jsx,ne=Yu.jsxs,q4=Object.freeze(Object.defineProperty({__proto__:null,Fragment:St,jsx:E,jsxs:ne},Symbol.toStringTag,{value:"Module"}));var _0={},Po={},G4={get exports(){return Po},set exports(t){Po=t}},Yn={},E0={},K4={get exports(){return E0},set exports(t){E0=t}},mR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(A,W){var U=A.length;A.push(W);e:for(;0<U;){var q=U-1>>>1,Z=A[q];if(0<i(Z,W))A[q]=W,A[U]=Z,U=q;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var W=A[0],U=A.pop();if(U!==W){A[0]=U;e:for(var q=0,Z=A.length,_e=Z>>>1;q<_e;){var se=2*(q+1)-1,Ee=A[se],xe=se+1,gt=A[xe];if(0>i(Ee,U))xe<Z&&0>i(gt,Ee)?(A[q]=gt,A[xe]=U,q=xe):(A[q]=Ee,A[se]=U,q=se);else if(xe<Z&&0>i(gt,U))A[q]=gt,A[xe]=U,q=xe;else break e}}return W}function i(A,W){var U=A.sortIndex-W.sortIndex;return U!==0?U:A.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,d=null,h=3,f=!1,p=!1,m=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(A){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=A)r(u),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(u)}}function _(A){if(m=!1,v(A),!p)if(n(l)!==null)p=!0,j(S);else{var W=n(u);W!==null&&Q(_,W.startTime-A)}}function S(A,W){p=!1,m&&(m=!1,g(R),R=-1),f=!0;var U=h;try{for(v(W),d=n(l);d!==null&&(!(d.expirationTime>W)||A&&!T());){var q=d.callback;if(typeof q=="function"){d.callback=null,h=d.priorityLevel;var Z=q(d.expirationTime<=W);W=t.unstable_now(),typeof Z=="function"?d.callback=Z:d===n(l)&&r(l),v(W)}else r(l);d=n(l)}if(d!==null)var _e=!0;else{var se=n(u);se!==null&&Q(_,se.startTime-W),_e=!1}return _e}finally{d=null,h=U,f=!1}}var C=!1,I=null,R=-1,B=5,P=-1;function T(){return!(t.unstable_now()-P<B)}function N(){if(I!==null){var A=t.unstable_now();P=A;var W=!0;try{W=I(!0,A)}finally{W?$():(C=!1,I=null)}}else C=!1}var $;if(typeof y=="function")$=function(){y(N)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,V=F.port2;F.port1.onmessage=N,$=function(){V.postMessage(null)}}else $=function(){b(N,0)};function j(A){I=A,C||(C=!0,$())}function Q(A,W){R=b(function(){A(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,j(S))},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<A?Math.floor(1e3/A):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(A){switch(h){case 1:case 2:case 3:var W=3;break;default:W=h}var U=h;h=W;try{return A()}finally{h=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(A,W){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var U=h;h=A;try{return W()}finally{h=U}},t.unstable_scheduleCallback=function(A,W,U){var q=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?q+U:q):U=q,A){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=U+Z,A={id:c++,callback:W,priorityLevel:A,startTime:U,expirationTime:Z,sortIndex:-1},U>q?(A.sortIndex=U,e(u,A),n(l)===null&&A===n(u)&&(m?(g(R),R=-1):m=!0,Q(_,U-q))):(A.sortIndex=Z,e(l,A),p||f||(p=!0,j(S))),A},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(A){var W=h;return function(){var U=h;h=W;try{return A.apply(this,arguments)}finally{h=U}}}})(mR);(function(t){t.exports=mR})(K4);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gR=w,qn=E0;function K(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yR=new Set,Ju={};function qs(t,e){Qa(t,e),Qa(t+"Capture",e)}function Qa(t,e){for(Ju[t]=e,t=0;t<e.length;t++)yR.add(e[t])}var Ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),x0=Object.prototype.hasOwnProperty,Q4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fx={},px={};function Y4(t){return x0.call(px,t)?!0:x0.call(fx,t)?!1:Q4.test(t)?px[t]=!0:(fx[t]=!0,!1)}function X4(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function J4(t,e,n,r){if(e===null||typeof e>"u"||X4(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Rn(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var tn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){tn[t]=new Rn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];tn[e]=new Rn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){tn[t]=new Rn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){tn[t]=new Rn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){tn[t]=new Rn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){tn[t]=new Rn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){tn[t]=new Rn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){tn[t]=new Rn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){tn[t]=new Rn(t,5,!1,t.toLowerCase(),null,!1,!1)});var cw=/[\-:]([a-z])/g;function dw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(cw,dw);tn[e]=new Rn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(cw,dw);tn[e]=new Rn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(cw,dw);tn[e]=new Rn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){tn[t]=new Rn(t,1,!1,t.toLowerCase(),null,!1,!1)});tn.xlinkHref=new Rn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){tn[t]=new Rn(t,1,!1,t.toLowerCase(),null,!0,!0)});function hw(t,e,n,r){var i=tn.hasOwnProperty(e)?tn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(J4(e,n,i,r)&&(n=null),r||i===null?Y4(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Di=gR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fd=Symbol.for("react.element"),ha=Symbol.for("react.portal"),fa=Symbol.for("react.fragment"),fw=Symbol.for("react.strict_mode"),S0=Symbol.for("react.profiler"),vR=Symbol.for("react.provider"),bR=Symbol.for("react.context"),pw=Symbol.for("react.forward_ref"),T0=Symbol.for("react.suspense"),C0=Symbol.for("react.suspense_list"),mw=Symbol.for("react.memo"),Ki=Symbol.for("react.lazy"),wR=Symbol.for("react.offscreen"),mx=Symbol.iterator;function Vl(t){return t===null||typeof t!="object"?null:(t=mx&&t[mx]||t["@@iterator"],typeof t=="function"?t:null)}var mt=Object.assign,zg;function lu(t){if(zg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);zg=e&&e[1]||""}return`
`+zg+t}var Wg=!1;function Hg(t,e){if(!t||Wg)return"";Wg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Wg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?lu(t):""}function Z4(t){switch(t.tag){case 5:return lu(t.type);case 16:return lu("Lazy");case 13:return lu("Suspense");case 19:return lu("SuspenseList");case 0:case 2:case 15:return t=Hg(t.type,!1),t;case 11:return t=Hg(t.type.render,!1),t;case 1:return t=Hg(t.type,!0),t;default:return""}}function k0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case fa:return"Fragment";case ha:return"Portal";case S0:return"Profiler";case fw:return"StrictMode";case T0:return"Suspense";case C0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case bR:return(t.displayName||"Context")+".Consumer";case vR:return(t._context.displayName||"Context")+".Provider";case pw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case mw:return e=t.displayName||null,e!==null?e:k0(t.type)||"Memo";case Ki:e=t._payload,t=t._init;try{return k0(t(e))}catch{}}return null}function ej(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return k0(e);case 8:return e===fw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Oo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _R(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function tj(t){var e=_R(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function jd(t){t._valueTracker||(t._valueTracker=tj(t))}function ER(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=_R(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function nf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function I0(t,e){var n=e.checked;return mt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function gx(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Oo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function xR(t,e){e=e.checked,e!=null&&hw(t,"checked",e,!1)}function R0(t,e){xR(t,e);var n=Oo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?P0(t,e.type,n):e.hasOwnProperty("defaultValue")&&P0(t,e.type,Oo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function yx(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function P0(t,e,n){(e!=="number"||nf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var uu=Array.isArray;function Aa(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Oo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function O0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(K(91));return mt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function vx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(K(92));if(uu(n)){if(1<n.length)throw Error(K(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Oo(n)}}function SR(t,e){var n=Oo(e.value),r=Oo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function bx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function TR(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function A0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?TR(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ud,CR=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ud=Ud||document.createElement("div"),Ud.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ud.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Zu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var wu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nj=["Webkit","ms","Moz","O"];Object.keys(wu).forEach(function(t){nj.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),wu[e]=wu[t]})});function kR(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||wu.hasOwnProperty(t)&&wu[t]?(""+e).trim():e+"px"}function IR(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=kR(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var rj=mt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function N0(t,e){if(e){if(rj[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(K(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(K(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(K(61))}if(e.style!=null&&typeof e.style!="object")throw Error(K(62))}}function D0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var M0=null;function gw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var L0=null,Na=null,Da=null;function wx(t){if(t=Kc(t)){if(typeof L0!="function")throw Error(K(280));var e=t.stateNode;e&&(e=Hp(e),L0(t.stateNode,t.type,e))}}function RR(t){Na?Da?Da.push(t):Da=[t]:Na=t}function PR(){if(Na){var t=Na,e=Da;if(Da=Na=null,wx(t),e)for(t=0;t<e.length;t++)wx(e[t])}}function OR(t,e){return t(e)}function AR(){}var qg=!1;function NR(t,e,n){if(qg)return t(e,n);qg=!0;try{return OR(t,e,n)}finally{qg=!1,(Na!==null||Da!==null)&&(AR(),PR())}}function ec(t,e){var n=t.stateNode;if(n===null)return null;var r=Hp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(K(231,e,typeof n));return n}var $0=!1;if(Ei)try{var Bl={};Object.defineProperty(Bl,"passive",{get:function(){$0=!0}}),window.addEventListener("test",Bl,Bl),window.removeEventListener("test",Bl,Bl)}catch{$0=!1}function ij(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var _u=!1,rf=null,of=!1,F0=null,oj={onError:function(t){_u=!0,rf=t}};function sj(t,e,n,r,i,o,s,a,l){_u=!1,rf=null,ij.apply(oj,arguments)}function aj(t,e,n,r,i,o,s,a,l){if(sj.apply(this,arguments),_u){if(_u){var u=rf;_u=!1,rf=null}else throw Error(K(198));of||(of=!0,F0=u)}}function Gs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function DR(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function _x(t){if(Gs(t)!==t)throw Error(K(188))}function lj(t){var e=t.alternate;if(!e){if(e=Gs(t),e===null)throw Error(K(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return _x(i),t;if(o===r)return _x(i),e;o=o.sibling}throw Error(K(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(K(189))}}if(n.alternate!==r)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?t:e}function MR(t){return t=lj(t),t!==null?LR(t):null}function LR(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=LR(t);if(e!==null)return e;t=t.sibling}return null}var $R=qn.unstable_scheduleCallback,Ex=qn.unstable_cancelCallback,uj=qn.unstable_shouldYield,cj=qn.unstable_requestPaint,xt=qn.unstable_now,dj=qn.unstable_getCurrentPriorityLevel,yw=qn.unstable_ImmediatePriority,FR=qn.unstable_UserBlockingPriority,sf=qn.unstable_NormalPriority,hj=qn.unstable_LowPriority,jR=qn.unstable_IdlePriority,Vp=null,Wr=null;function fj(t){if(Wr&&typeof Wr.onCommitFiberRoot=="function")try{Wr.onCommitFiberRoot(Vp,t,void 0,(t.current.flags&128)===128)}catch{}}var Sr=Math.clz32?Math.clz32:gj,pj=Math.log,mj=Math.LN2;function gj(t){return t>>>=0,t===0?32:31-(pj(t)/mj|0)|0}var Vd=64,Bd=4194304;function cu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function af(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=cu(a):(o&=s,o!==0&&(r=cu(o)))}else s=n&~i,s!==0?r=cu(s):o!==0&&(r=cu(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Sr(e),i=1<<n,r|=t[n],e&=~i;return r}function yj(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vj(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Sr(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=yj(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function j0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function UR(){var t=Vd;return Vd<<=1,!(Vd&4194240)&&(Vd=64),t}function Gg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function qc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Sr(e),t[e]=n}function bj(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Sr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function vw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Sr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var We=0;function VR(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var BR,bw,zR,WR,HR,U0=!1,zd=[],lo=null,uo=null,co=null,tc=new Map,nc=new Map,Ji=[],wj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xx(t,e){switch(t){case"focusin":case"focusout":lo=null;break;case"dragenter":case"dragleave":uo=null;break;case"mouseover":case"mouseout":co=null;break;case"pointerover":case"pointerout":tc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":nc.delete(e.pointerId)}}function zl(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Kc(e),e!==null&&bw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function _j(t,e,n,r,i){switch(e){case"focusin":return lo=zl(lo,t,e,n,r,i),!0;case"dragenter":return uo=zl(uo,t,e,n,r,i),!0;case"mouseover":return co=zl(co,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return tc.set(o,zl(tc.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,nc.set(o,zl(nc.get(o)||null,t,e,n,r,i)),!0}return!1}function qR(t){var e=as(t.target);if(e!==null){var n=Gs(e);if(n!==null){if(e=n.tag,e===13){if(e=DR(n),e!==null){t.blockedOn=e,HR(t.priority,function(){zR(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Th(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=V0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);M0=r,n.target.dispatchEvent(r),M0=null}else return e=Kc(n),e!==null&&bw(e),t.blockedOn=n,!1;e.shift()}return!0}function Sx(t,e,n){Th(t)&&n.delete(e)}function Ej(){U0=!1,lo!==null&&Th(lo)&&(lo=null),uo!==null&&Th(uo)&&(uo=null),co!==null&&Th(co)&&(co=null),tc.forEach(Sx),nc.forEach(Sx)}function Wl(t,e){t.blockedOn===e&&(t.blockedOn=null,U0||(U0=!0,qn.unstable_scheduleCallback(qn.unstable_NormalPriority,Ej)))}function rc(t){function e(i){return Wl(i,t)}if(0<zd.length){Wl(zd[0],t);for(var n=1;n<zd.length;n++){var r=zd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(lo!==null&&Wl(lo,t),uo!==null&&Wl(uo,t),co!==null&&Wl(co,t),tc.forEach(e),nc.forEach(e),n=0;n<Ji.length;n++)r=Ji[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ji.length&&(n=Ji[0],n.blockedOn===null);)qR(n),n.blockedOn===null&&Ji.shift()}var Ma=Di.ReactCurrentBatchConfig,lf=!0;function xj(t,e,n,r){var i=We,o=Ma.transition;Ma.transition=null;try{We=1,ww(t,e,n,r)}finally{We=i,Ma.transition=o}}function Sj(t,e,n,r){var i=We,o=Ma.transition;Ma.transition=null;try{We=4,ww(t,e,n,r)}finally{We=i,Ma.transition=o}}function ww(t,e,n,r){if(lf){var i=V0(t,e,n,r);if(i===null)ry(t,e,r,uf,n),xx(t,r);else if(_j(i,t,e,n,r))r.stopPropagation();else if(xx(t,r),e&4&&-1<wj.indexOf(t)){for(;i!==null;){var o=Kc(i);if(o!==null&&BR(o),o=V0(t,e,n,r),o===null&&ry(t,e,r,uf,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else ry(t,e,r,null,n)}}var uf=null;function V0(t,e,n,r){if(uf=null,t=gw(r),t=as(t),t!==null)if(e=Gs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=DR(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return uf=t,null}function GR(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dj()){case yw:return 1;case FR:return 4;case sf:case hj:return 16;case jR:return 536870912;default:return 16}default:return 16}}var oo=null,_w=null,Ch=null;function KR(){if(Ch)return Ch;var t,e=_w,n=e.length,r,i="value"in oo?oo.value:oo.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Ch=i.slice(t,1<r?1-r:void 0)}function kh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Wd(){return!0}function Tx(){return!1}function Xn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Wd:Tx,this.isPropagationStopped=Tx,this}return mt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Wd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Wd)},persist:function(){},isPersistent:Wd}),e}var _l={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ew=Xn(_l),Gc=mt({},_l,{view:0,detail:0}),Tj=Xn(Gc),Kg,Qg,Hl,Bp=mt({},Gc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Hl&&(Hl&&t.type==="mousemove"?(Kg=t.screenX-Hl.screenX,Qg=t.screenY-Hl.screenY):Qg=Kg=0,Hl=t),Kg)},movementY:function(t){return"movementY"in t?t.movementY:Qg}}),Cx=Xn(Bp),Cj=mt({},Bp,{dataTransfer:0}),kj=Xn(Cj),Ij=mt({},Gc,{relatedTarget:0}),Yg=Xn(Ij),Rj=mt({},_l,{animationName:0,elapsedTime:0,pseudoElement:0}),Pj=Xn(Rj),Oj=mt({},_l,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Aj=Xn(Oj),Nj=mt({},_l,{data:0}),kx=Xn(Nj),Dj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $j(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Lj[t])?!!e[t]:!1}function xw(){return $j}var Fj=mt({},Gc,{key:function(t){if(t.key){var e=Dj[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=kh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Mj[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xw,charCode:function(t){return t.type==="keypress"?kh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?kh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),jj=Xn(Fj),Uj=mt({},Bp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ix=Xn(Uj),Vj=mt({},Gc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xw}),Bj=Xn(Vj),zj=mt({},_l,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wj=Xn(zj),Hj=mt({},Bp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),qj=Xn(Hj),Gj=[9,13,27,32],Sw=Ei&&"CompositionEvent"in window,Eu=null;Ei&&"documentMode"in document&&(Eu=document.documentMode);var Kj=Ei&&"TextEvent"in window&&!Eu,QR=Ei&&(!Sw||Eu&&8<Eu&&11>=Eu),Rx=String.fromCharCode(32),Px=!1;function YR(t,e){switch(t){case"keyup":return Gj.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function XR(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var pa=!1;function Qj(t,e){switch(t){case"compositionend":return XR(e);case"keypress":return e.which!==32?null:(Px=!0,Rx);case"textInput":return t=e.data,t===Rx&&Px?null:t;default:return null}}function Yj(t,e){if(pa)return t==="compositionend"||!Sw&&YR(t,e)?(t=KR(),Ch=_w=oo=null,pa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return QR&&e.locale!=="ko"?null:e.data;default:return null}}var Xj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ox(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Xj[t.type]:e==="textarea"}function JR(t,e,n,r){RR(r),e=cf(e,"onChange"),0<e.length&&(n=new Ew("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var xu=null,ic=null;function Jj(t){uP(t,0)}function zp(t){var e=ya(t);if(ER(e))return t}function Zj(t,e){if(t==="change")return e}var ZR=!1;if(Ei){var Xg;if(Ei){var Jg="oninput"in document;if(!Jg){var Ax=document.createElement("div");Ax.setAttribute("oninput","return;"),Jg=typeof Ax.oninput=="function"}Xg=Jg}else Xg=!1;ZR=Xg&&(!document.documentMode||9<document.documentMode)}function Nx(){xu&&(xu.detachEvent("onpropertychange",eP),ic=xu=null)}function eP(t){if(t.propertyName==="value"&&zp(ic)){var e=[];JR(e,ic,t,gw(t)),NR(Jj,e)}}function eU(t,e,n){t==="focusin"?(Nx(),xu=e,ic=n,xu.attachEvent("onpropertychange",eP)):t==="focusout"&&Nx()}function tU(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zp(ic)}function nU(t,e){if(t==="click")return zp(e)}function rU(t,e){if(t==="input"||t==="change")return zp(e)}function iU(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ir=typeof Object.is=="function"?Object.is:iU;function oc(t,e){if(Ir(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!x0.call(e,i)||!Ir(t[i],e[i]))return!1}return!0}function Dx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Mx(t,e){var n=Dx(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Dx(n)}}function tP(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?tP(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function nP(){for(var t=window,e=nf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=nf(t.document)}return e}function Tw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function oU(t){var e=nP(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&tP(n.ownerDocument.documentElement,n)){if(r!==null&&Tw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Mx(n,o);var s=Mx(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var sU=Ei&&"documentMode"in document&&11>=document.documentMode,ma=null,B0=null,Su=null,z0=!1;function Lx(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;z0||ma==null||ma!==nf(r)||(r=ma,"selectionStart"in r&&Tw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Su&&oc(Su,r)||(Su=r,r=cf(B0,"onSelect"),0<r.length&&(e=new Ew("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ma)))}function Hd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ga={animationend:Hd("Animation","AnimationEnd"),animationiteration:Hd("Animation","AnimationIteration"),animationstart:Hd("Animation","AnimationStart"),transitionend:Hd("Transition","TransitionEnd")},Zg={},rP={};Ei&&(rP=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function Wp(t){if(Zg[t])return Zg[t];if(!ga[t])return t;var e=ga[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in rP)return Zg[t]=e[n];return t}var iP=Wp("animationend"),oP=Wp("animationiteration"),sP=Wp("animationstart"),aP=Wp("transitionend"),lP=new Map,$x="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wo(t,e){lP.set(t,e),qs(e,[t])}for(var ey=0;ey<$x.length;ey++){var ty=$x[ey],aU=ty.toLowerCase(),lU=ty[0].toUpperCase()+ty.slice(1);Wo(aU,"on"+lU)}Wo(iP,"onAnimationEnd");Wo(oP,"onAnimationIteration");Wo(sP,"onAnimationStart");Wo("dblclick","onDoubleClick");Wo("focusin","onFocus");Wo("focusout","onBlur");Wo(aP,"onTransitionEnd");Qa("onMouseEnter",["mouseout","mouseover"]);Qa("onMouseLeave",["mouseout","mouseover"]);Qa("onPointerEnter",["pointerout","pointerover"]);Qa("onPointerLeave",["pointerout","pointerover"]);qs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qs("onBeforeInput",["compositionend","keypress","textInput","paste"]);qs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uU=new Set("cancel close invalid load scroll toggle".split(" ").concat(du));function Fx(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,aj(r,e,void 0,t),t.currentTarget=null}function uP(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Fx(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Fx(i,a,u),o=l}}}if(of)throw t=F0,of=!1,F0=null,t}function et(t,e){var n=e[K0];n===void 0&&(n=e[K0]=new Set);var r=t+"__bubble";n.has(r)||(cP(e,t,2,!1),n.add(r))}function ny(t,e,n){var r=0;e&&(r|=4),cP(n,t,r,e)}var qd="_reactListening"+Math.random().toString(36).slice(2);function sc(t){if(!t[qd]){t[qd]=!0,yR.forEach(function(n){n!=="selectionchange"&&(uU.has(n)||ny(n,!1,t),ny(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[qd]||(e[qd]=!0,ny("selectionchange",!1,e))}}function cP(t,e,n,r){switch(GR(e)){case 1:var i=xj;break;case 4:i=Sj;break;default:i=ww}n=i.bind(null,e,n,t),i=void 0,!$0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ry(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=as(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}NR(function(){var u=o,c=gw(n),d=[];e:{var h=lP.get(t);if(h!==void 0){var f=Ew,p=t;switch(t){case"keypress":if(kh(n)===0)break e;case"keydown":case"keyup":f=jj;break;case"focusin":p="focus",f=Yg;break;case"focusout":p="blur",f=Yg;break;case"beforeblur":case"afterblur":f=Yg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Cx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=kj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=Bj;break;case iP:case oP:case sP:f=Pj;break;case aP:f=Wj;break;case"scroll":f=Tj;break;case"wheel":f=qj;break;case"copy":case"cut":case"paste":f=Aj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Ix}var m=(e&4)!==0,b=!m&&t==="scroll",g=m?h!==null?h+"Capture":null:h;m=[];for(var y=u,v;y!==null;){v=y;var _=v.stateNode;if(v.tag===5&&_!==null&&(v=_,g!==null&&(_=ec(y,g),_!=null&&m.push(ac(y,_,v)))),b)break;y=y.return}0<m.length&&(h=new f(h,p,null,n,c),d.push({event:h,listeners:m}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==M0&&(p=n.relatedTarget||n.fromElement)&&(as(p)||p[xi]))break e;if((f||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=u,p=p?as(p):null,p!==null&&(b=Gs(p),p!==b||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=u),f!==p)){if(m=Cx,_="onMouseLeave",g="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(m=Ix,_="onPointerLeave",g="onPointerEnter",y="pointer"),b=f==null?h:ya(f),v=p==null?h:ya(p),h=new m(_,y+"leave",f,n,c),h.target=b,h.relatedTarget=v,_=null,as(c)===u&&(m=new m(g,y+"enter",p,n,c),m.target=v,m.relatedTarget=b,_=m),b=_,f&&p)t:{for(m=f,g=p,y=0,v=m;v;v=sa(v))y++;for(v=0,_=g;_;_=sa(_))v++;for(;0<y-v;)m=sa(m),y--;for(;0<v-y;)g=sa(g),v--;for(;y--;){if(m===g||g!==null&&m===g.alternate)break t;m=sa(m),g=sa(g)}m=null}else m=null;f!==null&&jx(d,h,f,m,!1),p!==null&&b!==null&&jx(d,b,p,m,!0)}}e:{if(h=u?ya(u):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var S=Zj;else if(Ox(h))if(ZR)S=rU;else{S=tU;var C=eU}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=nU);if(S&&(S=S(t,u))){JR(d,S,n,c);break e}C&&C(t,h,u),t==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&P0(h,"number",h.value)}switch(C=u?ya(u):window,t){case"focusin":(Ox(C)||C.contentEditable==="true")&&(ma=C,B0=u,Su=null);break;case"focusout":Su=B0=ma=null;break;case"mousedown":z0=!0;break;case"contextmenu":case"mouseup":case"dragend":z0=!1,Lx(d,n,c);break;case"selectionchange":if(sU)break;case"keydown":case"keyup":Lx(d,n,c)}var I;if(Sw)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else pa?YR(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(QR&&n.locale!=="ko"&&(pa||R!=="onCompositionStart"?R==="onCompositionEnd"&&pa&&(I=KR()):(oo=c,_w="value"in oo?oo.value:oo.textContent,pa=!0)),C=cf(u,R),0<C.length&&(R=new kx(R,t,null,n,c),d.push({event:R,listeners:C}),I?R.data=I:(I=XR(n),I!==null&&(R.data=I)))),(I=Kj?Qj(t,n):Yj(t,n))&&(u=cf(u,"onBeforeInput"),0<u.length&&(c=new kx("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=I))}uP(d,e)})}function ac(t,e,n){return{instance:t,listener:e,currentTarget:n}}function cf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=ec(t,n),o!=null&&r.unshift(ac(t,o,i)),o=ec(t,e),o!=null&&r.push(ac(t,o,i))),t=t.return}return r}function sa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function jx(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=ec(n,o),l!=null&&s.unshift(ac(n,l,a))):i||(l=ec(n,o),l!=null&&s.push(ac(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var cU=/\r\n?/g,dU=/\u0000|\uFFFD/g;function Ux(t){return(typeof t=="string"?t:""+t).replace(cU,`
`).replace(dU,"")}function Gd(t,e,n){if(e=Ux(e),Ux(t)!==e&&n)throw Error(K(425))}function df(){}var W0=null,H0=null;function q0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var G0=typeof setTimeout=="function"?setTimeout:void 0,hU=typeof clearTimeout=="function"?clearTimeout:void 0,Vx=typeof Promise=="function"?Promise:void 0,fU=typeof queueMicrotask=="function"?queueMicrotask:typeof Vx<"u"?function(t){return Vx.resolve(null).then(t).catch(pU)}:G0;function pU(t){setTimeout(function(){throw t})}function iy(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),rc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);rc(e)}function ho(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Bx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var El=Math.random().toString(36).slice(2),jr="__reactFiber$"+El,lc="__reactProps$"+El,xi="__reactContainer$"+El,K0="__reactEvents$"+El,mU="__reactListeners$"+El,gU="__reactHandles$"+El;function as(t){var e=t[jr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[xi]||n[jr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Bx(t);t!==null;){if(n=t[jr])return n;t=Bx(t)}return e}t=n,n=t.parentNode}return null}function Kc(t){return t=t[jr]||t[xi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ya(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(K(33))}function Hp(t){return t[lc]||null}var Q0=[],va=-1;function Ho(t){return{current:t}}function it(t){0>va||(t.current=Q0[va],Q0[va]=null,va--)}function Xe(t,e){va++,Q0[va]=t.current,t.current=e}var Ao={},bn=Ho(Ao),Mn=Ho(!1),Is=Ao;function Ya(t,e){var n=t.type.contextTypes;if(!n)return Ao;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ln(t){return t=t.childContextTypes,t!=null}function hf(){it(Mn),it(bn)}function zx(t,e,n){if(bn.current!==Ao)throw Error(K(168));Xe(bn,e),Xe(Mn,n)}function dP(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(K(108,ej(t)||"Unknown",i));return mt({},n,r)}function ff(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ao,Is=bn.current,Xe(bn,t),Xe(Mn,Mn.current),!0}function Wx(t,e,n){var r=t.stateNode;if(!r)throw Error(K(169));n?(t=dP(t,e,Is),r.__reactInternalMemoizedMergedChildContext=t,it(Mn),it(bn),Xe(bn,t)):it(Mn),Xe(Mn,n)}var si=null,qp=!1,oy=!1;function hP(t){si===null?si=[t]:si.push(t)}function yU(t){qp=!0,hP(t)}function qo(){if(!oy&&si!==null){oy=!0;var t=0,e=We;try{var n=si;for(We=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}si=null,qp=!1}catch(i){throw si!==null&&(si=si.slice(t+1)),$R(yw,qo),i}finally{We=e,oy=!1}}return null}var ba=[],wa=0,pf=null,mf=0,er=[],tr=0,Rs=null,li=1,ui="";function Zo(t,e){ba[wa++]=mf,ba[wa++]=pf,pf=t,mf=e}function fP(t,e,n){er[tr++]=li,er[tr++]=ui,er[tr++]=Rs,Rs=t;var r=li;t=ui;var i=32-Sr(r)-1;r&=~(1<<i),n+=1;var o=32-Sr(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,li=1<<32-Sr(e)+i|n<<i|r,ui=o+t}else li=1<<o|n<<i|r,ui=t}function Cw(t){t.return!==null&&(Zo(t,1),fP(t,1,0))}function kw(t){for(;t===pf;)pf=ba[--wa],ba[wa]=null,mf=ba[--wa],ba[wa]=null;for(;t===Rs;)Rs=er[--tr],er[tr]=null,ui=er[--tr],er[tr]=null,li=er[--tr],er[tr]=null}var zn=null,Un=null,lt=!1,br=null;function pP(t,e){var n=rr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Hx(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,zn=t,Un=ho(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,zn=t,Un=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Rs!==null?{id:li,overflow:ui}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=rr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,zn=t,Un=null,!0):!1;default:return!1}}function Y0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function X0(t){if(lt){var e=Un;if(e){var n=e;if(!Hx(t,e)){if(Y0(t))throw Error(K(418));e=ho(n.nextSibling);var r=zn;e&&Hx(t,e)?pP(r,n):(t.flags=t.flags&-4097|2,lt=!1,zn=t)}}else{if(Y0(t))throw Error(K(418));t.flags=t.flags&-4097|2,lt=!1,zn=t}}}function qx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;zn=t}function Kd(t){if(t!==zn)return!1;if(!lt)return qx(t),lt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!q0(t.type,t.memoizedProps)),e&&(e=Un)){if(Y0(t))throw mP(),Error(K(418));for(;e;)pP(t,e),e=ho(e.nextSibling)}if(qx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(K(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Un=ho(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Un=null}}else Un=zn?ho(t.stateNode.nextSibling):null;return!0}function mP(){for(var t=Un;t;)t=ho(t.nextSibling)}function Xa(){Un=zn=null,lt=!1}function Iw(t){br===null?br=[t]:br.push(t)}var vU=Di.ReactCurrentBatchConfig;function yr(t,e){if(t&&t.defaultProps){e=mt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var gf=Ho(null),yf=null,_a=null,Rw=null;function Pw(){Rw=_a=yf=null}function Ow(t){var e=gf.current;it(gf),t._currentValue=e}function J0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function La(t,e){yf=t,Rw=_a=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Nn=!0),t.firstContext=null)}function ar(t){var e=t._currentValue;if(Rw!==t)if(t={context:t,memoizedValue:e,next:null},_a===null){if(yf===null)throw Error(K(308));_a=t,yf.dependencies={lanes:0,firstContext:t}}else _a=_a.next=t;return e}var ls=null;function Aw(t){ls===null?ls=[t]:ls.push(t)}function gP(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Aw(e)):(n.next=i.next,i.next=n),e.interleaved=n,Si(t,r)}function Si(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Qi=!1;function Nw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yP(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function gi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function fo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Fe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Si(t,n)}return i=r.interleaved,i===null?(e.next=e,Aw(r)):(e.next=i.next,i.next=e),r.interleaved=e,Si(t,n)}function Ih(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,vw(t,n)}}function Gx(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function vf(t,e,n,r){var i=t.updateQueue;Qi=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,c=u=l=null,a=o;do{var h=a.lane,f=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,m=a;switch(h=e,f=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,h=typeof p=="function"?p.call(f,d,h):p,h==null)break e;d=mt({},d,h);break e;case 2:Qi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=d):c=c.next=f,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Os|=s,t.lanes=s,t.memoizedState=d}}function Kx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(K(191,i));i.call(r)}}}var vP=new gR.Component().refs;function Z0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:mt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Gp={isMounted:function(t){return(t=t._reactInternals)?Gs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Cn(),i=mo(t),o=gi(r,i);o.payload=e,n!=null&&(o.callback=n),e=fo(t,o,i),e!==null&&(Tr(e,t,i,r),Ih(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Cn(),i=mo(t),o=gi(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=fo(t,o,i),e!==null&&(Tr(e,t,i,r),Ih(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Cn(),r=mo(t),i=gi(n,r);i.tag=2,e!=null&&(i.callback=e),e=fo(t,i,r),e!==null&&(Tr(e,t,r,n),Ih(e,t,r))}};function Qx(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!oc(n,r)||!oc(i,o):!0}function bP(t,e,n){var r=!1,i=Ao,o=e.contextType;return typeof o=="object"&&o!==null?o=ar(o):(i=Ln(e)?Is:bn.current,r=e.contextTypes,o=(r=r!=null)?Ya(t,i):Ao),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Gp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Yx(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Gp.enqueueReplaceState(e,e.state,null)}function ev(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=vP,Nw(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=ar(o):(o=Ln(e)?Is:bn.current,i.context=Ya(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Z0(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Gp.enqueueReplaceState(i,i.state,null),vf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ql(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var r=n.stateNode}if(!r)throw Error(K(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===vP&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,t))}return t}function Qd(t,e){throw t=Object.prototype.toString.call(e),Error(K(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Xx(t){var e=t._init;return e(t._payload)}function wP(t){function e(g,y){if(t){var v=g.deletions;v===null?(g.deletions=[y],g.flags|=16):v.push(y)}}function n(g,y){if(!t)return null;for(;y!==null;)e(g,y),y=y.sibling;return null}function r(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function i(g,y){return g=go(g,y),g.index=0,g.sibling=null,g}function o(g,y,v){return g.index=v,t?(v=g.alternate,v!==null?(v=v.index,v<y?(g.flags|=2,y):v):(g.flags|=2,y)):(g.flags|=1048576,y)}function s(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,y,v,_){return y===null||y.tag!==6?(y=hy(v,g.mode,_),y.return=g,y):(y=i(y,v),y.return=g,y)}function l(g,y,v,_){var S=v.type;return S===fa?c(g,y,v.props.children,_,v.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ki&&Xx(S)===y.type)?(_=i(y,v.props),_.ref=ql(g,y,v),_.return=g,_):(_=Dh(v.type,v.key,v.props,null,g.mode,_),_.ref=ql(g,y,v),_.return=g,_)}function u(g,y,v,_){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=fy(v,g.mode,_),y.return=g,y):(y=i(y,v.children||[]),y.return=g,y)}function c(g,y,v,_,S){return y===null||y.tag!==7?(y=Es(v,g.mode,_,S),y.return=g,y):(y=i(y,v),y.return=g,y)}function d(g,y,v){if(typeof y=="string"&&y!==""||typeof y=="number")return y=hy(""+y,g.mode,v),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Fd:return v=Dh(y.type,y.key,y.props,null,g.mode,v),v.ref=ql(g,null,y),v.return=g,v;case ha:return y=fy(y,g.mode,v),y.return=g,y;case Ki:var _=y._init;return d(g,_(y._payload),v)}if(uu(y)||Vl(y))return y=Es(y,g.mode,v,null),y.return=g,y;Qd(g,y)}return null}function h(g,y,v,_){var S=y!==null?y.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return S!==null?null:a(g,y,""+v,_);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Fd:return v.key===S?l(g,y,v,_):null;case ha:return v.key===S?u(g,y,v,_):null;case Ki:return S=v._init,h(g,y,S(v._payload),_)}if(uu(v)||Vl(v))return S!==null?null:c(g,y,v,_,null);Qd(g,v)}return null}function f(g,y,v,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return g=g.get(v)||null,a(y,g,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Fd:return g=g.get(_.key===null?v:_.key)||null,l(y,g,_,S);case ha:return g=g.get(_.key===null?v:_.key)||null,u(y,g,_,S);case Ki:var C=_._init;return f(g,y,v,C(_._payload),S)}if(uu(_)||Vl(_))return g=g.get(v)||null,c(y,g,_,S,null);Qd(y,_)}return null}function p(g,y,v,_){for(var S=null,C=null,I=y,R=y=0,B=null;I!==null&&R<v.length;R++){I.index>R?(B=I,I=null):B=I.sibling;var P=h(g,I,v[R],_);if(P===null){I===null&&(I=B);break}t&&I&&P.alternate===null&&e(g,I),y=o(P,y,R),C===null?S=P:C.sibling=P,C=P,I=B}if(R===v.length)return n(g,I),lt&&Zo(g,R),S;if(I===null){for(;R<v.length;R++)I=d(g,v[R],_),I!==null&&(y=o(I,y,R),C===null?S=I:C.sibling=I,C=I);return lt&&Zo(g,R),S}for(I=r(g,I);R<v.length;R++)B=f(I,g,R,v[R],_),B!==null&&(t&&B.alternate!==null&&I.delete(B.key===null?R:B.key),y=o(B,y,R),C===null?S=B:C.sibling=B,C=B);return t&&I.forEach(function(T){return e(g,T)}),lt&&Zo(g,R),S}function m(g,y,v,_){var S=Vl(v);if(typeof S!="function")throw Error(K(150));if(v=S.call(v),v==null)throw Error(K(151));for(var C=S=null,I=y,R=y=0,B=null,P=v.next();I!==null&&!P.done;R++,P=v.next()){I.index>R?(B=I,I=null):B=I.sibling;var T=h(g,I,P.value,_);if(T===null){I===null&&(I=B);break}t&&I&&T.alternate===null&&e(g,I),y=o(T,y,R),C===null?S=T:C.sibling=T,C=T,I=B}if(P.done)return n(g,I),lt&&Zo(g,R),S;if(I===null){for(;!P.done;R++,P=v.next())P=d(g,P.value,_),P!==null&&(y=o(P,y,R),C===null?S=P:C.sibling=P,C=P);return lt&&Zo(g,R),S}for(I=r(g,I);!P.done;R++,P=v.next())P=f(I,g,R,P.value,_),P!==null&&(t&&P.alternate!==null&&I.delete(P.key===null?R:P.key),y=o(P,y,R),C===null?S=P:C.sibling=P,C=P);return t&&I.forEach(function(N){return e(g,N)}),lt&&Zo(g,R),S}function b(g,y,v,_){if(typeof v=="object"&&v!==null&&v.type===fa&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Fd:e:{for(var S=v.key,C=y;C!==null;){if(C.key===S){if(S=v.type,S===fa){if(C.tag===7){n(g,C.sibling),y=i(C,v.props.children),y.return=g,g=y;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ki&&Xx(S)===C.type){n(g,C.sibling),y=i(C,v.props),y.ref=ql(g,C,v),y.return=g,g=y;break e}n(g,C);break}else e(g,C);C=C.sibling}v.type===fa?(y=Es(v.props.children,g.mode,_,v.key),y.return=g,g=y):(_=Dh(v.type,v.key,v.props,null,g.mode,_),_.ref=ql(g,y,v),_.return=g,g=_)}return s(g);case ha:e:{for(C=v.key;y!==null;){if(y.key===C)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){n(g,y.sibling),y=i(y,v.children||[]),y.return=g,g=y;break e}else{n(g,y);break}else e(g,y);y=y.sibling}y=fy(v,g.mode,_),y.return=g,g=y}return s(g);case Ki:return C=v._init,b(g,y,C(v._payload),_)}if(uu(v))return p(g,y,v,_);if(Vl(v))return m(g,y,v,_);Qd(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,y!==null&&y.tag===6?(n(g,y.sibling),y=i(y,v),y.return=g,g=y):(n(g,y),y=hy(v,g.mode,_),y.return=g,g=y),s(g)):n(g,y)}return b}var Ja=wP(!0),_P=wP(!1),Qc={},Hr=Ho(Qc),uc=Ho(Qc),cc=Ho(Qc);function us(t){if(t===Qc)throw Error(K(174));return t}function Dw(t,e){switch(Xe(cc,e),Xe(uc,t),Xe(Hr,Qc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:A0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=A0(e,t)}it(Hr),Xe(Hr,e)}function Za(){it(Hr),it(uc),it(cc)}function EP(t){us(cc.current);var e=us(Hr.current),n=A0(e,t.type);e!==n&&(Xe(uc,t),Xe(Hr,n))}function Mw(t){uc.current===t&&(it(Hr),it(uc))}var ht=Ho(0);function bf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var sy=[];function Lw(){for(var t=0;t<sy.length;t++)sy[t]._workInProgressVersionPrimary=null;sy.length=0}var Rh=Di.ReactCurrentDispatcher,ay=Di.ReactCurrentBatchConfig,Ps=0,pt=null,Nt=null,Vt=null,wf=!1,Tu=!1,dc=0,bU=0;function rn(){throw Error(K(321))}function $w(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ir(t[n],e[n]))return!1;return!0}function Fw(t,e,n,r,i,o){if(Ps=o,pt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Rh.current=t===null||t.memoizedState===null?xU:SU,t=n(r,i),Tu){o=0;do{if(Tu=!1,dc=0,25<=o)throw Error(K(301));o+=1,Vt=Nt=null,e.updateQueue=null,Rh.current=TU,t=n(r,i)}while(Tu)}if(Rh.current=_f,e=Nt!==null&&Nt.next!==null,Ps=0,Vt=Nt=pt=null,wf=!1,e)throw Error(K(300));return t}function jw(){var t=dc!==0;return dc=0,t}function Lr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?pt.memoizedState=Vt=t:Vt=Vt.next=t,Vt}function lr(){if(Nt===null){var t=pt.alternate;t=t!==null?t.memoizedState:null}else t=Nt.next;var e=Vt===null?pt.memoizedState:Vt.next;if(e!==null)Vt=e,Nt=t;else{if(t===null)throw Error(K(310));Nt=t,t={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},Vt===null?pt.memoizedState=Vt=t:Vt=Vt.next=t}return Vt}function hc(t,e){return typeof e=="function"?e(t):e}function ly(t){var e=lr(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=Nt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((Ps&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,pt.lanes|=c,Os|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,Ir(r,e.memoizedState)||(Nn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,pt.lanes|=o,Os|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function uy(t){var e=lr(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Ir(o,e.memoizedState)||(Nn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function xP(){}function SP(t,e){var n=pt,r=lr(),i=e(),o=!Ir(r.memoizedState,i);if(o&&(r.memoizedState=i,Nn=!0),r=r.queue,Uw(kP.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Vt!==null&&Vt.memoizedState.tag&1){if(n.flags|=2048,fc(9,CP.bind(null,n,r,i,e),void 0,null),Ht===null)throw Error(K(349));Ps&30||TP(n,e,i)}return i}function TP(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=pt.updateQueue,e===null?(e={lastEffect:null,stores:null},pt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function CP(t,e,n,r){e.value=n,e.getSnapshot=r,IP(e)&&RP(t)}function kP(t,e,n){return n(function(){IP(e)&&RP(t)})}function IP(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ir(t,n)}catch{return!0}}function RP(t){var e=Si(t,1);e!==null&&Tr(e,t,1,-1)}function Jx(t){var e=Lr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hc,lastRenderedState:t},e.queue=t,t=t.dispatch=EU.bind(null,pt,t),[e.memoizedState,t]}function fc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=pt.updateQueue,e===null?(e={lastEffect:null,stores:null},pt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function PP(){return lr().memoizedState}function Ph(t,e,n,r){var i=Lr();pt.flags|=t,i.memoizedState=fc(1|e,n,void 0,r===void 0?null:r)}function Kp(t,e,n,r){var i=lr();r=r===void 0?null:r;var o=void 0;if(Nt!==null){var s=Nt.memoizedState;if(o=s.destroy,r!==null&&$w(r,s.deps)){i.memoizedState=fc(e,n,o,r);return}}pt.flags|=t,i.memoizedState=fc(1|e,n,o,r)}function Zx(t,e){return Ph(8390656,8,t,e)}function Uw(t,e){return Kp(2048,8,t,e)}function OP(t,e){return Kp(4,2,t,e)}function AP(t,e){return Kp(4,4,t,e)}function NP(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function DP(t,e,n){return n=n!=null?n.concat([t]):null,Kp(4,4,NP.bind(null,e,t),n)}function Vw(){}function MP(t,e){var n=lr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&$w(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function LP(t,e){var n=lr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&$w(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function $P(t,e,n){return Ps&21?(Ir(n,e)||(n=UR(),pt.lanes|=n,Os|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Nn=!0),t.memoizedState=n)}function wU(t,e){var n=We;We=n!==0&&4>n?n:4,t(!0);var r=ay.transition;ay.transition={};try{t(!1),e()}finally{We=n,ay.transition=r}}function FP(){return lr().memoizedState}function _U(t,e,n){var r=mo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},jP(t))UP(e,n);else if(n=gP(t,e,n,r),n!==null){var i=Cn();Tr(n,t,r,i),VP(n,e,r)}}function EU(t,e,n){var r=mo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(jP(t))UP(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Ir(a,s)){var l=e.interleaved;l===null?(i.next=i,Aw(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=gP(t,e,i,r),n!==null&&(i=Cn(),Tr(n,t,r,i),VP(n,e,r))}}function jP(t){var e=t.alternate;return t===pt||e!==null&&e===pt}function UP(t,e){Tu=wf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function VP(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,vw(t,n)}}var _f={readContext:ar,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useInsertionEffect:rn,useLayoutEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useMutableSource:rn,useSyncExternalStore:rn,useId:rn,unstable_isNewReconciler:!1},xU={readContext:ar,useCallback:function(t,e){return Lr().memoizedState=[t,e===void 0?null:e],t},useContext:ar,useEffect:Zx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ph(4194308,4,NP.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ph(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ph(4,2,t,e)},useMemo:function(t,e){var n=Lr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Lr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=_U.bind(null,pt,t),[r.memoizedState,t]},useRef:function(t){var e=Lr();return t={current:t},e.memoizedState=t},useState:Jx,useDebugValue:Vw,useDeferredValue:function(t){return Lr().memoizedState=t},useTransition:function(){var t=Jx(!1),e=t[0];return t=wU.bind(null,t[1]),Lr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=pt,i=Lr();if(lt){if(n===void 0)throw Error(K(407));n=n()}else{if(n=e(),Ht===null)throw Error(K(349));Ps&30||TP(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Zx(kP.bind(null,r,o,t),[t]),r.flags|=2048,fc(9,CP.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Lr(),e=Ht.identifierPrefix;if(lt){var n=ui,r=li;n=(r&~(1<<32-Sr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=dc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=bU++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},SU={readContext:ar,useCallback:MP,useContext:ar,useEffect:Uw,useImperativeHandle:DP,useInsertionEffect:OP,useLayoutEffect:AP,useMemo:LP,useReducer:ly,useRef:PP,useState:function(){return ly(hc)},useDebugValue:Vw,useDeferredValue:function(t){var e=lr();return $P(e,Nt.memoizedState,t)},useTransition:function(){var t=ly(hc)[0],e=lr().memoizedState;return[t,e]},useMutableSource:xP,useSyncExternalStore:SP,useId:FP,unstable_isNewReconciler:!1},TU={readContext:ar,useCallback:MP,useContext:ar,useEffect:Uw,useImperativeHandle:DP,useInsertionEffect:OP,useLayoutEffect:AP,useMemo:LP,useReducer:uy,useRef:PP,useState:function(){return uy(hc)},useDebugValue:Vw,useDeferredValue:function(t){var e=lr();return Nt===null?e.memoizedState=t:$P(e,Nt.memoizedState,t)},useTransition:function(){var t=uy(hc)[0],e=lr().memoizedState;return[t,e]},useMutableSource:xP,useSyncExternalStore:SP,useId:FP,unstable_isNewReconciler:!1};function el(t,e){try{var n="",r=e;do n+=Z4(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function cy(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function tv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var CU=typeof WeakMap=="function"?WeakMap:Map;function BP(t,e,n){n=gi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){xf||(xf=!0,dv=r),tv(t,e)},n}function zP(t,e,n){n=gi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){tv(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){tv(t,e),typeof r!="function"&&(po===null?po=new Set([this]):po.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function eS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new CU;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=UU.bind(null,t,e,n),e.then(t,t))}function tS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function nS(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=gi(-1,1),e.tag=2,fo(n,e,1))),n.lanes|=1),t)}var kU=Di.ReactCurrentOwner,Nn=!1;function Sn(t,e,n,r){e.child=t===null?_P(e,null,n,r):Ja(e,t.child,n,r)}function rS(t,e,n,r,i){n=n.render;var o=e.ref;return La(e,i),r=Fw(t,e,n,r,o,i),n=jw(),t!==null&&!Nn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ti(t,e,i)):(lt&&n&&Cw(e),e.flags|=1,Sn(t,e,r,i),e.child)}function iS(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Qw(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,WP(t,e,o,r,i)):(t=Dh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:oc,n(s,r)&&t.ref===e.ref)return Ti(t,e,i)}return e.flags|=1,t=go(o,r),t.ref=e.ref,t.return=e,e.child=t}function WP(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(oc(o,r)&&t.ref===e.ref)if(Nn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Nn=!0);else return e.lanes=t.lanes,Ti(t,e,i)}return nv(t,e,n,r,i)}function HP(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xe(xa,jn),jn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Xe(xa,jn),jn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Xe(xa,jn),jn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Xe(xa,jn),jn|=r;return Sn(t,e,i,n),e.child}function qP(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function nv(t,e,n,r,i){var o=Ln(n)?Is:bn.current;return o=Ya(e,o),La(e,i),n=Fw(t,e,n,r,o,i),r=jw(),t!==null&&!Nn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ti(t,e,i)):(lt&&r&&Cw(e),e.flags|=1,Sn(t,e,n,i),e.child)}function oS(t,e,n,r,i){if(Ln(n)){var o=!0;ff(e)}else o=!1;if(La(e,i),e.stateNode===null)Oh(t,e),bP(e,n,r),ev(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=ar(u):(u=Ln(n)?Is:bn.current,u=Ya(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Yx(e,s,r,u),Qi=!1;var h=e.memoizedState;s.state=h,vf(e,r,s,i),l=e.memoizedState,a!==r||h!==l||Mn.current||Qi?(typeof c=="function"&&(Z0(e,n,c,r),l=e.memoizedState),(a=Qi||Qx(e,n,a,r,h,l,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,yP(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:yr(e.type,a),s.props=u,d=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=ar(l):(l=Ln(n)?Is:bn.current,l=Ya(e,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||h!==l)&&Yx(e,s,r,l),Qi=!1,h=e.memoizedState,s.state=h,vf(e,r,s,i);var p=e.memoizedState;a!==d||h!==p||Mn.current||Qi?(typeof f=="function"&&(Z0(e,n,f,r),p=e.memoizedState),(u=Qi||Qx(e,n,u,r,h,p,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),s.props=r,s.state=p,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return rv(t,e,n,r,o,i)}function rv(t,e,n,r,i,o){qP(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&Wx(e,n,!1),Ti(t,e,o);r=e.stateNode,kU.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Ja(e,t.child,null,o),e.child=Ja(e,null,a,o)):Sn(t,e,a,o),e.memoizedState=r.state,i&&Wx(e,n,!0),e.child}function GP(t){var e=t.stateNode;e.pendingContext?zx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&zx(t,e.context,!1),Dw(t,e.containerInfo)}function sS(t,e,n,r,i){return Xa(),Iw(i),e.flags|=256,Sn(t,e,n,r),e.child}var iv={dehydrated:null,treeContext:null,retryLane:0};function ov(t){return{baseLanes:t,cachePool:null,transitions:null}}function KP(t,e,n){var r=e.pendingProps,i=ht.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Xe(ht,i&1),t===null)return X0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Xp(s,r,0,null),t=Es(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=ov(n),e.memoizedState=iv,t):Bw(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return IU(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=go(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=go(a,o):(o=Es(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?ov(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=iv,r}return o=t.child,t=o.sibling,r=go(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Bw(t,e){return e=Xp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Yd(t,e,n,r){return r!==null&&Iw(r),Ja(e,t.child,null,n),t=Bw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function IU(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=cy(Error(K(422))),Yd(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Xp({mode:"visible",children:r.children},i,0,null),o=Es(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Ja(e,t.child,null,s),e.child.memoizedState=ov(s),e.memoizedState=iv,o);if(!(e.mode&1))return Yd(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(K(419)),r=cy(o,r,void 0),Yd(t,e,s,r)}if(a=(s&t.childLanes)!==0,Nn||a){if(r=Ht,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Si(t,i),Tr(r,t,i,-1))}return Kw(),r=cy(Error(K(421))),Yd(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=VU.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Un=ho(i.nextSibling),zn=e,lt=!0,br=null,t!==null&&(er[tr++]=li,er[tr++]=ui,er[tr++]=Rs,li=t.id,ui=t.overflow,Rs=e),e=Bw(e,r.children),e.flags|=4096,e)}function aS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),J0(t.return,e,n)}function dy(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function QP(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Sn(t,e,r.children,n),r=ht.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&aS(t,n,e);else if(t.tag===19)aS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Xe(ht,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&bf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),dy(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&bf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}dy(e,!0,n,null,o);break;case"together":dy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Oh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ti(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Os|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(K(153));if(e.child!==null){for(t=e.child,n=go(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=go(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function RU(t,e,n){switch(e.tag){case 3:GP(e),Xa();break;case 5:EP(e);break;case 1:Ln(e.type)&&ff(e);break;case 4:Dw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Xe(gf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Xe(ht,ht.current&1),e.flags|=128,null):n&e.child.childLanes?KP(t,e,n):(Xe(ht,ht.current&1),t=Ti(t,e,n),t!==null?t.sibling:null);Xe(ht,ht.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return QP(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Xe(ht,ht.current),r)break;return null;case 22:case 23:return e.lanes=0,HP(t,e,n)}return Ti(t,e,n)}var YP,sv,XP,JP;YP=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};sv=function(){};XP=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,us(Hr.current);var o=null;switch(n){case"input":i=I0(t,i),r=I0(t,r),o=[];break;case"select":i=mt({},i,{value:void 0}),r=mt({},r,{value:void 0}),o=[];break;case"textarea":i=O0(t,i),r=O0(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=df)}N0(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ju.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ju.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&et("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};JP=function(t,e,n,r){n!==r&&(e.flags|=4)};function Gl(t,e){if(!lt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function on(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function PU(t,e,n){var r=e.pendingProps;switch(kw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return on(e),null;case 1:return Ln(e.type)&&hf(),on(e),null;case 3:return r=e.stateNode,Za(),it(Mn),it(bn),Lw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Kd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,br!==null&&(pv(br),br=null))),sv(t,e),on(e),null;case 5:Mw(e);var i=us(cc.current);if(n=e.type,t!==null&&e.stateNode!=null)XP(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(K(166));return on(e),null}if(t=us(Hr.current),Kd(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[jr]=e,r[lc]=o,t=(e.mode&1)!==0,n){case"dialog":et("cancel",r),et("close",r);break;case"iframe":case"object":case"embed":et("load",r);break;case"video":case"audio":for(i=0;i<du.length;i++)et(du[i],r);break;case"source":et("error",r);break;case"img":case"image":case"link":et("error",r),et("load",r);break;case"details":et("toggle",r);break;case"input":gx(r,o),et("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},et("invalid",r);break;case"textarea":vx(r,o),et("invalid",r)}N0(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Gd(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Gd(r.textContent,a,t),i=["children",""+a]):Ju.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&et("scroll",r)}switch(n){case"input":jd(r),yx(r,o,!0);break;case"textarea":jd(r),bx(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=df)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=TR(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[jr]=e,t[lc]=r,YP(t,e,!1,!1),e.stateNode=t;e:{switch(s=D0(n,r),n){case"dialog":et("cancel",t),et("close",t),i=r;break;case"iframe":case"object":case"embed":et("load",t),i=r;break;case"video":case"audio":for(i=0;i<du.length;i++)et(du[i],t);i=r;break;case"source":et("error",t),i=r;break;case"img":case"image":case"link":et("error",t),et("load",t),i=r;break;case"details":et("toggle",t),i=r;break;case"input":gx(t,r),i=I0(t,r),et("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=mt({},r,{value:void 0}),et("invalid",t);break;case"textarea":vx(t,r),i=O0(t,r),et("invalid",t);break;default:i=r}N0(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?IR(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&CR(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Zu(t,l):typeof l=="number"&&Zu(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ju.hasOwnProperty(o)?l!=null&&o==="onScroll"&&et("scroll",t):l!=null&&hw(t,o,l,s))}switch(n){case"input":jd(t),yx(t,r,!1);break;case"textarea":jd(t),bx(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Oo(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Aa(t,!!r.multiple,o,!1):r.defaultValue!=null&&Aa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=df)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return on(e),null;case 6:if(t&&e.stateNode!=null)JP(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(K(166));if(n=us(cc.current),us(Hr.current),Kd(e)){if(r=e.stateNode,n=e.memoizedProps,r[jr]=e,(o=r.nodeValue!==n)&&(t=zn,t!==null))switch(t.tag){case 3:Gd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Gd(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[jr]=e,e.stateNode=r}return on(e),null;case 13:if(it(ht),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(lt&&Un!==null&&e.mode&1&&!(e.flags&128))mP(),Xa(),e.flags|=98560,o=!1;else if(o=Kd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(K(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(K(317));o[jr]=e}else Xa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;on(e),o=!1}else br!==null&&(pv(br),br=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ht.current&1?Dt===0&&(Dt=3):Kw())),e.updateQueue!==null&&(e.flags|=4),on(e),null);case 4:return Za(),sv(t,e),t===null&&sc(e.stateNode.containerInfo),on(e),null;case 10:return Ow(e.type._context),on(e),null;case 17:return Ln(e.type)&&hf(),on(e),null;case 19:if(it(ht),o=e.memoizedState,o===null)return on(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Gl(o,!1);else{if(Dt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=bf(t),s!==null){for(e.flags|=128,Gl(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Xe(ht,ht.current&1|2),e.child}t=t.sibling}o.tail!==null&&xt()>tl&&(e.flags|=128,r=!0,Gl(o,!1),e.lanes=4194304)}else{if(!r)if(t=bf(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Gl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!lt)return on(e),null}else 2*xt()-o.renderingStartTime>tl&&n!==1073741824&&(e.flags|=128,r=!0,Gl(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=xt(),e.sibling=null,n=ht.current,Xe(ht,r?n&1|2:n&1),e):(on(e),null);case 22:case 23:return Gw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?jn&1073741824&&(on(e),e.subtreeFlags&6&&(e.flags|=8192)):on(e),null;case 24:return null;case 25:return null}throw Error(K(156,e.tag))}function OU(t,e){switch(kw(e),e.tag){case 1:return Ln(e.type)&&hf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Za(),it(Mn),it(bn),Lw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Mw(e),null;case 13:if(it(ht),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(K(340));Xa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return it(ht),null;case 4:return Za(),null;case 10:return Ow(e.type._context),null;case 22:case 23:return Gw(),null;case 24:return null;default:return null}}var Xd=!1,cn=!1,AU=typeof WeakSet=="function"?WeakSet:Set,le=null;function Ea(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){yt(t,e,r)}else n.current=null}function av(t,e,n){try{n()}catch(r){yt(t,e,r)}}var lS=!1;function NU(t,e){if(W0=lf,t=nP(),Tw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++u===i&&(a=s),h===o&&++c===r&&(l=s),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(H0={focusedElem:t,selectionRange:n},lf=!1,le=e;le!==null;)if(e=le,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,le=t;else for(;le!==null;){e=le;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,b=p.memoizedState,g=e.stateNode,y=g.getSnapshotBeforeUpdate(e.elementType===e.type?m:yr(e.type,m),b);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(_){yt(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,le=t;break}le=e.return}return p=lS,lS=!1,p}function Cu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&av(e,n,o)}i=i.next}while(i!==r)}}function Qp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function lv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function ZP(t){var e=t.alternate;e!==null&&(t.alternate=null,ZP(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[jr],delete e[lc],delete e[K0],delete e[mU],delete e[gU])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function eO(t){return t.tag===5||t.tag===3||t.tag===4}function uS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||eO(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function uv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=df));else if(r!==4&&(t=t.child,t!==null))for(uv(t,e,n),t=t.sibling;t!==null;)uv(t,e,n),t=t.sibling}function cv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(cv(t,e,n),t=t.sibling;t!==null;)cv(t,e,n),t=t.sibling}var Yt=null,vr=!1;function Bi(t,e,n){for(n=n.child;n!==null;)tO(t,e,n),n=n.sibling}function tO(t,e,n){if(Wr&&typeof Wr.onCommitFiberUnmount=="function")try{Wr.onCommitFiberUnmount(Vp,n)}catch{}switch(n.tag){case 5:cn||Ea(n,e);case 6:var r=Yt,i=vr;Yt=null,Bi(t,e,n),Yt=r,vr=i,Yt!==null&&(vr?(t=Yt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Yt.removeChild(n.stateNode));break;case 18:Yt!==null&&(vr?(t=Yt,n=n.stateNode,t.nodeType===8?iy(t.parentNode,n):t.nodeType===1&&iy(t,n),rc(t)):iy(Yt,n.stateNode));break;case 4:r=Yt,i=vr,Yt=n.stateNode.containerInfo,vr=!0,Bi(t,e,n),Yt=r,vr=i;break;case 0:case 11:case 14:case 15:if(!cn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&av(n,e,s),i=i.next}while(i!==r)}Bi(t,e,n);break;case 1:if(!cn&&(Ea(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){yt(n,e,a)}Bi(t,e,n);break;case 21:Bi(t,e,n);break;case 22:n.mode&1?(cn=(r=cn)||n.memoizedState!==null,Bi(t,e,n),cn=r):Bi(t,e,n);break;default:Bi(t,e,n)}}function cS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new AU),e.forEach(function(r){var i=BU.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function pr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Yt=a.stateNode,vr=!1;break e;case 3:Yt=a.stateNode.containerInfo,vr=!0;break e;case 4:Yt=a.stateNode.containerInfo,vr=!0;break e}a=a.return}if(Yt===null)throw Error(K(160));tO(o,s,i),Yt=null,vr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){yt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)nO(e,t),e=e.sibling}function nO(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(pr(e,t),Mr(t),r&4){try{Cu(3,t,t.return),Qp(3,t)}catch(m){yt(t,t.return,m)}try{Cu(5,t,t.return)}catch(m){yt(t,t.return,m)}}break;case 1:pr(e,t),Mr(t),r&512&&n!==null&&Ea(n,n.return);break;case 5:if(pr(e,t),Mr(t),r&512&&n!==null&&Ea(n,n.return),t.flags&32){var i=t.stateNode;try{Zu(i,"")}catch(m){yt(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&xR(i,o),D0(a,s);var u=D0(a,o);for(s=0;s<l.length;s+=2){var c=l[s],d=l[s+1];c==="style"?IR(i,d):c==="dangerouslySetInnerHTML"?CR(i,d):c==="children"?Zu(i,d):hw(i,c,d,u)}switch(a){case"input":R0(i,o);break;case"textarea":SR(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var f=o.value;f!=null?Aa(i,!!o.multiple,f,!1):h!==!!o.multiple&&(o.defaultValue!=null?Aa(i,!!o.multiple,o.defaultValue,!0):Aa(i,!!o.multiple,o.multiple?[]:"",!1))}i[lc]=o}catch(m){yt(t,t.return,m)}}break;case 6:if(pr(e,t),Mr(t),r&4){if(t.stateNode===null)throw Error(K(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(m){yt(t,t.return,m)}}break;case 3:if(pr(e,t),Mr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{rc(e.containerInfo)}catch(m){yt(t,t.return,m)}break;case 4:pr(e,t),Mr(t);break;case 13:pr(e,t),Mr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Hw=xt())),r&4&&cS(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(cn=(u=cn)||c,pr(e,t),cn=u):pr(e,t),Mr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(le=t,c=t.child;c!==null;){for(d=le=c;le!==null;){switch(h=le,f=h.child,h.tag){case 0:case 11:case 14:case 15:Cu(4,h,h.return);break;case 1:Ea(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){yt(r,n,m)}}break;case 5:Ea(h,h.return);break;case 22:if(h.memoizedState!==null){hS(d);continue}}f!==null?(f.return=h,le=f):hS(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=kR("display",s))}catch(m){yt(t,t.return,m)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){yt(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:pr(e,t),Mr(t),r&4&&cS(t);break;case 21:break;default:pr(e,t),Mr(t)}}function Mr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(eO(n)){var r=n;break e}n=n.return}throw Error(K(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Zu(i,""),r.flags&=-33);var o=uS(t);cv(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=uS(t);uv(t,a,s);break;default:throw Error(K(161))}}catch(l){yt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function DU(t,e,n){le=t,rO(t)}function rO(t,e,n){for(var r=(t.mode&1)!==0;le!==null;){var i=le,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Xd;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||cn;a=Xd;var u=cn;if(Xd=s,(cn=l)&&!u)for(le=i;le!==null;)s=le,l=s.child,s.tag===22&&s.memoizedState!==null?fS(i):l!==null?(l.return=s,le=l):fS(i);for(;o!==null;)le=o,rO(o),o=o.sibling;le=i,Xd=a,cn=u}dS(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,le=o):dS(t)}}function dS(t){for(;le!==null;){var e=le;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:cn||Qp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!cn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:yr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Kx(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Kx(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&rc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}cn||e.flags&512&&lv(e)}catch(h){yt(e,e.return,h)}}if(e===t){le=null;break}if(n=e.sibling,n!==null){n.return=e.return,le=n;break}le=e.return}}function hS(t){for(;le!==null;){var e=le;if(e===t){le=null;break}var n=e.sibling;if(n!==null){n.return=e.return,le=n;break}le=e.return}}function fS(t){for(;le!==null;){var e=le;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Qp(4,e)}catch(l){yt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){yt(e,i,l)}}var o=e.return;try{lv(e)}catch(l){yt(e,o,l)}break;case 5:var s=e.return;try{lv(e)}catch(l){yt(e,s,l)}}}catch(l){yt(e,e.return,l)}if(e===t){le=null;break}var a=e.sibling;if(a!==null){a.return=e.return,le=a;break}le=e.return}}var MU=Math.ceil,Ef=Di.ReactCurrentDispatcher,zw=Di.ReactCurrentOwner,sr=Di.ReactCurrentBatchConfig,Fe=0,Ht=null,Rt=null,Zt=0,jn=0,xa=Ho(0),Dt=0,pc=null,Os=0,Yp=0,Ww=0,ku=null,An=null,Hw=0,tl=1/0,ii=null,xf=!1,dv=null,po=null,Jd=!1,so=null,Sf=0,Iu=0,hv=null,Ah=-1,Nh=0;function Cn(){return Fe&6?xt():Ah!==-1?Ah:Ah=xt()}function mo(t){return t.mode&1?Fe&2&&Zt!==0?Zt&-Zt:vU.transition!==null?(Nh===0&&(Nh=UR()),Nh):(t=We,t!==0||(t=window.event,t=t===void 0?16:GR(t.type)),t):1}function Tr(t,e,n,r){if(50<Iu)throw Iu=0,hv=null,Error(K(185));qc(t,n,r),(!(Fe&2)||t!==Ht)&&(t===Ht&&(!(Fe&2)&&(Yp|=n),Dt===4&&Zi(t,Zt)),$n(t,r),n===1&&Fe===0&&!(e.mode&1)&&(tl=xt()+500,qp&&qo()))}function $n(t,e){var n=t.callbackNode;vj(t,e);var r=af(t,t===Ht?Zt:0);if(r===0)n!==null&&Ex(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Ex(n),e===1)t.tag===0?yU(pS.bind(null,t)):hP(pS.bind(null,t)),fU(function(){!(Fe&6)&&qo()}),n=null;else{switch(VR(r)){case 1:n=yw;break;case 4:n=FR;break;case 16:n=sf;break;case 536870912:n=jR;break;default:n=sf}n=dO(n,iO.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function iO(t,e){if(Ah=-1,Nh=0,Fe&6)throw Error(K(327));var n=t.callbackNode;if($a()&&t.callbackNode!==n)return null;var r=af(t,t===Ht?Zt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Tf(t,r);else{e=r;var i=Fe;Fe|=2;var o=sO();(Ht!==t||Zt!==e)&&(ii=null,tl=xt()+500,_s(t,e));do try{FU();break}catch(a){oO(t,a)}while(1);Pw(),Ef.current=o,Fe=i,Rt!==null?e=0:(Ht=null,Zt=0,e=Dt)}if(e!==0){if(e===2&&(i=j0(t),i!==0&&(r=i,e=fv(t,i))),e===1)throw n=pc,_s(t,0),Zi(t,r),$n(t,xt()),n;if(e===6)Zi(t,r);else{if(i=t.current.alternate,!(r&30)&&!LU(i)&&(e=Tf(t,r),e===2&&(o=j0(t),o!==0&&(r=o,e=fv(t,o))),e===1))throw n=pc,_s(t,0),Zi(t,r),$n(t,xt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(K(345));case 2:es(t,An,ii);break;case 3:if(Zi(t,r),(r&130023424)===r&&(e=Hw+500-xt(),10<e)){if(af(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Cn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=G0(es.bind(null,t,An,ii),e);break}es(t,An,ii);break;case 4:if(Zi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Sr(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=xt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*MU(r/1960))-r,10<r){t.timeoutHandle=G0(es.bind(null,t,An,ii),r);break}es(t,An,ii);break;case 5:es(t,An,ii);break;default:throw Error(K(329))}}}return $n(t,xt()),t.callbackNode===n?iO.bind(null,t):null}function fv(t,e){var n=ku;return t.current.memoizedState.isDehydrated&&(_s(t,e).flags|=256),t=Tf(t,e),t!==2&&(e=An,An=n,e!==null&&pv(e)),t}function pv(t){An===null?An=t:An.push.apply(An,t)}function LU(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Ir(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Zi(t,e){for(e&=~Ww,e&=~Yp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Sr(e),r=1<<n;t[n]=-1,e&=~r}}function pS(t){if(Fe&6)throw Error(K(327));$a();var e=af(t,0);if(!(e&1))return $n(t,xt()),null;var n=Tf(t,e);if(t.tag!==0&&n===2){var r=j0(t);r!==0&&(e=r,n=fv(t,r))}if(n===1)throw n=pc,_s(t,0),Zi(t,e),$n(t,xt()),n;if(n===6)throw Error(K(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,es(t,An,ii),$n(t,xt()),null}function qw(t,e){var n=Fe;Fe|=1;try{return t(e)}finally{Fe=n,Fe===0&&(tl=xt()+500,qp&&qo())}}function As(t){so!==null&&so.tag===0&&!(Fe&6)&&$a();var e=Fe;Fe|=1;var n=sr.transition,r=We;try{if(sr.transition=null,We=1,t)return t()}finally{We=r,sr.transition=n,Fe=e,!(Fe&6)&&qo()}}function Gw(){jn=xa.current,it(xa)}function _s(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,hU(n)),Rt!==null)for(n=Rt.return;n!==null;){var r=n;switch(kw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&hf();break;case 3:Za(),it(Mn),it(bn),Lw();break;case 5:Mw(r);break;case 4:Za();break;case 13:it(ht);break;case 19:it(ht);break;case 10:Ow(r.type._context);break;case 22:case 23:Gw()}n=n.return}if(Ht=t,Rt=t=go(t.current,null),Zt=jn=e,Dt=0,pc=null,Ww=Yp=Os=0,An=ku=null,ls!==null){for(e=0;e<ls.length;e++)if(n=ls[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}ls=null}return t}function oO(t,e){do{var n=Rt;try{if(Pw(),Rh.current=_f,wf){for(var r=pt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}wf=!1}if(Ps=0,Vt=Nt=pt=null,Tu=!1,dc=0,zw.current=null,n===null||n.return===null){Dt=1,pc=e,Rt=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Zt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=tS(s);if(f!==null){f.flags&=-257,nS(f,s,a,o,e),f.mode&1&&eS(o,u,e),e=f,l=u;var p=e.updateQueue;if(p===null){var m=new Set;m.add(l),e.updateQueue=m}else p.add(l);break e}else{if(!(e&1)){eS(o,u,e),Kw();break e}l=Error(K(426))}}else if(lt&&a.mode&1){var b=tS(s);if(b!==null){!(b.flags&65536)&&(b.flags|=256),nS(b,s,a,o,e),Iw(el(l,a));break e}}o=l=el(l,a),Dt!==4&&(Dt=2),ku===null?ku=[o]:ku.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var g=BP(o,l,e);Gx(o,g);break e;case 1:a=l;var y=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(po===null||!po.has(v)))){o.flags|=65536,e&=-e,o.lanes|=e;var _=zP(o,a,e);Gx(o,_);break e}}o=o.return}while(o!==null)}lO(n)}catch(S){e=S,Rt===n&&n!==null&&(Rt=n=n.return);continue}break}while(1)}function sO(){var t=Ef.current;return Ef.current=_f,t===null?_f:t}function Kw(){(Dt===0||Dt===3||Dt===2)&&(Dt=4),Ht===null||!(Os&268435455)&&!(Yp&268435455)||Zi(Ht,Zt)}function Tf(t,e){var n=Fe;Fe|=2;var r=sO();(Ht!==t||Zt!==e)&&(ii=null,_s(t,e));do try{$U();break}catch(i){oO(t,i)}while(1);if(Pw(),Fe=n,Ef.current=r,Rt!==null)throw Error(K(261));return Ht=null,Zt=0,Dt}function $U(){for(;Rt!==null;)aO(Rt)}function FU(){for(;Rt!==null&&!uj();)aO(Rt)}function aO(t){var e=cO(t.alternate,t,jn);t.memoizedProps=t.pendingProps,e===null?lO(t):Rt=e,zw.current=null}function lO(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=OU(n,e),n!==null){n.flags&=32767,Rt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Dt=6,Rt=null;return}}else if(n=PU(n,e,jn),n!==null){Rt=n;return}if(e=e.sibling,e!==null){Rt=e;return}Rt=e=t}while(e!==null);Dt===0&&(Dt=5)}function es(t,e,n){var r=We,i=sr.transition;try{sr.transition=null,We=1,jU(t,e,n,r)}finally{sr.transition=i,We=r}return null}function jU(t,e,n,r){do $a();while(so!==null);if(Fe&6)throw Error(K(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(K(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(bj(t,o),t===Ht&&(Rt=Ht=null,Zt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Jd||(Jd=!0,dO(sf,function(){return $a(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=sr.transition,sr.transition=null;var s=We;We=1;var a=Fe;Fe|=4,zw.current=null,NU(t,n),nO(n,t),oU(H0),lf=!!W0,H0=W0=null,t.current=n,DU(n),cj(),Fe=a,We=s,sr.transition=o}else t.current=n;if(Jd&&(Jd=!1,so=t,Sf=i),o=t.pendingLanes,o===0&&(po=null),fj(n.stateNode),$n(t,xt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(xf)throw xf=!1,t=dv,dv=null,t;return Sf&1&&t.tag!==0&&$a(),o=t.pendingLanes,o&1?t===hv?Iu++:(Iu=0,hv=t):Iu=0,qo(),null}function $a(){if(so!==null){var t=VR(Sf),e=sr.transition,n=We;try{if(sr.transition=null,We=16>t?16:t,so===null)var r=!1;else{if(t=so,so=null,Sf=0,Fe&6)throw Error(K(331));var i=Fe;for(Fe|=4,le=t.current;le!==null;){var o=le,s=o.child;if(le.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(le=u;le!==null;){var c=le;switch(c.tag){case 0:case 11:case 15:Cu(8,c,o)}var d=c.child;if(d!==null)d.return=c,le=d;else for(;le!==null;){c=le;var h=c.sibling,f=c.return;if(ZP(c),c===u){le=null;break}if(h!==null){h.return=f,le=h;break}le=f}}}var p=o.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var b=m.sibling;m.sibling=null,m=b}while(m!==null)}}le=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,le=s;else e:for(;le!==null;){if(o=le,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Cu(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,le=g;break e}le=o.return}}var y=t.current;for(le=y;le!==null;){s=le;var v=s.child;if(s.subtreeFlags&2064&&v!==null)v.return=s,le=v;else e:for(s=y;le!==null;){if(a=le,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Qp(9,a)}}catch(S){yt(a,a.return,S)}if(a===s){le=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,le=_;break e}le=a.return}}if(Fe=i,qo(),Wr&&typeof Wr.onPostCommitFiberRoot=="function")try{Wr.onPostCommitFiberRoot(Vp,t)}catch{}r=!0}return r}finally{We=n,sr.transition=e}}return!1}function mS(t,e,n){e=el(n,e),e=BP(t,e,1),t=fo(t,e,1),e=Cn(),t!==null&&(qc(t,1,e),$n(t,e))}function yt(t,e,n){if(t.tag===3)mS(t,t,n);else for(;e!==null;){if(e.tag===3){mS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(po===null||!po.has(r))){t=el(n,t),t=zP(e,t,1),e=fo(e,t,1),t=Cn(),e!==null&&(qc(e,1,t),$n(e,t));break}}e=e.return}}function UU(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Cn(),t.pingedLanes|=t.suspendedLanes&n,Ht===t&&(Zt&n)===n&&(Dt===4||Dt===3&&(Zt&130023424)===Zt&&500>xt()-Hw?_s(t,0):Ww|=n),$n(t,e)}function uO(t,e){e===0&&(t.mode&1?(e=Bd,Bd<<=1,!(Bd&130023424)&&(Bd=4194304)):e=1);var n=Cn();t=Si(t,e),t!==null&&(qc(t,e,n),$n(t,n))}function VU(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),uO(t,n)}function BU(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(K(314))}r!==null&&r.delete(e),uO(t,n)}var cO;cO=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Mn.current)Nn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Nn=!1,RU(t,e,n);Nn=!!(t.flags&131072)}else Nn=!1,lt&&e.flags&1048576&&fP(e,mf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Oh(t,e),t=e.pendingProps;var i=Ya(e,bn.current);La(e,n),i=Fw(null,e,r,t,i,n);var o=jw();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ln(r)?(o=!0,ff(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Nw(e),i.updater=Gp,e.stateNode=i,i._reactInternals=e,ev(e,r,t,n),e=rv(null,e,r,!0,o,n)):(e.tag=0,lt&&o&&Cw(e),Sn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Oh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=WU(r),t=yr(r,t),i){case 0:e=nv(null,e,r,t,n);break e;case 1:e=oS(null,e,r,t,n);break e;case 11:e=rS(null,e,r,t,n);break e;case 14:e=iS(null,e,r,yr(r.type,t),n);break e}throw Error(K(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yr(r,i),nv(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yr(r,i),oS(t,e,r,i,n);case 3:e:{if(GP(e),t===null)throw Error(K(387));r=e.pendingProps,o=e.memoizedState,i=o.element,yP(t,e),vf(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=el(Error(K(423)),e),e=sS(t,e,r,n,i);break e}else if(r!==i){i=el(Error(K(424)),e),e=sS(t,e,r,n,i);break e}else for(Un=ho(e.stateNode.containerInfo.firstChild),zn=e,lt=!0,br=null,n=_P(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xa(),r===i){e=Ti(t,e,n);break e}Sn(t,e,r,n)}e=e.child}return e;case 5:return EP(e),t===null&&X0(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,q0(r,i)?s=null:o!==null&&q0(r,o)&&(e.flags|=32),qP(t,e),Sn(t,e,s,n),e.child;case 6:return t===null&&X0(e),null;case 13:return KP(t,e,n);case 4:return Dw(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ja(e,null,r,n):Sn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yr(r,i),rS(t,e,r,i,n);case 7:return Sn(t,e,e.pendingProps,n),e.child;case 8:return Sn(t,e,e.pendingProps.children,n),e.child;case 12:return Sn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Xe(gf,r._currentValue),r._currentValue=s,o!==null)if(Ir(o.value,s)){if(o.children===i.children&&!Mn.current){e=Ti(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=gi(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),J0(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(K(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),J0(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Sn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,La(e,n),i=ar(i),r=r(i),e.flags|=1,Sn(t,e,r,n),e.child;case 14:return r=e.type,i=yr(r,e.pendingProps),i=yr(r.type,i),iS(t,e,r,i,n);case 15:return WP(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yr(r,i),Oh(t,e),e.tag=1,Ln(r)?(t=!0,ff(e)):t=!1,La(e,n),bP(e,r,i),ev(e,r,i,n),rv(null,e,r,!0,t,n);case 19:return QP(t,e,n);case 22:return HP(t,e,n)}throw Error(K(156,e.tag))};function dO(t,e){return $R(t,e)}function zU(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rr(t,e,n,r){return new zU(t,e,n,r)}function Qw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function WU(t){if(typeof t=="function")return Qw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===pw)return 11;if(t===mw)return 14}return 2}function go(t,e){var n=t.alternate;return n===null?(n=rr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Dh(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Qw(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case fa:return Es(n.children,i,o,e);case fw:s=8,i|=8;break;case S0:return t=rr(12,n,e,i|2),t.elementType=S0,t.lanes=o,t;case T0:return t=rr(13,n,e,i),t.elementType=T0,t.lanes=o,t;case C0:return t=rr(19,n,e,i),t.elementType=C0,t.lanes=o,t;case wR:return Xp(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case vR:s=10;break e;case bR:s=9;break e;case pw:s=11;break e;case mw:s=14;break e;case Ki:s=16,r=null;break e}throw Error(K(130,t==null?t:typeof t,""))}return e=rr(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Es(t,e,n,r){return t=rr(7,t,r,e),t.lanes=n,t}function Xp(t,e,n,r){return t=rr(22,t,r,e),t.elementType=wR,t.lanes=n,t.stateNode={isHidden:!1},t}function hy(t,e,n){return t=rr(6,t,null,e),t.lanes=n,t}function fy(t,e,n){return e=rr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function HU(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gg(0),this.expirationTimes=Gg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gg(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Yw(t,e,n,r,i,o,s,a,l){return t=new HU(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=rr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nw(o),t}function qU(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ha,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function hO(t){if(!t)return Ao;t=t._reactInternals;e:{if(Gs(t)!==t||t.tag!==1)throw Error(K(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ln(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(K(171))}if(t.tag===1){var n=t.type;if(Ln(n))return dP(t,n,e)}return e}function fO(t,e,n,r,i,o,s,a,l){return t=Yw(n,r,!0,t,i,o,s,a,l),t.context=hO(null),n=t.current,r=Cn(),i=mo(n),o=gi(r,i),o.callback=e??null,fo(n,o,i),t.current.lanes=i,qc(t,i,r),$n(t,r),t}function Jp(t,e,n,r){var i=e.current,o=Cn(),s=mo(i);return n=hO(n),e.context===null?e.context=n:e.pendingContext=n,e=gi(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=fo(i,e,s),t!==null&&(Tr(t,i,s,o),Ih(t,i,s)),s}function Cf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function gS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Xw(t,e){gS(t,e),(t=t.alternate)&&gS(t,e)}function GU(){return null}var pO=typeof reportError=="function"?reportError:function(t){console.error(t)};function Jw(t){this._internalRoot=t}Zp.prototype.render=Jw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(K(409));Jp(t,e,null,null)};Zp.prototype.unmount=Jw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;As(function(){Jp(null,t,null,null)}),e[xi]=null}};function Zp(t){this._internalRoot=t}Zp.prototype.unstable_scheduleHydration=function(t){if(t){var e=WR();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ji.length&&e!==0&&e<Ji[n].priority;n++);Ji.splice(n,0,t),n===0&&qR(t)}};function Zw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function em(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function yS(){}function KU(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Cf(s);o.call(u)}}var s=fO(e,r,t,0,null,!1,!1,"",yS);return t._reactRootContainer=s,t[xi]=s.current,sc(t.nodeType===8?t.parentNode:t),As(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Cf(l);a.call(u)}}var l=Yw(t,0,!1,null,null,!1,!1,"",yS);return t._reactRootContainer=l,t[xi]=l.current,sc(t.nodeType===8?t.parentNode:t),As(function(){Jp(e,l,n,r)}),l}function tm(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Cf(s);a.call(l)}}Jp(e,s,t,i)}else s=KU(n,e,t,i,r);return Cf(s)}BR=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=cu(e.pendingLanes);n!==0&&(vw(e,n|1),$n(e,xt()),!(Fe&6)&&(tl=xt()+500,qo()))}break;case 13:As(function(){var r=Si(t,1);if(r!==null){var i=Cn();Tr(r,t,1,i)}}),Xw(t,1)}};bw=function(t){if(t.tag===13){var e=Si(t,134217728);if(e!==null){var n=Cn();Tr(e,t,134217728,n)}Xw(t,134217728)}};zR=function(t){if(t.tag===13){var e=mo(t),n=Si(t,e);if(n!==null){var r=Cn();Tr(n,t,e,r)}Xw(t,e)}};WR=function(){return We};HR=function(t,e){var n=We;try{return We=t,e()}finally{We=n}};L0=function(t,e,n){switch(e){case"input":if(R0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Hp(r);if(!i)throw Error(K(90));ER(r),R0(r,i)}}}break;case"textarea":SR(t,n);break;case"select":e=n.value,e!=null&&Aa(t,!!n.multiple,e,!1)}};OR=qw;AR=As;var QU={usingClientEntryPoint:!1,Events:[Kc,ya,Hp,RR,PR,qw]},Kl={findFiberByHostInstance:as,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},YU={bundleType:Kl.bundleType,version:Kl.version,rendererPackageName:Kl.rendererPackageName,rendererConfig:Kl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Di.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=MR(t),t===null?null:t.stateNode},findFiberByHostInstance:Kl.findFiberByHostInstance||GU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zd.isDisabled&&Zd.supportsFiber)try{Vp=Zd.inject(YU),Wr=Zd}catch{}}Yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QU;Yn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zw(e))throw Error(K(200));return qU(t,e,null,n)};Yn.createRoot=function(t,e){if(!Zw(t))throw Error(K(299));var n=!1,r="",i=pO;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Yw(t,1,!1,null,null,n,!1,r,i),t[xi]=e.current,sc(t.nodeType===8?t.parentNode:t),new Jw(e)};Yn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(K(188)):(t=Object.keys(t).join(","),Error(K(268,t)));return t=MR(e),t=t===null?null:t.stateNode,t};Yn.flushSync=function(t){return As(t)};Yn.hydrate=function(t,e,n){if(!em(e))throw Error(K(200));return tm(null,t,e,!0,n)};Yn.hydrateRoot=function(t,e,n){if(!Zw(t))throw Error(K(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=pO;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=fO(e,null,t,1,n??null,i,!1,o,s),t[xi]=e.current,sc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Zp(e)};Yn.render=function(t,e,n){if(!em(e))throw Error(K(200));return tm(null,t,e,!1,n)};Yn.unmountComponentAtNode=function(t){if(!em(t))throw Error(K(40));return t._reactRootContainer?(As(function(){tm(null,null,t,!1,function(){t._reactRootContainer=null,t[xi]=null})}),!0):!1};Yn.unstable_batchedUpdates=qw;Yn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!em(n))throw Error(K(200));if(t==null||t._reactInternals===void 0)throw Error(K(38));return tm(t,e,n,!1,r)};Yn.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=Yn})(G4);const XU=oR(Po);var vS=Po;_0.createRoot=vS.createRoot,_0.hydrateRoot=vS.hydrateRoot;function mv(t,e){return mv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mv(t,e)}function Yc(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,mv(t,e)}var Xc=function(){function t(){this.listeners=[]}var e=t.prototype;return e.subscribe=function(r){var i=this,o=r||function(){};return this.listeners.push(o),this.onSubscribe(),function(){i.listeners=i.listeners.filter(function(s){return s!==o}),i.onUnsubscribe()}},e.hasListeners=function(){return this.listeners.length>0},e.onSubscribe=function(){},e.onUnsubscribe=function(){},t}();function Ve(){return Ve=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ve.apply(this,arguments)}var kf=typeof window>"u";function ln(){}function JU(t,e){return typeof t=="function"?t(e):t}function gv(t){return typeof t=="number"&&t>=0&&t!==1/0}function If(t){return Array.isArray(t)?t:[t]}function mO(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Mh(t,e,n){return nm(t)?typeof e=="function"?Ve({},n,{queryKey:t,queryFn:e}):Ve({},e,{queryKey:t}):t}function Yi(t,e,n){return nm(t)?[Ve({},e,{queryKey:t}),n]:[t||{},e]}function ZU(t,e){if(t===!0&&e===!0||t==null&&e==null)return"all";if(t===!1&&e===!1)return"none";var n=t??!e;return n?"active":"inactive"}function bS(t,e){var n=t.active,r=t.exact,i=t.fetching,o=t.inactive,s=t.predicate,a=t.queryKey,l=t.stale;if(nm(a)){if(r){if(e.queryHash!==e_(a,e.options))return!1}else if(!Rf(e.queryKey,a))return!1}var u=ZU(n,o);if(u==="none")return!1;if(u!=="all"){var c=e.isActive();if(u==="active"&&!c||u==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||typeof i=="boolean"&&e.isFetching()!==i||s&&!s(e))}function wS(t,e){var n=t.exact,r=t.fetching,i=t.predicate,o=t.mutationKey;if(nm(o)){if(!e.options.mutationKey)return!1;if(n){if(cs(e.options.mutationKey)!==cs(o))return!1}else if(!Rf(e.options.mutationKey,o))return!1}return!(typeof r=="boolean"&&e.state.status==="loading"!==r||i&&!i(e))}function e_(t,e){var n=(e==null?void 0:e.queryKeyHashFn)||cs;return n(t)}function cs(t){var e=If(t);return e3(e)}function e3(t){return JSON.stringify(t,function(e,n){return yv(n)?Object.keys(n).sort().reduce(function(r,i){return r[i]=n[i],r},{}):n})}function Rf(t,e){return gO(If(t),If(e))}function gO(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(function(n){return!gO(t[n],e[n])}):!1}function Pf(t,e){if(t===e)return t;var n=Array.isArray(t)&&Array.isArray(e);if(n||yv(t)&&yv(e)){for(var r=n?t.length:Object.keys(t).length,i=n?e:Object.keys(e),o=i.length,s=n?[]:{},a=0,l=0;l<o;l++){var u=n?l:i[l];s[u]=Pf(t[u],e[u]),s[u]===t[u]&&a++}return r===o&&a===r?t:s}return e}function t3(t,e){if(t&&!e||e&&!t)return!1;for(var n in t)if(t[n]!==e[n])return!1;return!0}function yv(t){if(!_S(t))return!1;var e=t.constructor;if(typeof e>"u")return!0;var n=e.prototype;return!(!_S(n)||!n.hasOwnProperty("isPrototypeOf"))}function _S(t){return Object.prototype.toString.call(t)==="[object Object]"}function nm(t){return typeof t=="string"||Array.isArray(t)}function n3(t){return new Promise(function(e){setTimeout(e,t)})}function ES(t){Promise.resolve().then(t).catch(function(e){return setTimeout(function(){throw e})})}function yO(){if(typeof AbortController=="function")return new AbortController}var r3=function(t){Yc(e,t);function e(){var r;return r=t.call(this)||this,r.setup=function(i){var o;if(!kf&&((o=window)!=null&&o.addEventListener)){var s=function(){return i()};return window.addEventListener("visibilitychange",s,!1),window.addEventListener("focus",s,!1),function(){window.removeEventListener("visibilitychange",s),window.removeEventListener("focus",s)}}},r}var n=e.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},n.setEventListener=function(i){var o,s=this;this.setup=i,(o=this.cleanup)==null||o.call(this),this.cleanup=i(function(a){typeof a=="boolean"?s.setFocused(a):s.onFocus()})},n.setFocused=function(i){this.focused=i,i&&this.onFocus()},n.onFocus=function(){this.listeners.forEach(function(i){i()})},n.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},e}(Xc),Ru=new r3,i3=function(t){Yc(e,t);function e(){var r;return r=t.call(this)||this,r.setup=function(i){var o;if(!kf&&((o=window)!=null&&o.addEventListener)){var s=function(){return i()};return window.addEventListener("online",s,!1),window.addEventListener("offline",s,!1),function(){window.removeEventListener("online",s),window.removeEventListener("offline",s)}}},r}var n=e.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},n.setEventListener=function(i){var o,s=this;this.setup=i,(o=this.cleanup)==null||o.call(this),this.cleanup=i(function(a){typeof a=="boolean"?s.setOnline(a):s.onOnline()})},n.setOnline=function(i){this.online=i,i&&this.onOnline()},n.onOnline=function(){this.listeners.forEach(function(i){i()})},n.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},e}(Xc),Lh=new i3;function o3(t){return Math.min(1e3*Math.pow(2,t),3e4)}function Of(t){return typeof(t==null?void 0:t.cancel)=="function"}var vO=function(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent};function $h(t){return t instanceof vO}var bO=function(e){var n=this,r=!1,i,o,s,a;this.abort=e.abort,this.cancel=function(h){return i==null?void 0:i(h)},this.cancelRetry=function(){r=!0},this.continueRetry=function(){r=!1},this.continue=function(){return o==null?void 0:o()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(h,f){s=h,a=f});var l=function(f){n.isResolved||(n.isResolved=!0,e.onSuccess==null||e.onSuccess(f),o==null||o(),s(f))},u=function(f){n.isResolved||(n.isResolved=!0,e.onError==null||e.onError(f),o==null||o(),a(f))},c=function(){return new Promise(function(f){o=f,n.isPaused=!0,e.onPause==null||e.onPause()}).then(function(){o=void 0,n.isPaused=!1,e.onContinue==null||e.onContinue()})},d=function h(){if(!n.isResolved){var f;try{f=e.fn()}catch(p){f=Promise.reject(p)}i=function(m){if(!n.isResolved&&(u(new vO(m)),n.abort==null||n.abort(),Of(f)))try{f.cancel()}catch{}},n.isTransportCancelable=Of(f),Promise.resolve(f).then(l).catch(function(p){var m,b;if(!n.isResolved){var g=(m=e.retry)!=null?m:3,y=(b=e.retryDelay)!=null?b:o3,v=typeof y=="function"?y(n.failureCount,p):y,_=g===!0||typeof g=="number"&&n.failureCount<g||typeof g=="function"&&g(n.failureCount,p);if(r||!_){u(p);return}n.failureCount++,e.onFail==null||e.onFail(n.failureCount,p),n3(v).then(function(){if(!Ru.isFocused()||!Lh.isOnline())return c()}).then(function(){r?u(p):h()})}})}};d()},s3=function(){function t(){this.queue=[],this.transactions=0,this.notifyFn=function(n){n()},this.batchNotifyFn=function(n){n()}}var e=t.prototype;return e.batch=function(r){var i;this.transactions++;try{i=r()}finally{this.transactions--,this.transactions||this.flush()}return i},e.schedule=function(r){var i=this;this.transactions?this.queue.push(r):ES(function(){i.notifyFn(r)})},e.batchCalls=function(r){var i=this;return function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];i.schedule(function(){r.apply(void 0,s)})}},e.flush=function(){var r=this,i=this.queue;this.queue=[],i.length&&ES(function(){r.batchNotifyFn(function(){i.forEach(function(o){r.notifyFn(o)})})})},e.setNotifyFunction=function(r){this.notifyFn=r},e.setBatchNotifyFunction=function(r){this.batchNotifyFn=r},t}(),vt=new s3,wO=console;function Af(){return wO}function a3(t){wO=t}var l3=function(){function t(n){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=n.defaultOptions,this.setOptions(n.options),this.observers=[],this.cache=n.cache,this.queryKey=n.queryKey,this.queryHash=n.queryHash,this.initialState=n.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=n.meta,this.scheduleGc()}var e=t.prototype;return e.setOptions=function(r){var i;this.options=Ve({},this.defaultOptions,r),this.meta=r==null?void 0:r.meta,this.cacheTime=Math.max(this.cacheTime||0,(i=this.options.cacheTime)!=null?i:5*60*1e3)},e.setDefaultOptions=function(r){this.defaultOptions=r},e.scheduleGc=function(){var r=this;this.clearGcTimeout(),gv(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){r.optionalRemove()},this.cacheTime))},e.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},e.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},e.setData=function(r,i){var o,s,a=this.state.data,l=JU(r,a);return(o=(s=this.options).isDataEqual)!=null&&o.call(s,a,l)?l=a:this.options.structuralSharing!==!1&&(l=Pf(a,l)),this.dispatch({data:l,type:"success",dataUpdatedAt:i==null?void 0:i.updatedAt}),l},e.setState=function(r,i){this.dispatch({type:"setState",state:r,setStateOptions:i})},e.cancel=function(r){var i,o=this.promise;return(i=this.retryer)==null||i.cancel(r),o?o.then(ln).catch(ln):Promise.resolve()},e.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},e.reset=function(){this.destroy(),this.setState(this.initialState)},e.isActive=function(){return this.observers.some(function(r){return r.options.enabled!==!1})},e.isFetching=function(){return this.state.isFetching},e.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(r){return r.getCurrentResult().isStale})},e.isStaleByTime=function(r){return r===void 0&&(r=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!mO(this.state.dataUpdatedAt,r)},e.onFocus=function(){var r,i=this.observers.find(function(o){return o.shouldFetchOnWindowFocus()});i&&i.refetch(),(r=this.retryer)==null||r.continue()},e.onOnline=function(){var r,i=this.observers.find(function(o){return o.shouldFetchOnReconnect()});i&&i.refetch(),(r=this.retryer)==null||r.continue()},e.addObserver=function(r){this.observers.indexOf(r)===-1&&(this.observers.push(r),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:r}))},e.removeObserver=function(r){this.observers.indexOf(r)!==-1&&(this.observers=this.observers.filter(function(i){return i!==r}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:r}))},e.getObserversCount=function(){return this.observers.length},e.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},e.fetch=function(r,i){var o=this,s,a,l;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(i!=null&&i.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var u;return(u=this.retryer)==null||u.continueRetry(),this.promise}}if(r&&this.setOptions(r),!this.options.queryFn){var c=this.observers.find(function(y){return y.options.queryFn});c&&this.setOptions(c.options)}var d=If(this.queryKey),h=yO(),f={queryKey:d,pageParam:void 0,meta:this.meta};Object.defineProperty(f,"signal",{enumerable:!0,get:function(){if(h)return o.abortSignalConsumed=!0,h.signal}});var p=function(){return o.options.queryFn?(o.abortSignalConsumed=!1,o.options.queryFn(f)):Promise.reject("Missing queryFn")},m={fetchOptions:i,options:this.options,queryKey:d,state:this.state,fetchFn:p,meta:this.meta};if((s=this.options.behavior)!=null&&s.onFetch){var b;(b=this.options.behavior)==null||b.onFetch(m)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((a=m.fetchOptions)==null?void 0:a.meta)){var g;this.dispatch({type:"fetch",meta:(g=m.fetchOptions)==null?void 0:g.meta})}return this.retryer=new bO({fn:m.fetchFn,abort:h==null||(l=h.abort)==null?void 0:l.bind(h),onSuccess:function(v){o.setData(v),o.cache.config.onSuccess==null||o.cache.config.onSuccess(v,o),o.cacheTime===0&&o.optionalRemove()},onError:function(v){$h(v)&&v.silent||o.dispatch({type:"error",error:v}),$h(v)||(o.cache.config.onError==null||o.cache.config.onError(v,o),Af().error(v)),o.cacheTime===0&&o.optionalRemove()},onFail:function(){o.dispatch({type:"failed"})},onPause:function(){o.dispatch({type:"pause"})},onContinue:function(){o.dispatch({type:"continue"})},retry:m.options.retry,retryDelay:m.options.retryDelay}),this.promise=this.retryer.promise,this.promise},e.dispatch=function(r){var i=this;this.state=this.reducer(this.state,r),vt.batch(function(){i.observers.forEach(function(o){o.onQueryUpdate(r)}),i.cache.notify({query:i,type:"queryUpdated",action:r})})},e.getDefaultState=function(r){var i=typeof r.initialData=="function"?r.initialData():r.initialData,o=typeof r.initialData<"u",s=o?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0,a=typeof i<"u";return{data:i,dataUpdateCount:0,dataUpdatedAt:a?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:a?"success":"idle"}},e.reducer=function(r,i){var o,s;switch(i.type){case"failed":return Ve({},r,{fetchFailureCount:r.fetchFailureCount+1});case"pause":return Ve({},r,{isPaused:!0});case"continue":return Ve({},r,{isPaused:!1});case"fetch":return Ve({},r,{fetchFailureCount:0,fetchMeta:(o=i.meta)!=null?o:null,isFetching:!0,isPaused:!1},!r.dataUpdatedAt&&{error:null,status:"loading"});case"success":return Ve({},r,{data:i.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(s=i.dataUpdatedAt)!=null?s:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var a=i.error;return $h(a)&&a.revert&&this.revertState?Ve({},this.revertState):Ve({},r,{error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return Ve({},r,{isInvalidated:!0});case"setState":return Ve({},r,i.state);default:return r}},t}(),u3=function(t){Yc(e,t);function e(r){var i;return i=t.call(this)||this,i.config=r||{},i.queries=[],i.queriesMap={},i}var n=e.prototype;return n.build=function(i,o,s){var a,l=o.queryKey,u=(a=o.queryHash)!=null?a:e_(l,o),c=this.get(u);return c||(c=new l3({cache:this,queryKey:l,queryHash:u,options:i.defaultQueryOptions(o),state:s,defaultOptions:i.getQueryDefaults(l),meta:o.meta}),this.add(c)),c},n.add=function(i){this.queriesMap[i.queryHash]||(this.queriesMap[i.queryHash]=i,this.queries.push(i),this.notify({type:"queryAdded",query:i}))},n.remove=function(i){var o=this.queriesMap[i.queryHash];o&&(i.destroy(),this.queries=this.queries.filter(function(s){return s!==i}),o===i&&delete this.queriesMap[i.queryHash],this.notify({type:"queryRemoved",query:i}))},n.clear=function(){var i=this;vt.batch(function(){i.queries.forEach(function(o){i.remove(o)})})},n.get=function(i){return this.queriesMap[i]},n.getAll=function(){return this.queries},n.find=function(i,o){var s=Yi(i,o),a=s[0];return typeof a.exact>"u"&&(a.exact=!0),this.queries.find(function(l){return bS(a,l)})},n.findAll=function(i,o){var s=Yi(i,o),a=s[0];return Object.keys(a).length>0?this.queries.filter(function(l){return bS(a,l)}):this.queries},n.notify=function(i){var o=this;vt.batch(function(){o.listeners.forEach(function(s){s(i)})})},n.onFocus=function(){var i=this;vt.batch(function(){i.queries.forEach(function(o){o.onFocus()})})},n.onOnline=function(){var i=this;vt.batch(function(){i.queries.forEach(function(o){o.onOnline()})})},e}(Xc),c3=function(){function t(n){this.options=Ve({},n.defaultOptions,n.options),this.mutationId=n.mutationId,this.mutationCache=n.mutationCache,this.observers=[],this.state=n.state||d3(),this.meta=n.meta}var e=t.prototype;return e.setState=function(r){this.dispatch({type:"setState",state:r})},e.addObserver=function(r){this.observers.indexOf(r)===-1&&this.observers.push(r)},e.removeObserver=function(r){this.observers=this.observers.filter(function(i){return i!==r})},e.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(ln).catch(ln)):Promise.resolve()},e.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},e.execute=function(){var r=this,i,o=this.state.status==="loading",s=Promise.resolve();return o||(this.dispatch({type:"loading",variables:this.options.variables}),s=s.then(function(){r.mutationCache.config.onMutate==null||r.mutationCache.config.onMutate(r.state.variables,r)}).then(function(){return r.options.onMutate==null?void 0:r.options.onMutate(r.state.variables)}).then(function(a){a!==r.state.context&&r.dispatch({type:"loading",context:a,variables:r.state.variables})})),s.then(function(){return r.executeMutation()}).then(function(a){i=a,r.mutationCache.config.onSuccess==null||r.mutationCache.config.onSuccess(i,r.state.variables,r.state.context,r)}).then(function(){return r.options.onSuccess==null?void 0:r.options.onSuccess(i,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(i,null,r.state.variables,r.state.context)}).then(function(){return r.dispatch({type:"success",data:i}),i}).catch(function(a){return r.mutationCache.config.onError==null||r.mutationCache.config.onError(a,r.state.variables,r.state.context,r),Af().error(a),Promise.resolve().then(function(){return r.options.onError==null?void 0:r.options.onError(a,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(void 0,a,r.state.variables,r.state.context)}).then(function(){throw r.dispatch({type:"error",error:a}),a})})},e.executeMutation=function(){var r=this,i;return this.retryer=new bO({fn:function(){return r.options.mutationFn?r.options.mutationFn(r.state.variables):Promise.reject("No mutationFn found")},onFail:function(){r.dispatch({type:"failed"})},onPause:function(){r.dispatch({type:"pause"})},onContinue:function(){r.dispatch({type:"continue"})},retry:(i=this.options.retry)!=null?i:0,retryDelay:this.options.retryDelay}),this.retryer.promise},e.dispatch=function(r){var i=this;this.state=h3(this.state,r),vt.batch(function(){i.observers.forEach(function(o){o.onMutationUpdate(r)}),i.mutationCache.notify(i)})},t}();function d3(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function h3(t,e){switch(e.type){case"failed":return Ve({},t,{failureCount:t.failureCount+1});case"pause":return Ve({},t,{isPaused:!0});case"continue":return Ve({},t,{isPaused:!1});case"loading":return Ve({},t,{context:e.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:e.variables});case"success":return Ve({},t,{data:e.data,error:null,status:"success",isPaused:!1});case"error":return Ve({},t,{data:void 0,error:e.error,failureCount:t.failureCount+1,isPaused:!1,status:"error"});case"setState":return Ve({},t,e.state);default:return t}}var f3=function(t){Yc(e,t);function e(r){var i;return i=t.call(this)||this,i.config=r||{},i.mutations=[],i.mutationId=0,i}var n=e.prototype;return n.build=function(i,o,s){var a=new c3({mutationCache:this,mutationId:++this.mutationId,options:i.defaultMutationOptions(o),state:s,defaultOptions:o.mutationKey?i.getMutationDefaults(o.mutationKey):void 0,meta:o.meta});return this.add(a),a},n.add=function(i){this.mutations.push(i),this.notify(i)},n.remove=function(i){this.mutations=this.mutations.filter(function(o){return o!==i}),i.cancel(),this.notify(i)},n.clear=function(){var i=this;vt.batch(function(){i.mutations.forEach(function(o){i.remove(o)})})},n.getAll=function(){return this.mutations},n.find=function(i){return typeof i.exact>"u"&&(i.exact=!0),this.mutations.find(function(o){return wS(i,o)})},n.findAll=function(i){return this.mutations.filter(function(o){return wS(i,o)})},n.notify=function(i){var o=this;vt.batch(function(){o.listeners.forEach(function(s){s(i)})})},n.onFocus=function(){this.resumePausedMutations()},n.onOnline=function(){this.resumePausedMutations()},n.resumePausedMutations=function(){var i=this.mutations.filter(function(o){return o.state.isPaused});return vt.batch(function(){return i.reduce(function(o,s){return o.then(function(){return s.continue().catch(ln)})},Promise.resolve())})},e}(Xc);function p3(){return{onFetch:function(e){e.fetchFn=function(){var n,r,i,o,s,a,l=(n=e.fetchOptions)==null||(r=n.meta)==null?void 0:r.refetchPage,u=(i=e.fetchOptions)==null||(o=i.meta)==null?void 0:o.fetchMore,c=u==null?void 0:u.pageParam,d=(u==null?void 0:u.direction)==="forward",h=(u==null?void 0:u.direction)==="backward",f=((s=e.state.data)==null?void 0:s.pages)||[],p=((a=e.state.data)==null?void 0:a.pageParams)||[],m=yO(),b=m==null?void 0:m.signal,g=p,y=!1,v=e.options.queryFn||function(){return Promise.reject("Missing queryFn")},_=function(F,V,j,Q){return g=Q?[V].concat(g):[].concat(g,[V]),Q?[j].concat(F):[].concat(F,[j])},S=function(F,V,j,Q){if(y)return Promise.reject("Cancelled");if(typeof j>"u"&&!V&&F.length)return Promise.resolve(F);var A={queryKey:e.queryKey,signal:b,pageParam:j,meta:e.meta},W=v(A),U=Promise.resolve(W).then(function(Z){return _(F,j,Z,Q)});if(Of(W)){var q=U;q.cancel=W.cancel}return U},C;if(!f.length)C=S([]);else if(d){var I=typeof c<"u",R=I?c:xS(e.options,f);C=S(f,I,R)}else if(h){var B=typeof c<"u",P=B?c:m3(e.options,f);C=S(f,B,P,!0)}else(function(){g=[];var $=typeof e.options.getNextPageParam>"u",F=l&&f[0]?l(f[0],0,f):!0;C=F?S([],$,p[0]):Promise.resolve(_([],p[0],f[0]));for(var V=function(A){C=C.then(function(W){var U=l&&f[A]?l(f[A],A,f):!0;if(U){var q=$?p[A]:xS(e.options,W);return S(W,$,q)}return Promise.resolve(_(W,p[A],f[A]))})},j=1;j<f.length;j++)V(j)})();var T=C.then(function($){return{pages:$,pageParams:g}}),N=T;return N.cancel=function(){y=!0,m==null||m.abort(),Of(C)&&C.cancel()},T}}}}function xS(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function m3(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}var g3=function(){function t(n){n===void 0&&(n={}),this.queryCache=n.queryCache||new u3,this.mutationCache=n.mutationCache||new f3,this.defaultOptions=n.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var e=t.prototype;return e.mount=function(){var r=this;this.unsubscribeFocus=Ru.subscribe(function(){Ru.isFocused()&&Lh.isOnline()&&(r.mutationCache.onFocus(),r.queryCache.onFocus())}),this.unsubscribeOnline=Lh.subscribe(function(){Ru.isFocused()&&Lh.isOnline()&&(r.mutationCache.onOnline(),r.queryCache.onOnline())})},e.unmount=function(){var r,i;(r=this.unsubscribeFocus)==null||r.call(this),(i=this.unsubscribeOnline)==null||i.call(this)},e.isFetching=function(r,i){var o=Yi(r,i),s=o[0];return s.fetching=!0,this.queryCache.findAll(s).length},e.isMutating=function(r){return this.mutationCache.findAll(Ve({},r,{fetching:!0})).length},e.getQueryData=function(r,i){var o;return(o=this.queryCache.find(r,i))==null?void 0:o.state.data},e.getQueriesData=function(r){return this.getQueryCache().findAll(r).map(function(i){var o=i.queryKey,s=i.state,a=s.data;return[o,a]})},e.setQueryData=function(r,i,o){var s=Mh(r),a=this.defaultQueryOptions(s);return this.queryCache.build(this,a).setData(i,o)},e.setQueriesData=function(r,i,o){var s=this;return vt.batch(function(){return s.getQueryCache().findAll(r).map(function(a){var l=a.queryKey;return[l,s.setQueryData(l,i,o)]})})},e.getQueryState=function(r,i){var o;return(o=this.queryCache.find(r,i))==null?void 0:o.state},e.removeQueries=function(r,i){var o=Yi(r,i),s=o[0],a=this.queryCache;vt.batch(function(){a.findAll(s).forEach(function(l){a.remove(l)})})},e.resetQueries=function(r,i,o){var s=this,a=Yi(r,i,o),l=a[0],u=a[1],c=this.queryCache,d=Ve({},l,{active:!0});return vt.batch(function(){return c.findAll(l).forEach(function(h){h.reset()}),s.refetchQueries(d,u)})},e.cancelQueries=function(r,i,o){var s=this,a=Yi(r,i,o),l=a[0],u=a[1],c=u===void 0?{}:u;typeof c.revert>"u"&&(c.revert=!0);var d=vt.batch(function(){return s.queryCache.findAll(l).map(function(h){return h.cancel(c)})});return Promise.all(d).then(ln).catch(ln)},e.invalidateQueries=function(r,i,o){var s,a,l,u=this,c=Yi(r,i,o),d=c[0],h=c[1],f=Ve({},d,{active:(s=(a=d.refetchActive)!=null?a:d.active)!=null?s:!0,inactive:(l=d.refetchInactive)!=null?l:!1});return vt.batch(function(){return u.queryCache.findAll(d).forEach(function(p){p.invalidate()}),u.refetchQueries(f,h)})},e.refetchQueries=function(r,i,o){var s=this,a=Yi(r,i,o),l=a[0],u=a[1],c=vt.batch(function(){return s.queryCache.findAll(l).map(function(h){return h.fetch(void 0,Ve({},u,{meta:{refetchPage:l==null?void 0:l.refetchPage}}))})}),d=Promise.all(c).then(ln);return u!=null&&u.throwOnError||(d=d.catch(ln)),d},e.fetchQuery=function(r,i,o){var s=Mh(r,i,o),a=this.defaultQueryOptions(s);typeof a.retry>"u"&&(a.retry=!1);var l=this.queryCache.build(this,a);return l.isStaleByTime(a.staleTime)?l.fetch(a):Promise.resolve(l.state.data)},e.prefetchQuery=function(r,i,o){return this.fetchQuery(r,i,o).then(ln).catch(ln)},e.fetchInfiniteQuery=function(r,i,o){var s=Mh(r,i,o);return s.behavior=p3(),this.fetchQuery(s)},e.prefetchInfiniteQuery=function(r,i,o){return this.fetchInfiniteQuery(r,i,o).then(ln).catch(ln)},e.cancelMutations=function(){var r=this,i=vt.batch(function(){return r.mutationCache.getAll().map(function(o){return o.cancel()})});return Promise.all(i).then(ln).catch(ln)},e.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},e.executeMutation=function(r){return this.mutationCache.build(this,r).execute()},e.getQueryCache=function(){return this.queryCache},e.getMutationCache=function(){return this.mutationCache},e.getDefaultOptions=function(){return this.defaultOptions},e.setDefaultOptions=function(r){this.defaultOptions=r},e.setQueryDefaults=function(r,i){var o=this.queryDefaults.find(function(s){return cs(r)===cs(s.queryKey)});o?o.defaultOptions=i:this.queryDefaults.push({queryKey:r,defaultOptions:i})},e.getQueryDefaults=function(r){var i;return r?(i=this.queryDefaults.find(function(o){return Rf(r,o.queryKey)}))==null?void 0:i.defaultOptions:void 0},e.setMutationDefaults=function(r,i){var o=this.mutationDefaults.find(function(s){return cs(r)===cs(s.mutationKey)});o?o.defaultOptions=i:this.mutationDefaults.push({mutationKey:r,defaultOptions:i})},e.getMutationDefaults=function(r){var i;return r?(i=this.mutationDefaults.find(function(o){return Rf(r,o.mutationKey)}))==null?void 0:i.defaultOptions:void 0},e.defaultQueryOptions=function(r){if(r!=null&&r._defaulted)return r;var i=Ve({},this.defaultOptions.queries,this.getQueryDefaults(r==null?void 0:r.queryKey),r,{_defaulted:!0});return!i.queryHash&&i.queryKey&&(i.queryHash=e_(i.queryKey,i)),i},e.defaultQueryObserverOptions=function(r){return this.defaultQueryOptions(r)},e.defaultMutationOptions=function(r){return r!=null&&r._defaulted?r:Ve({},this.defaultOptions.mutations,this.getMutationDefaults(r==null?void 0:r.mutationKey),r,{_defaulted:!0})},e.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},t}(),y3=function(t){Yc(e,t);function e(r,i){var o;return o=t.call(this)||this,o.client=r,o.options=i,o.trackedProps=[],o.selectError=null,o.bindMethods(),o.setOptions(i),o}var n=e.prototype;return n.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},n.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),SS(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},n.onUnsubscribe=function(){this.listeners.length||this.destroy()},n.shouldFetchOnReconnect=function(){return vv(this.currentQuery,this.options,this.options.refetchOnReconnect)},n.shouldFetchOnWindowFocus=function(){return vv(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},n.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},n.setOptions=function(i,o){var s=this.options,a=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(i),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=s.queryKey),this.updateQuery();var l=this.hasListeners();l&&TS(this.currentQuery,a,this.options,s)&&this.executeFetch(),this.updateResult(o),l&&(this.currentQuery!==a||this.options.enabled!==s.enabled||this.options.staleTime!==s.staleTime)&&this.updateStaleTimeout();var u=this.computeRefetchInterval();l&&(this.currentQuery!==a||this.options.enabled!==s.enabled||u!==this.currentRefetchInterval)&&this.updateRefetchInterval(u)},n.getOptimisticResult=function(i){var o=this.client.defaultQueryObserverOptions(i),s=this.client.getQueryCache().build(this.client,o);return this.createResult(s,o)},n.getCurrentResult=function(){return this.currentResult},n.trackResult=function(i,o){var s=this,a={},l=function(c){s.trackedProps.includes(c)||s.trackedProps.push(c)};return Object.keys(i).forEach(function(u){Object.defineProperty(a,u,{configurable:!1,enumerable:!0,get:function(){return l(u),i[u]}})}),(o.useErrorBoundary||o.suspense)&&l("error"),a},n.getNextResult=function(i){var o=this;return new Promise(function(s,a){var l=o.subscribe(function(u){u.isFetching||(l(),u.isError&&(i!=null&&i.throwOnError)?a(u.error):s(u))})})},n.getCurrentQuery=function(){return this.currentQuery},n.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},n.refetch=function(i){return this.fetch(Ve({},i,{meta:{refetchPage:i==null?void 0:i.refetchPage}}))},n.fetchOptimistic=function(i){var o=this,s=this.client.defaultQueryObserverOptions(i),a=this.client.getQueryCache().build(this.client,s);return a.fetch().then(function(){return o.createResult(a,s)})},n.fetch=function(i){var o=this;return this.executeFetch(i).then(function(){return o.updateResult(),o.currentResult})},n.executeFetch=function(i){this.updateQuery();var o=this.currentQuery.fetch(this.options,i);return i!=null&&i.throwOnError||(o=o.catch(ln)),o},n.updateStaleTimeout=function(){var i=this;if(this.clearStaleTimeout(),!(kf||this.currentResult.isStale||!gv(this.options.staleTime))){var o=mO(this.currentResult.dataUpdatedAt,this.options.staleTime),s=o+1;this.staleTimeoutId=setTimeout(function(){i.currentResult.isStale||i.updateResult()},s)}},n.computeRefetchInterval=function(){var i;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(i=this.options.refetchInterval)!=null?i:!1},n.updateRefetchInterval=function(i){var o=this;this.clearRefetchInterval(),this.currentRefetchInterval=i,!(kf||this.options.enabled===!1||!gv(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(o.options.refetchIntervalInBackground||Ru.isFocused())&&o.executeFetch()},this.currentRefetchInterval))},n.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},n.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},n.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},n.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},n.createResult=function(i,o){var s=this.currentQuery,a=this.options,l=this.currentResult,u=this.currentResultState,c=this.currentResultOptions,d=i!==s,h=d?i.state:this.currentQueryInitialState,f=d?this.currentResult:this.previousQueryResult,p=i.state,m=p.dataUpdatedAt,b=p.error,g=p.errorUpdatedAt,y=p.isFetching,v=p.status,_=!1,S=!1,C;if(o.optimisticResults){var I=this.hasListeners(),R=!I&&SS(i,o),B=I&&TS(i,s,o,a);(R||B)&&(y=!0,m||(v="loading"))}if(o.keepPreviousData&&!p.dataUpdateCount&&(f!=null&&f.isSuccess)&&v!=="error")C=f.data,m=f.dataUpdatedAt,v=f.status,_=!0;else if(o.select&&typeof p.data<"u")if(l&&p.data===(u==null?void 0:u.data)&&o.select===this.selectFn)C=this.selectResult;else try{this.selectFn=o.select,C=o.select(p.data),o.structuralSharing!==!1&&(C=Pf(l==null?void 0:l.data,C)),this.selectResult=C,this.selectError=null}catch(N){Af().error(N),this.selectError=N}else C=p.data;if(typeof o.placeholderData<"u"&&typeof C>"u"&&(v==="loading"||v==="idle")){var P;if(l!=null&&l.isPlaceholderData&&o.placeholderData===(c==null?void 0:c.placeholderData))P=l.data;else if(P=typeof o.placeholderData=="function"?o.placeholderData():o.placeholderData,o.select&&typeof P<"u")try{P=o.select(P),o.structuralSharing!==!1&&(P=Pf(l==null?void 0:l.data,P)),this.selectError=null}catch(N){Af().error(N),this.selectError=N}typeof P<"u"&&(v="success",C=P,S=!0)}this.selectError&&(b=this.selectError,C=this.selectResult,g=Date.now(),v="error");var T={status:v,isLoading:v==="loading",isSuccess:v==="success",isError:v==="error",isIdle:v==="idle",data:C,dataUpdatedAt:m,error:b,errorUpdatedAt:g,failureCount:p.fetchFailureCount,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>h.dataUpdateCount||p.errorUpdateCount>h.errorUpdateCount,isFetching:y,isRefetching:y&&v!=="loading",isLoadingError:v==="error"&&p.dataUpdatedAt===0,isPlaceholderData:S,isPreviousData:_,isRefetchError:v==="error"&&p.dataUpdatedAt!==0,isStale:t_(i,o),refetch:this.refetch,remove:this.remove};return T},n.shouldNotifyListeners=function(i,o){if(!o)return!0;var s=this.options,a=s.notifyOnChangeProps,l=s.notifyOnChangePropsExclusions;if(!a&&!l||a==="tracked"&&!this.trackedProps.length)return!0;var u=a==="tracked"?this.trackedProps:a;return Object.keys(i).some(function(c){var d=c,h=i[d]!==o[d],f=u==null?void 0:u.some(function(m){return m===c}),p=l==null?void 0:l.some(function(m){return m===c});return h&&!p&&(!u||f)})},n.updateResult=function(i){var o=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!t3(this.currentResult,o)){var s={cache:!0};(i==null?void 0:i.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,o)&&(s.listeners=!0),this.notify(Ve({},s,i))}},n.updateQuery=function(){var i=this.client.getQueryCache().build(this.client,this.options);if(i!==this.currentQuery){var o=this.currentQuery;this.currentQuery=i,this.currentQueryInitialState=i.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(o==null||o.removeObserver(this),i.addObserver(this))}},n.onQueryUpdate=function(i){var o={};i.type==="success"?o.onSuccess=!0:i.type==="error"&&!$h(i.error)&&(o.onError=!0),this.updateResult(o),this.hasListeners()&&this.updateTimers()},n.notify=function(i){var o=this;vt.batch(function(){i.onSuccess?(o.options.onSuccess==null||o.options.onSuccess(o.currentResult.data),o.options.onSettled==null||o.options.onSettled(o.currentResult.data,null)):i.onError&&(o.options.onError==null||o.options.onError(o.currentResult.error),o.options.onSettled==null||o.options.onSettled(void 0,o.currentResult.error)),i.listeners&&o.listeners.forEach(function(s){s(o.currentResult)}),i.cache&&o.client.getQueryCache().notify({query:o.currentQuery,type:"observerResultsUpdated"})})},e}(Xc);function v3(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function SS(t,e){return v3(t,e)||t.state.dataUpdatedAt>0&&vv(t,e,e.refetchOnMount)}function vv(t,e,n){if(e.enabled!==!1){var r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&t_(t,e)}return!1}function TS(t,e,n,r){return n.enabled!==!1&&(t!==e||r.enabled===!1)&&(!n.suspense||t.state.status!=="error")&&t_(t,n)}function t_(t,e){return t.isStaleByTime(e.staleTime)}var b3=XU.unstable_batchedUpdates;vt.setBatchNotifyFunction(b3);var w3=console;a3(w3);var CS=ke.createContext(void 0),_O=ke.createContext(!1);function EO(t){return t&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=CS),window.ReactQueryClientContext):CS}var _3=function(){var e=ke.useContext(EO(ke.useContext(_O)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},E3=function(e){var n=e.client,r=e.contextSharing,i=r===void 0?!1:r,o=e.children;ke.useEffect(function(){return n.mount(),function(){n.unmount()}},[n]);var s=EO(i);return ke.createElement(_O.Provider,{value:i},ke.createElement(s.Provider,{value:n},o))};function x3(){var t=!1;return{clearReset:function(){t=!1},reset:function(){t=!0},isReset:function(){return t}}}var S3=ke.createContext(x3()),T3=function(){return ke.useContext(S3)};function C3(t,e,n){return typeof e=="function"?e.apply(void 0,n):typeof e=="boolean"?e:!!t}function k3(t,e){var n=ke.useRef(!1),r=ke.useState(0),i=r[1],o=_3(),s=T3(),a=o.defaultQueryObserverOptions(t);a.optimisticResults=!0,a.onError&&(a.onError=vt.batchCalls(a.onError)),a.onSuccess&&(a.onSuccess=vt.batchCalls(a.onSuccess)),a.onSettled&&(a.onSettled=vt.batchCalls(a.onSettled)),a.suspense&&(typeof a.staleTime!="number"&&(a.staleTime=1e3),a.cacheTime===0&&(a.cacheTime=1)),(a.suspense||a.useErrorBoundary)&&(s.isReset()||(a.retryOnMount=!1));var l=ke.useState(function(){return new e(o,a)}),u=l[0],c=u.getOptimisticResult(a);if(ke.useEffect(function(){n.current=!0,s.clearReset();var d=u.subscribe(vt.batchCalls(function(){n.current&&i(function(h){return h+1})}));return u.updateResult(),function(){n.current=!1,d()}},[s,u]),ke.useEffect(function(){u.setOptions(a,{listeners:!1})},[a,u]),a.suspense&&c.isLoading)throw u.fetchOptimistic(a).then(function(d){var h=d.data;a.onSuccess==null||a.onSuccess(h),a.onSettled==null||a.onSettled(h,null)}).catch(function(d){s.clearReset(),a.onError==null||a.onError(d),a.onSettled==null||a.onSettled(void 0,d)});if(c.isError&&!s.isReset()&&!c.isFetching&&C3(a.suspense,a.useErrorBoundary,[c.error,u.getCurrentQuery()]))throw c.error;return a.notifyOnChangeProps==="tracked"&&(c=u.trackResult(c,a)),c}function n_(t,e,n){var r=Mh(t,e,n);return k3(r,y3)}function xO(t,e){return function(){return t.apply(e,arguments)}}const{toString:SO}=Object.prototype,{getPrototypeOf:r_}=Object,i_=(t=>e=>{const n=SO.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Mi=t=>(t=t.toLowerCase(),e=>i_(e)===t),rm=t=>e=>typeof e===t,{isArray:xl}=Array,mc=rm("undefined");function I3(t){return t!==null&&!mc(t)&&t.constructor!==null&&!mc(t.constructor)&&No(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const TO=Mi("ArrayBuffer");function R3(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&TO(t.buffer),e}const P3=rm("string"),No=rm("function"),CO=rm("number"),o_=t=>t!==null&&typeof t=="object",O3=t=>t===!0||t===!1,Fh=t=>{if(i_(t)!=="object")return!1;const e=r_(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},A3=Mi("Date"),N3=Mi("File"),D3=Mi("Blob"),M3=Mi("FileList"),L3=t=>o_(t)&&No(t.pipe),$3=t=>{const e="[object FormData]";return t&&(typeof FormData=="function"&&t instanceof FormData||SO.call(t)===e||No(t.toString)&&t.toString()===e)},F3=Mi("URLSearchParams"),j3=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Jc(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),xl(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),s=o.length;let a;for(r=0;r<s;r++)a=o[r],e.call(null,t[a],a,t)}}function kO(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const IO=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),RO=t=>!mc(t)&&t!==IO;function bv(){const{caseless:t}=RO(this)&&this||{},e={},n=(r,i)=>{const o=t&&kO(e,i)||i;Fh(e[o])&&Fh(r)?e[o]=bv(e[o],r):Fh(r)?e[o]=bv({},r):xl(r)?e[o]=r.slice():e[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Jc(arguments[r],n);return e}const U3=(t,e,n,{allOwnKeys:r}={})=>(Jc(e,(i,o)=>{n&&No(i)?t[o]=xO(i,n):t[o]=i},{allOwnKeys:r}),t),V3=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),B3=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},z3=(t,e,n,r)=>{let i,o,s;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)s=i[o],(!r||r(s,t,e))&&!a[s]&&(e[s]=t[s],a[s]=!0);t=n!==!1&&r_(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},W3=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},H3=t=>{if(!t)return null;if(xl(t))return t;let e=t.length;if(!CO(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},q3=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&r_(Uint8Array)),G3=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},K3=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},Q3=Mi("HTMLFormElement"),Y3=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),kS=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),X3=Mi("RegExp"),PO=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Jc(n,(i,o)=>{e(i,o,t)!==!1&&(r[o]=i)}),Object.defineProperties(t,r)},J3=t=>{PO(t,(e,n)=>{if(No(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(No(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Z3=(t,e)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return xl(t)?r(t):r(String(t).split(e)),n},e5=()=>{},t5=(t,e)=>(t=+t,Number.isFinite(t)?t:e),py="abcdefghijklmnopqrstuvwxyz",IS="0123456789",OO={DIGIT:IS,ALPHA:py,ALPHA_DIGIT:py+py.toUpperCase()+IS},n5=(t=16,e=OO.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function r5(t){return!!(t&&No(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const i5=t=>{const e=new Array(10),n=(r,i)=>{if(o_(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const o=xl(r)?[]:{};return Jc(r,(s,a)=>{const l=n(s,i+1);!mc(l)&&(o[a]=l)}),e[i]=void 0,o}}return r};return n(t,0)},z={isArray:xl,isArrayBuffer:TO,isBuffer:I3,isFormData:$3,isArrayBufferView:R3,isString:P3,isNumber:CO,isBoolean:O3,isObject:o_,isPlainObject:Fh,isUndefined:mc,isDate:A3,isFile:N3,isBlob:D3,isRegExp:X3,isFunction:No,isStream:L3,isURLSearchParams:F3,isTypedArray:q3,isFileList:M3,forEach:Jc,merge:bv,extend:U3,trim:j3,stripBOM:V3,inherits:B3,toFlatObject:z3,kindOf:i_,kindOfTest:Mi,endsWith:W3,toArray:H3,forEachEntry:G3,matchAll:K3,isHTMLForm:Q3,hasOwnProperty:kS,hasOwnProp:kS,reduceDescriptors:PO,freezeMethods:J3,toObjectSet:Z3,toCamelCase:Y3,noop:e5,toFiniteNumber:t5,findKey:kO,global:IO,isContextDefined:RO,ALPHABET:OO,generateString:n5,isSpecCompliantForm:r5,toJSONObject:i5};function $e(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}z.inherits($e,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:z.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const AO=$e.prototype,NO={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{NO[t]={value:t}});Object.defineProperties($e,NO);Object.defineProperty(AO,"isAxiosError",{value:!0});$e.from=(t,e,n,r,i,o)=>{const s=Object.create(AO);return z.toFlatObject(t,s,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),$e.call(s,t.message,e,n,r,i),s.cause=t,s.name=t.name,o&&Object.assign(s,o),s};const o5=null;function wv(t){return z.isPlainObject(t)||z.isArray(t)}function DO(t){return z.endsWith(t,"[]")?t.slice(0,-2):t}function RS(t,e,n){return t?t.concat(e).map(function(i,o){return i=DO(i),!n&&o?"["+i+"]":i}).join(n?".":""):e}function s5(t){return z.isArray(t)&&!t.some(wv)}const a5=z.toFlatObject(z,{},null,function(e){return/^is[A-Z]/.test(e)});function im(t,e,n){if(!z.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=z.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,b){return!z.isUndefined(b[m])});const r=n.metaTokens,i=n.visitor||c,o=n.dots,s=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&z.isSpecCompliantForm(e);if(!z.isFunction(i))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(z.isDate(p))return p.toISOString();if(!l&&z.isBlob(p))throw new $e("Blob is not supported. Use a Buffer instead.");return z.isArrayBuffer(p)||z.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function c(p,m,b){let g=p;if(p&&!b&&typeof p=="object"){if(z.endsWith(m,"{}"))m=r?m:m.slice(0,-2),p=JSON.stringify(p);else if(z.isArray(p)&&s5(p)||(z.isFileList(p)||z.endsWith(m,"[]"))&&(g=z.toArray(p)))return m=DO(m),g.forEach(function(v,_){!(z.isUndefined(v)||v===null)&&e.append(s===!0?RS([m],_,o):s===null?m:m+"[]",u(v))}),!1}return wv(p)?!0:(e.append(RS(b,m,o),u(p)),!1)}const d=[],h=Object.assign(a5,{defaultVisitor:c,convertValue:u,isVisitable:wv});function f(p,m){if(!z.isUndefined(p)){if(d.indexOf(p)!==-1)throw Error("Circular reference detected in "+m.join("."));d.push(p),z.forEach(p,function(g,y){(!(z.isUndefined(g)||g===null)&&i.call(e,g,z.isString(y)?y.trim():y,m,h))===!0&&f(g,m?m.concat(y):[y])}),d.pop()}}if(!z.isObject(t))throw new TypeError("data must be an object");return f(t),e}function PS(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function s_(t,e){this._pairs=[],t&&im(t,this,e)}const MO=s_.prototype;MO.append=function(e,n){this._pairs.push([e,n])};MO.toString=function(e){const n=e?function(r){return e.call(this,r,PS)}:PS;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function l5(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function LO(t,e,n){if(!e)return t;const r=n&&n.encode||l5,i=n&&n.serialize;let o;if(i?o=i(e,n):o=z.isURLSearchParams(e)?e.toString():new s_(e,n).toString(r),o){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class u5{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){z.forEach(this.handlers,function(r){r!==null&&e(r)})}}const OS=u5,$O={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},c5=typeof URLSearchParams<"u"?URLSearchParams:s_,d5=typeof FormData<"u"?FormData:null,h5=typeof Blob<"u"?Blob:null,f5=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),p5=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Br={isBrowser:!0,classes:{URLSearchParams:c5,FormData:d5,Blob:h5},isStandardBrowserEnv:f5,isStandardBrowserWebWorkerEnv:p5,protocols:["http","https","file","blob","url","data"]};function m5(t,e){return im(t,new Br.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,o){return Br.isNode&&z.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function g5(t){return z.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function y5(t){const e={},n=Object.keys(t);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],e[o]=t[o];return e}function FO(t){function e(n,r,i,o){let s=n[o++];const a=Number.isFinite(+s),l=o>=n.length;return s=!s&&z.isArray(i)?i.length:s,l?(z.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!a):((!i[s]||!z.isObject(i[s]))&&(i[s]=[]),e(n,r,i[s],o)&&z.isArray(i[s])&&(i[s]=y5(i[s])),!a)}if(z.isFormData(t)&&z.isFunction(t.entries)){const n={};return z.forEachEntry(t,(r,i)=>{e(g5(r),i,n,0)}),n}return null}const v5={"Content-Type":void 0};function b5(t,e,n){if(z.isString(t))try{return(e||JSON.parse)(t),z.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const om={transitional:$O,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=z.isObject(e);if(o&&z.isHTMLForm(e)&&(e=new FormData(e)),z.isFormData(e))return i&&i?JSON.stringify(FO(e)):e;if(z.isArrayBuffer(e)||z.isBuffer(e)||z.isStream(e)||z.isFile(e)||z.isBlob(e))return e;if(z.isArrayBufferView(e))return e.buffer;if(z.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return m5(e,this.formSerializer).toString();if((a=z.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return im(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),b5(e)):e}],transformResponse:[function(e){const n=this.transitional||om.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(e&&z.isString(e)&&(r&&!this.responseType||i)){const s=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(s)throw a.name==="SyntaxError"?$e.from(a,$e.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Br.classes.FormData,Blob:Br.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};z.forEach(["delete","get","head"],function(e){om.headers[e]={}});z.forEach(["post","put","patch"],function(e){om.headers[e]=z.merge(v5)});const a_=om,w5=z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),_5=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(s){i=s.indexOf(":"),n=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!n||e[n]&&w5[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},AS=Symbol("internals");function Ql(t){return t&&String(t).trim().toLowerCase()}function jh(t){return t===!1||t==null?t:z.isArray(t)?t.map(jh):String(t)}function E5(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}function x5(t){return/^[-_a-zA-Z]+$/.test(t.trim())}function my(t,e,n,r,i){if(z.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!z.isString(e)){if(z.isString(r))return e.indexOf(r)!==-1;if(z.isRegExp(r))return r.test(e)}}function S5(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function T5(t,e){const n=z.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,o,s){return this[r].call(this,e,i,o,s)},configurable:!0})})}class sm{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function o(a,l,u){const c=Ql(l);if(!c)throw new Error("header name must be a non-empty string");const d=z.findKey(i,c);(!d||i[d]===void 0||u===!0||u===void 0&&i[d]!==!1)&&(i[d||l]=jh(a))}const s=(a,l)=>z.forEach(a,(u,c)=>o(u,c,l));return z.isPlainObject(e)||e instanceof this.constructor?s(e,n):z.isString(e)&&(e=e.trim())&&!x5(e)?s(_5(e),n):e!=null&&o(n,e,r),this}get(e,n){if(e=Ql(e),e){const r=z.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return E5(i);if(z.isFunction(n))return n.call(this,i,r);if(z.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Ql(e),e){const r=z.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||my(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function o(s){if(s=Ql(s),s){const a=z.findKey(r,s);a&&(!n||my(r,r[a],a,n))&&(delete r[a],i=!0)}}return z.isArray(e)?e.forEach(o):o(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!e||my(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const n=this,r={};return z.forEach(this,(i,o)=>{const s=z.findKey(r,o);if(s){n[s]=jh(i),delete n[o];return}const a=e?S5(o):String(o).trim();a!==o&&delete n[o],n[a]=jh(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return z.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&z.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[AS]=this[AS]={accessors:{}}).accessors,i=this.prototype;function o(s){const a=Ql(s);r[a]||(T5(i,s),r[a]=!0)}return z.isArray(e)?e.forEach(o):o(e),this}}sm.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);z.freezeMethods(sm.prototype);z.freezeMethods(sm);const yi=sm;function gy(t,e){const n=this||a_,r=e||n,i=yi.from(r.headers);let o=r.data;return z.forEach(t,function(a){o=a.call(n,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function jO(t){return!!(t&&t.__CANCEL__)}function Zc(t,e,n){$e.call(this,t??"canceled",$e.ERR_CANCELED,e,n),this.name="CanceledError"}z.inherits(Zc,$e,{__CANCEL__:!0});function C5(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new $e("Request failed with status code "+n.status,[$e.ERR_BAD_REQUEST,$e.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const k5=Br.isStandardBrowserEnv?function(){return{write:function(n,r,i,o,s,a){const l=[];l.push(n+"="+encodeURIComponent(r)),z.isNumber(i)&&l.push("expires="+new Date(i).toGMTString()),z.isString(o)&&l.push("path="+o),z.isString(s)&&l.push("domain="+s),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function I5(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function R5(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function UO(t,e){return t&&!I5(e)?R5(t,e):e}const P5=Br.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(o){let s=o;return e&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(s){const a=z.isString(s)?i(s):s;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function O5(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function A5(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,o=0,s;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=r[o];s||(s=u),n[i]=l,r[i]=u;let d=o,h=0;for(;d!==i;)h+=n[d++],d=d%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),u-s<e)return;const f=c&&u-c;return f?Math.round(h*1e3/f):void 0}}function NS(t,e){let n=0;const r=A5(50,250);return i=>{const o=i.loaded,s=i.lengthComputable?i.total:void 0,a=o-n,l=r(a),u=o<=s;n=o;const c={loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:l||void 0,estimated:l&&s&&u?(s-o)/l:void 0,event:i};c[e?"download":"upload"]=!0,t(c)}}const N5=typeof XMLHttpRequest<"u",D5=N5&&function(t){return new Promise(function(n,r){let i=t.data;const o=yi.from(t.headers).normalize(),s=t.responseType;let a;function l(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}z.isFormData(i)&&(Br.isStandardBrowserEnv||Br.isStandardBrowserWebWorkerEnv)&&o.setContentType(!1);let u=new XMLHttpRequest;if(t.auth){const f=t.auth.username||"",p=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";o.set("Authorization","Basic "+btoa(f+":"+p))}const c=UO(t.baseURL,t.url);u.open(t.method.toUpperCase(),LO(c,t.params,t.paramsSerializer),!0),u.timeout=t.timeout;function d(){if(!u)return;const f=yi.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders()),m={data:!s||s==="text"||s==="json"?u.responseText:u.response,status:u.status,statusText:u.statusText,headers:f,config:t,request:u};C5(function(g){n(g),l()},function(g){r(g),l()},m),u=null}if("onloadend"in u?u.onloadend=d:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(d)},u.onabort=function(){u&&(r(new $e("Request aborted",$e.ECONNABORTED,t,u)),u=null)},u.onerror=function(){r(new $e("Network Error",$e.ERR_NETWORK,t,u)),u=null},u.ontimeout=function(){let p=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const m=t.transitional||$O;t.timeoutErrorMessage&&(p=t.timeoutErrorMessage),r(new $e(p,m.clarifyTimeoutError?$e.ETIMEDOUT:$e.ECONNABORTED,t,u)),u=null},Br.isStandardBrowserEnv){const f=(t.withCredentials||P5(c))&&t.xsrfCookieName&&k5.read(t.xsrfCookieName);f&&o.set(t.xsrfHeaderName,f)}i===void 0&&o.setContentType(null),"setRequestHeader"in u&&z.forEach(o.toJSON(),function(p,m){u.setRequestHeader(m,p)}),z.isUndefined(t.withCredentials)||(u.withCredentials=!!t.withCredentials),s&&s!=="json"&&(u.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&u.addEventListener("progress",NS(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",NS(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=f=>{u&&(r(!f||f.type?new Zc(null,t,u):f),u.abort(),u=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));const h=O5(c);if(h&&Br.protocols.indexOf(h)===-1){r(new $e("Unsupported protocol "+h+":",$e.ERR_BAD_REQUEST,t));return}u.send(i||null)})},Uh={http:o5,xhr:D5};z.forEach(Uh,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const M5={getAdapter:t=>{t=z.isArray(t)?t:[t];const{length:e}=t;let n,r;for(let i=0;i<e&&(n=t[i],!(r=z.isString(n)?Uh[n.toLowerCase()]:n));i++);if(!r)throw r===!1?new $e(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(z.hasOwnProp(Uh,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!z.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:Uh};function yy(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Zc(null,t)}function DS(t){return yy(t),t.headers=yi.from(t.headers),t.data=gy.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),M5.getAdapter(t.adapter||a_.adapter)(t).then(function(r){return yy(t),r.data=gy.call(t,t.transformResponse,r),r.headers=yi.from(r.headers),r},function(r){return jO(r)||(yy(t),r&&r.response&&(r.response.data=gy.call(t,t.transformResponse,r.response),r.response.headers=yi.from(r.response.headers))),Promise.reject(r)})}const MS=t=>t instanceof yi?t.toJSON():t;function nl(t,e){e=e||{};const n={};function r(u,c,d){return z.isPlainObject(u)&&z.isPlainObject(c)?z.merge.call({caseless:d},u,c):z.isPlainObject(c)?z.merge({},c):z.isArray(c)?c.slice():c}function i(u,c,d){if(z.isUndefined(c)){if(!z.isUndefined(u))return r(void 0,u,d)}else return r(u,c,d)}function o(u,c){if(!z.isUndefined(c))return r(void 0,c)}function s(u,c){if(z.isUndefined(c)){if(!z.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function a(u,c,d){if(d in e)return r(u,c);if(d in t)return r(void 0,u)}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(u,c)=>i(MS(u),MS(c),!0)};return z.forEach(Object.keys(t).concat(Object.keys(e)),function(c){const d=l[c]||i,h=d(t[c],e[c],c);z.isUndefined(h)&&d!==a||(n[c]=h)}),n}const VO="1.3.4",l_={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{l_[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const LS={};l_.transitional=function(e,n,r){function i(o,s){return"[Axios v"+VO+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return(o,s,a)=>{if(e===!1)throw new $e(i(s," has been removed"+(n?" in "+n:"")),$e.ERR_DEPRECATED);return n&&!LS[s]&&(LS[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,s,a):!0}};function L5(t,e,n){if(typeof t!="object")throw new $e("options must be an object",$e.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const o=r[i],s=e[o];if(s){const a=t[o],l=a===void 0||s(a,o,t);if(l!==!0)throw new $e("option "+o+" must be "+l,$e.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new $e("Unknown option "+o,$e.ERR_BAD_OPTION)}}const _v={assertOptions:L5,validators:l_},zi=_v.validators;class Nf{constructor(e){this.defaults=e,this.interceptors={request:new OS,response:new OS}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=nl(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&_v.assertOptions(r,{silentJSONParsing:zi.transitional(zi.boolean),forcedJSONParsing:zi.transitional(zi.boolean),clarifyTimeoutError:zi.transitional(zi.boolean)},!1),i!==void 0&&_v.assertOptions(i,{encode:zi.function,serialize:zi.function},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s;s=o&&z.merge(o.common,o[n.method]),s&&z.forEach(["delete","get","head","post","put","patch","common"],p=>{delete o[p]}),n.headers=yi.concat(s,o);const a=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(l=l&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const u=[];this.interceptors.response.forEach(function(m){u.push(m.fulfilled,m.rejected)});let c,d=0,h;if(!l){const p=[DS.bind(this),void 0];for(p.unshift.apply(p,a),p.push.apply(p,u),h=p.length,c=Promise.resolve(n);d<h;)c=c.then(p[d++],p[d++]);return c}h=a.length;let f=n;for(d=0;d<h;){const p=a[d++],m=a[d++];try{f=p(f)}catch(b){m.call(this,b);break}}try{c=DS.call(this,f)}catch(p){return Promise.reject(p)}for(d=0,h=u.length;d<h;)c=c.then(u[d++],u[d++]);return c}getUri(e){e=nl(this.defaults,e);const n=UO(e.baseURL,e.url);return LO(n,e.params,e.paramsSerializer)}}z.forEach(["delete","get","head","options"],function(e){Nf.prototype[e]=function(n,r){return this.request(nl(r||{},{method:e,url:n,data:(r||{}).data}))}});z.forEach(["post","put","patch"],function(e){function n(r){return function(o,s,a){return this.request(nl(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}Nf.prototype[e]=n(),Nf.prototype[e+"Form"]=n(!0)});const Vh=Nf;class u_{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(a=>{r.subscribe(a),o=a}).then(i);return s.cancel=function(){r.unsubscribe(o)},s},e(function(o,s,a){r.reason||(r.reason=new Zc(o,s,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new u_(function(i){e=i}),cancel:e}}}const $5=u_;function F5(t){return function(n){return t.apply(null,n)}}function j5(t){return z.isObject(t)&&t.isAxiosError===!0}const Ev={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ev).forEach(([t,e])=>{Ev[e]=t});const U5=Ev;function BO(t){const e=new Vh(t),n=xO(Vh.prototype.request,e);return z.extend(n,Vh.prototype,e,{allOwnKeys:!0}),z.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return BO(nl(t,i))},n}const $t=BO(a_);$t.Axios=Vh;$t.CanceledError=Zc;$t.CancelToken=$5;$t.isCancel=jO;$t.VERSION=VO;$t.toFormData=im;$t.AxiosError=$e;$t.Cancel=$t.CanceledError;$t.all=function(e){return Promise.all(e)};$t.spread=F5;$t.isAxiosError=j5;$t.mergeConfig=nl;$t.AxiosHeaders=yi;$t.formToJSON=t=>FO(z.isHTMLForm(t)?new FormData(t):t);$t.HttpStatusCode=U5;$t.default=$t;const V5=$t;var xv={},B5={get exports(){return xv},set exports(t){xv=t}};(function(t){(function(e){var n=function(g,y,v){if(!u(y)||d(y)||h(y)||f(y)||l(y))return y;var _,S=0,C=0;if(c(y))for(_=[],C=y.length;S<C;S++)_.push(n(g,y[S],v));else{_={};for(var I in y)Object.prototype.hasOwnProperty.call(y,I)&&(_[g(I,v)]=n(g,y[I],v))}return _},r=function(g,y){y=y||{};var v=y.separator||"_",_=y.split||/(?=[A-Z])/;return g.split(_).join(v)},i=function(g){return p(g)?g:(g=g.replace(/[\-_\s]+(.)?/g,function(y,v){return v?v.toUpperCase():""}),g.substr(0,1).toLowerCase()+g.substr(1))},o=function(g){var y=i(g);return y.substr(0,1).toUpperCase()+y.substr(1)},s=function(g,y){return r(g,y).toLowerCase()},a=Object.prototype.toString,l=function(g){return typeof g=="function"},u=function(g){return g===Object(g)},c=function(g){return a.call(g)=="[object Array]"},d=function(g){return a.call(g)=="[object Date]"},h=function(g){return a.call(g)=="[object RegExp]"},f=function(g){return a.call(g)=="[object Boolean]"},p=function(g){return g=g-0,g===g},m=function(g,y){var v=y&&"process"in y?y.process:y;return typeof v!="function"?g:function(_,S){return v(_,g,S)}},b={camelize:i,decamelize:s,pascalize:o,depascalize:s,camelizeKeys:function(g,y){return n(m(i,y),g)},decamelizeKeys:function(g,y){return n(m(s,y),g,y)},pascalizeKeys:function(g,y){return n(m(o,y),g)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};t.exports?t.exports=b:e.humps=b})(ie)})(B5);const am=V5.create({headers:{"Content-Type":"application/json"}});am.interceptors.response.use(t=>(t.data&&(t.data=xv.camelizeKeys(t.data)),t.data?t.data:t),t=>{});const zO=()=>n_(["GET_CHARTS"],()=>am.get("https://mp3.zing.vn/xhr/chart-realtime?songId=0&videoId=0&albumId=0&chart=song&time=-1")),z5=(t,e)=>n_(["GET_DATA_INFORMATION",t],()=>am.get(`https://corsproxy.io/?${encodeURIComponent("https://mp3.zing.vn/xhr/media/get-source?type=audio&key="+t)}`),{enabled:!!t,onSuccess:n=>{e&&e(n.data)}}),W5=(t,e)=>n_(["GET_LYRIC_FROM_MUSIC",t],()=>am.get(t),{enabled:!!t,onSuccess:e&&e});let H5={data:""},q5=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||H5,G5=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,K5=/\/\*[^]*?\*\/|  +/g,$S=/\n+/g,eo=(t,e)=>{let n="",r="",i="";for(let o in t){let s=t[o];o[0]=="@"?o[1]=="i"?n=o+" "+s+";":r+=o[1]=="f"?eo(s,o):o+"{"+eo(s,o[1]=="k"?"":e)+"}":typeof s=="object"?r+=eo(s,e?e.replace(/([^,])+/g,a=>o.replace(/(^:.*)|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):o):s!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=eo.p?eo.p(o,s):o+":"+s+";")}return n+(e&&i?e+"{"+i+"}":i)+r},ri={},WO=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+WO(t[n]);return e}return t},Q5=(t,e,n,r,i)=>{let o=WO(t),s=ri[o]||(ri[o]=(l=>{let u=0,c=11;for(;u<l.length;)c=101*c+l.charCodeAt(u++)>>>0;return"go"+c})(o));if(!ri[s]){let l=o!==t?t:(u=>{let c,d,h=[{}];for(;c=G5.exec(u.replace(K5,""));)c[4]?h.shift():c[3]?(d=c[3].replace($S," ").trim(),h.unshift(h[0][d]=h[0][d]||{})):h[0][c[1]]=c[2].replace($S," ").trim();return h[0]})(t);ri[s]=eo(i?{["@keyframes "+s]:l}:l,n?"":"."+s)}let a=n&&ri.g?ri.g:null;return n&&(ri.g=ri[s]),((l,u,c,d)=>{d?u.data=u.data.replace(d,l):u.data.indexOf(l)===-1&&(u.data=c?l+u.data:u.data+l)})(ri[s],e,r,a),s},Y5=(t,e,n)=>t.reduce((r,i,o)=>{let s=e[o];if(s&&s.call){let a=s(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;s=l?"."+l:a&&typeof a=="object"?a.props?"":eo(a,""):a===!1?"":a}return r+i+(s??"")},"");function lm(t){let e=this||{},n=t.call?t(e.p):t;return Q5(n.unshift?n.raw?Y5(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,q5(e.target),e.g,e.o,e.k)}let HO,Sv,Tv;lm.bind({g:1});let Ci=lm.bind({k:1});function X5(t,e,n,r){eo.p=e,HO=t,Sv=n,Tv=r}function Go(t,e){let n=this||{};return function(){let r=arguments;function i(o,s){let a=Object.assign({},o),l=a.className||i.className;n.p=Object.assign({theme:Sv&&Sv()},a),n.o=/ *go\d+/.test(l),a.className=lm.apply(n,r)+(l?" "+l:""),e&&(a.ref=s);let u=t;return t[0]&&(u=a.as||t,delete a.as),Tv&&u[0]&&Tv(a),HO(u,a)}return e?e(i):i}}var J5=t=>typeof t=="function",Df=(t,e)=>J5(t)?t(e):t,Z5=(()=>{let t=0;return()=>(++t).toString()})(),qO=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),eV=20,Bh=new Map,tV=1e3,FS=t=>{if(Bh.has(t))return;let e=setTimeout(()=>{Bh.delete(t),Ks({type:4,toastId:t})},tV);Bh.set(t,e)},nV=t=>{let e=Bh.get(t);e&&clearTimeout(e)},Cv=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,eV)};case 1:return e.toast.id&&nV(e.toast.id),{...t,toasts:t.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case 2:let{toast:n}=e;return t.toasts.find(o=>o.id===n.id)?Cv(t,{type:1,toast:n}):Cv(t,{type:0,toast:n});case 3:let{toastId:r}=e;return r?FS(r):t.toasts.forEach(o=>{FS(o.id)}),{...t,toasts:t.toasts.map(o=>o.id===r||r===void 0?{...o,visible:!1}:o)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(o=>o.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},zh=[],Wh={toasts:[],pausedAt:void 0},Ks=t=>{Wh=Cv(Wh,t),zh.forEach(e=>{e(Wh)})},rV={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},iV=(t={})=>{let[e,n]=w.useState(Wh);w.useEffect(()=>(zh.push(n),()=>{let i=zh.indexOf(n);i>-1&&zh.splice(i,1)}),[e]);let r=e.toasts.map(i=>{var o,s;return{...t,...t[i.type],...i,duration:i.duration||((o=t[i.type])==null?void 0:o.duration)||(t==null?void 0:t.duration)||rV[i.type],style:{...t.style,...(s=t[i.type])==null?void 0:s.style,...i.style}}});return{...e,toasts:r}},oV=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||Z5()}),ed=t=>(e,n)=>{let r=oV(e,t,n);return Ks({type:2,toast:r}),r.id},Vn=(t,e)=>ed("blank")(t,e);Vn.error=ed("error");Vn.success=ed("success");Vn.loading=ed("loading");Vn.custom=ed("custom");Vn.dismiss=t=>{Ks({type:3,toastId:t})};Vn.remove=t=>Ks({type:4,toastId:t});Vn.promise=(t,e,n)=>{let r=Vn.loading(e.loading,{...n,...n==null?void 0:n.loading});return t.then(i=>(Vn.success(Df(e.success,i),{id:r,...n,...n==null?void 0:n.success}),i)).catch(i=>{Vn.error(Df(e.error,i),{id:r,...n,...n==null?void 0:n.error})}),t};var sV=(t,e)=>{Ks({type:1,toast:{id:t,height:e}})},aV=()=>{Ks({type:5,time:Date.now()})},lV=t=>{let{toasts:e,pausedAt:n}=iV(t);w.useEffect(()=>{if(n)return;let o=Date.now(),s=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(o-a.createdAt);if(l<0){a.visible&&Vn.dismiss(a.id);return}return setTimeout(()=>Vn.dismiss(a.id),l)});return()=>{s.forEach(a=>a&&clearTimeout(a))}},[e,n]);let r=w.useCallback(()=>{n&&Ks({type:6,time:Date.now()})},[n]),i=w.useCallback((o,s)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:u}=s||{},c=e.filter(f=>(f.position||u)===(o.position||u)&&f.height),d=c.findIndex(f=>f.id===o.id),h=c.filter((f,p)=>p<d&&f.visible).length;return c.filter(f=>f.visible).slice(...a?[h+1]:[0,h]).reduce((f,p)=>f+(p.height||0)+l,0)},[e]);return{toasts:e,handlers:{updateHeight:sV,startPause:aV,endPause:r,calculateOffset:i}}},uV=Ci`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,cV=Ci`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,dV=Ci`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,hV=Go("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${uV} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${cV} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${dV} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,fV=Ci`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,pV=Go("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${fV} 1s linear infinite;
`,mV=Ci`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,gV=Ci`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,yV=Go("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${mV} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${gV} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,vV=Go("div")`
  position: absolute;
`,bV=Go("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,wV=Ci`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,_V=Go("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${wV} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,EV=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?w.createElement(_V,null,e):e:n==="blank"?null:w.createElement(bV,null,w.createElement(pV,{...r}),n!=="loading"&&w.createElement(vV,null,n==="error"?w.createElement(hV,{...r}):w.createElement(yV,{...r})))},xV=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,SV=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,TV="0%{opacity:0;} 100%{opacity:1;}",CV="0%{opacity:1;} 100%{opacity:0;}",kV=Go("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,IV=Go("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,RV=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=qO()?[TV,CV]:[xV(n),SV(n)];return{animation:e?`${Ci(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ci(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},PV=w.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?RV(t.position||e||"top-center",t.visible):{opacity:0},o=w.createElement(EV,{toast:t}),s=w.createElement(IV,{...t.ariaProps},Df(t.message,t));return w.createElement(kV,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:o,message:s}):w.createElement(w.Fragment,null,o,s))});X5(w.createElement);var OV=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let o=w.useCallback(s=>{if(s){let a=()=>{let l=s.getBoundingClientRect().height;r(t,l)};a(),new MutationObserver(a).observe(s,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return w.createElement("div",{ref:o,className:e,style:n},i)},AV=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:qO()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},NV=lm`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,eh=16,DV=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,containerStyle:o,containerClassName:s})=>{let{toasts:a,handlers:l}=lV(n);return w.createElement("div",{style:{position:"fixed",zIndex:9999,top:eh,left:eh,right:eh,bottom:eh,pointerEvents:"none",...o},className:s,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(u=>{let c=u.position||e,d=l.calculateOffset(u,{reverseOrder:t,gutter:r,defaultPosition:e}),h=AV(c,d);return w.createElement(OV,{id:u.id,key:u.id,onHeightUpdate:l.updateHeight,className:u.visible?NV:"",style:h},u.type==="custom"?Df(u.message,u):i?i(u):w.createElement(PV,{toast:u,position:c}))}))},MV=Vn;const Li=w.createContext(null),LV=({children:t})=>{const[e,n]=w.useState(null),[r,i]=w.useState(void 0),[o,s]=w.useState(!0),[a,l]=w.useState(!1),[u,c]=w.useState(!1),[d,h]=w.useState(1),[f,p]=w.useState(1),[m,b]=w.useState(!1),{data:g}=zO();z5(e==null?void 0:e.code,_=>{if(!_.source[128]){MV.error("Bi nhc ny ang c vn ");return}i(_)});const y=w.useCallback(_=>{n(_)},[]);w.useEffect(()=>{n((g==null?void 0:g.data.song[0])??null)},[g]);const v=w.useCallback(_=>{if(!g||!e)return;const{data:{song:S}}=g,C=S.findIndex(I=>I.id===e.id);if(C!==-1)switch(_){case"RANDOM":const I=Math.floor(Math.random()*S.length);n(S[I]);return;case"NEXT":if(C===S.length-1)return;n(S[C+1]);return;case"PREVIOUS":if(C===0)return;n(S[C-1]);return}},[g,e]);return E(Li.Provider,{value:{audioCurrent:e,handleChooseAudio:y,sourceCurrent:r,handleChooseSong:v,isWaiting:o,isRandom:u,isLoop:a,setIsLoop:l,setVolume:p,setIsRandom:c,setIsWaiting:s,volume:f,isPlaying:m,setIsPlaying:b,duration:d,setDuration:h},children:t})};var kv={},$V={get exports(){return kv},set exports(t){kv=t}},GO={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rl=w;function FV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var jV=typeof Object.is=="function"?Object.is:FV,UV=rl.useState,VV=rl.useEffect,BV=rl.useLayoutEffect,zV=rl.useDebugValue;function WV(t,e){var n=e(),r=UV({inst:{value:n,getSnapshot:e}}),i=r[0].inst,o=r[1];return BV(function(){i.value=n,i.getSnapshot=e,vy(i)&&o({inst:i})},[t,n,e]),VV(function(){return vy(i)&&o({inst:i}),t(function(){vy(i)&&o({inst:i})})},[t]),zV(n),n}function vy(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!jV(t,n)}catch{return!0}}function HV(t,e){return e()}var qV=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?HV:WV;GO.useSyncExternalStore=rl.useSyncExternalStore!==void 0?rl.useSyncExternalStore:qV;(function(t){t.exports=GO})($V);var Iv={},GV={get exports(){return Iv},set exports(t){Iv=t}},KO={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var um=w,KV=kv;function QV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var YV=typeof Object.is=="function"?Object.is:QV,XV=KV.useSyncExternalStore,JV=um.useRef,ZV=um.useEffect,eB=um.useMemo,tB=um.useDebugValue;KO.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var o=JV(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=eB(function(){function l(f){if(!u){if(u=!0,c=f,f=r(f),i!==void 0&&s.hasValue){var p=s.value;if(i(p,f))return d=p}return d=f}if(p=d,YV(c,f))return p;var m=r(f);return i!==void 0&&i(p,m)?p:(c=f,d=m)}var u=!1,c,d,h=n===void 0?null:n;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,n,r,i]);var a=XV(t,o[0],o[1]);return ZV(function(){s.hasValue=!0,s.value=a},[a]),tB(a),a};(function(t){t.exports=KO})(GV);function nB(t){t()}let QO=nB;const rB=t=>QO=t,iB=()=>QO,Do=w.createContext(null);function YO(){return w.useContext(Do)}const oB=()=>{throw new Error("uSES not initialized!")};let XO=oB;const sB=t=>{XO=t},aB=(t,e)=>t===e;function lB(t=Do){const e=t===Do?YO:()=>w.useContext(t);return function(r,i=aB){const{store:o,subscription:s,getServerState:a}=e(),l=XO(s.addNestedSub,o.getState,a||o.getState,r,i);return w.useDebugValue(l),l}}const uB=lB();var Rv={},cB={get exports(){return Rv},set exports(t){Rv=t}},He={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gt=typeof Symbol=="function"&&Symbol.for,c_=Gt?Symbol.for("react.element"):60103,d_=Gt?Symbol.for("react.portal"):60106,cm=Gt?Symbol.for("react.fragment"):60107,dm=Gt?Symbol.for("react.strict_mode"):60108,hm=Gt?Symbol.for("react.profiler"):60114,fm=Gt?Symbol.for("react.provider"):60109,pm=Gt?Symbol.for("react.context"):60110,h_=Gt?Symbol.for("react.async_mode"):60111,mm=Gt?Symbol.for("react.concurrent_mode"):60111,gm=Gt?Symbol.for("react.forward_ref"):60112,ym=Gt?Symbol.for("react.suspense"):60113,dB=Gt?Symbol.for("react.suspense_list"):60120,vm=Gt?Symbol.for("react.memo"):60115,bm=Gt?Symbol.for("react.lazy"):60116,hB=Gt?Symbol.for("react.block"):60121,fB=Gt?Symbol.for("react.fundamental"):60117,pB=Gt?Symbol.for("react.responder"):60118,mB=Gt?Symbol.for("react.scope"):60119;function Jn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case c_:switch(t=t.type,t){case h_:case mm:case cm:case hm:case dm:case ym:return t;default:switch(t=t&&t.$$typeof,t){case pm:case gm:case bm:case vm:case fm:return t;default:return e}}case d_:return e}}}function JO(t){return Jn(t)===mm}He.AsyncMode=h_;He.ConcurrentMode=mm;He.ContextConsumer=pm;He.ContextProvider=fm;He.Element=c_;He.ForwardRef=gm;He.Fragment=cm;He.Lazy=bm;He.Memo=vm;He.Portal=d_;He.Profiler=hm;He.StrictMode=dm;He.Suspense=ym;He.isAsyncMode=function(t){return JO(t)||Jn(t)===h_};He.isConcurrentMode=JO;He.isContextConsumer=function(t){return Jn(t)===pm};He.isContextProvider=function(t){return Jn(t)===fm};He.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===c_};He.isForwardRef=function(t){return Jn(t)===gm};He.isFragment=function(t){return Jn(t)===cm};He.isLazy=function(t){return Jn(t)===bm};He.isMemo=function(t){return Jn(t)===vm};He.isPortal=function(t){return Jn(t)===d_};He.isProfiler=function(t){return Jn(t)===hm};He.isStrictMode=function(t){return Jn(t)===dm};He.isSuspense=function(t){return Jn(t)===ym};He.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===cm||t===mm||t===hm||t===dm||t===ym||t===dB||typeof t=="object"&&t!==null&&(t.$$typeof===bm||t.$$typeof===vm||t.$$typeof===fm||t.$$typeof===pm||t.$$typeof===gm||t.$$typeof===fB||t.$$typeof===pB||t.$$typeof===mB||t.$$typeof===hB)};He.typeOf=Jn;(function(t){t.exports=He})(cB);var ZO=Rv,gB={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},yB={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},eA={};eA[ZO.ForwardRef]=gB;eA[ZO.Memo]=yB;var jS={},vB={get exports(){return jS},set exports(t){jS=t}},qe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f_=Symbol.for("react.element"),p_=Symbol.for("react.portal"),wm=Symbol.for("react.fragment"),_m=Symbol.for("react.strict_mode"),Em=Symbol.for("react.profiler"),xm=Symbol.for("react.provider"),Sm=Symbol.for("react.context"),bB=Symbol.for("react.server_context"),Tm=Symbol.for("react.forward_ref"),Cm=Symbol.for("react.suspense"),km=Symbol.for("react.suspense_list"),Im=Symbol.for("react.memo"),Rm=Symbol.for("react.lazy"),wB=Symbol.for("react.offscreen"),tA;tA=Symbol.for("react.module.reference");function cr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case f_:switch(t=t.type,t){case wm:case Em:case _m:case Cm:case km:return t;default:switch(t=t&&t.$$typeof,t){case bB:case Sm:case Tm:case Rm:case Im:case xm:return t;default:return e}}case p_:return e}}}qe.ContextConsumer=Sm;qe.ContextProvider=xm;qe.Element=f_;qe.ForwardRef=Tm;qe.Fragment=wm;qe.Lazy=Rm;qe.Memo=Im;qe.Portal=p_;qe.Profiler=Em;qe.StrictMode=_m;qe.Suspense=Cm;qe.SuspenseList=km;qe.isAsyncMode=function(){return!1};qe.isConcurrentMode=function(){return!1};qe.isContextConsumer=function(t){return cr(t)===Sm};qe.isContextProvider=function(t){return cr(t)===xm};qe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===f_};qe.isForwardRef=function(t){return cr(t)===Tm};qe.isFragment=function(t){return cr(t)===wm};qe.isLazy=function(t){return cr(t)===Rm};qe.isMemo=function(t){return cr(t)===Im};qe.isPortal=function(t){return cr(t)===p_};qe.isProfiler=function(t){return cr(t)===Em};qe.isStrictMode=function(t){return cr(t)===_m};qe.isSuspense=function(t){return cr(t)===Cm};qe.isSuspenseList=function(t){return cr(t)===km};qe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===wm||t===Em||t===_m||t===Cm||t===km||t===wB||typeof t=="object"&&t!==null&&(t.$$typeof===Rm||t.$$typeof===Im||t.$$typeof===xm||t.$$typeof===Sm||t.$$typeof===Tm||t.$$typeof===tA||t.getModuleId!==void 0)};qe.typeOf=cr;(function(t){t.exports=qe})(vB);function _B(){const t=iB();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=e;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,o=n={callback:r,next:null,prev:n};return o.prev?o.prev.next=o:e=o,function(){!i||e===null||(i=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}const US={notify(){},get:()=>[]};function EB(t,e){let n,r=US;function i(d){return l(),r.subscribe(d)}function o(){r.notify()}function s(){c.onStateChange&&c.onStateChange()}function a(){return!!n}function l(){n||(n=e?e.addNestedSub(s):t.subscribe(s),r=_B())}function u(){n&&(n(),n=void 0,r.clear(),r=US)}const c={addNestedSub:i,notifyNestedSubs:o,handleChangeWrapper:s,isSubscribed:a,trySubscribe:l,tryUnsubscribe:u,getListeners:()=>r};return c}const xB=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",SB=xB?w.useLayoutEffect:w.useEffect;function TB({store:t,context:e,children:n,serverState:r}){const i=w.useMemo(()=>{const a=EB(t);return{store:t,subscription:a,getServerState:r?()=>r:void 0}},[t,r]),o=w.useMemo(()=>t.getState(),[t]);SB(()=>{const{subscription:a}=i;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),o!==t.getState()&&a.notifyNestedSubs(),()=>{a.tryUnsubscribe(),a.onStateChange=void 0}},[i,o]);const s=e||Do;return ke.createElement(s.Provider,{value:i},n)}function nA(t=Do){const e=t===Do?YO:()=>w.useContext(t);return function(){const{store:r}=e();return r}}const CB=nA();function kB(t=Do){const e=t===Do?CB:nA(t);return function(){return e().dispatch}}const IB=kB();sB(Iv.useSyncExternalStoreWithSelector);rB(Po.unstable_batchedUpdates);function wr(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Mo(t){return!!t&&!!t[at]}function ki(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===$B}(t)||Array.isArray(t)||!!t[GS]||!!(!((e=t.constructor)===null||e===void 0)&&e[GS])||m_(t)||g_(t))}function Ns(t,e,n){n===void 0&&(n=!1),Sl(t)===0?(n?Object.keys:ja)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,i){return e(i,r,t)})}function Sl(t){var e=t[at];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:m_(t)?2:g_(t)?3:0}function Fa(t,e){return Sl(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function RB(t,e){return Sl(t)===2?t.get(e):t[e]}function rA(t,e,n){var r=Sl(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function iA(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function m_(t){return MB&&t instanceof Map}function g_(t){return LB&&t instanceof Set}function ts(t){return t.o||t.t}function y_(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=sA(t);delete e[at];for(var n=ja(e),r=0;r<n.length;r++){var i=n[r],o=e[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(e[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function v_(t,e){return e===void 0&&(e=!1),b_(t)||Mo(t)||!ki(t)||(Sl(t)>1&&(t.set=t.add=t.clear=t.delete=PB),Object.freeze(t),e&&Ns(t,function(n,r){return v_(r,!0)},!0)),t}function PB(){wr(2)}function b_(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function qr(t){var e=Nv[t];return e||wr(18,t),e}function OB(t,e){Nv[t]||(Nv[t]=e)}function Pv(){return gc}function by(t,e){e&&(qr("Patches"),t.u=[],t.s=[],t.v=e)}function Mf(t){Ov(t),t.p.forEach(AB),t.p=null}function Ov(t){t===gc&&(gc=t.l)}function VS(t){return gc={p:[],l:gc,h:t,m:!0,_:0}}function AB(t){var e=t[at];e.i===0||e.i===1?e.j():e.g=!0}function wy(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.O||qr("ES5").S(e,t,r),r?(n[at].P&&(Mf(e),wr(4)),ki(t)&&(t=Lf(e,t),e.l||$f(e,t)),e.u&&qr("Patches").M(n[at].t,t,e.u,e.s)):t=Lf(e,n,[]),Mf(e),e.u&&e.v(e.u,e.s),t!==oA?t:void 0}function Lf(t,e,n){if(b_(e))return e;var r=e[at];if(!r)return Ns(e,function(a,l){return BS(t,r,e,a,l,n)},!0),e;if(r.A!==t)return e;if(!r.P)return $f(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=y_(r.k):r.o,o=i,s=!1;r.i===3&&(o=new Set(i),i.clear(),s=!0),Ns(o,function(a,l){return BS(t,r,i,a,l,n,s)}),$f(t,i,!1),n&&t.u&&qr("Patches").N(r,n,t.u,t.s)}return r.o}function BS(t,e,n,r,i,o,s){if(Mo(i)){var a=Lf(t,i,o&&e&&e.i!==3&&!Fa(e.R,r)?o.concat(r):void 0);if(rA(n,r,a),!Mo(a))return;t.m=!1}else s&&n.add(i);if(ki(i)&&!b_(i)){if(!t.h.D&&t._<1)return;Lf(t,i),e&&e.A.l||$f(t,i)}}function $f(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&v_(e,n)}function _y(t,e){var n=t[at];return(n?ts(n):t)[e]}function zS(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function to(t){t.P||(t.P=!0,t.l&&to(t.l))}function Ey(t){t.o||(t.o=y_(t.t))}function Av(t,e,n){var r=m_(e)?qr("MapSet").F(e,n):g_(e)?qr("MapSet").T(e,n):t.O?function(i,o){var s=Array.isArray(i),a={i:s?1:0,A:o?o.A:Pv(),P:!1,I:!1,R:{},l:o,t:i,k:null,o:null,j:null,C:!1},l=a,u=yc;s&&(l=[a],u=hu);var c=Proxy.revocable(l,u),d=c.revoke,h=c.proxy;return a.k=h,a.j=d,h}(e,n):qr("ES5").J(e,n);return(n?n.A:Pv()).p.push(r),r}function NB(t){return Mo(t)||wr(22,t),function e(n){if(!ki(n))return n;var r,i=n[at],o=Sl(n);if(i){if(!i.P&&(i.i<4||!qr("ES5").K(i)))return i.t;i.I=!0,r=WS(n,o),i.I=!1}else r=WS(n,o);return Ns(r,function(s,a){i&&RB(i.t,s)===a||rA(r,s,e(a))}),o===3?new Set(r):r}(t)}function WS(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return y_(t)}function DB(){function t(o,s){var a=i[o];return a?a.enumerable=s:i[o]=a={configurable:!0,enumerable:s,get:function(){var l=this[at];return yc.get(l,o)},set:function(l){var u=this[at];yc.set(u,o,l)}},a}function e(o){for(var s=o.length-1;s>=0;s--){var a=o[s][at];if(!a.P)switch(a.i){case 5:r(a)&&to(a);break;case 4:n(a)&&to(a)}}}function n(o){for(var s=o.t,a=o.k,l=ja(a),u=l.length-1;u>=0;u--){var c=l[u];if(c!==at){var d=s[c];if(d===void 0&&!Fa(s,c))return!0;var h=a[c],f=h&&h[at];if(f?f.t!==d:!iA(h,d))return!0}}var p=!!s[at];return l.length!==ja(s).length+(p?0:1)}function r(o){var s=o.k;if(s.length!==o.t.length)return!0;var a=Object.getOwnPropertyDescriptor(s,s.length-1);if(a&&!a.get)return!0;for(var l=0;l<s.length;l++)if(!s.hasOwnProperty(l))return!0;return!1}var i={};OB("ES5",{J:function(o,s){var a=Array.isArray(o),l=function(c,d){if(c){for(var h=Array(d.length),f=0;f<d.length;f++)Object.defineProperty(h,""+f,t(f,!0));return h}var p=sA(d);delete p[at];for(var m=ja(p),b=0;b<m.length;b++){var g=m[b];p[g]=t(g,c||!!p[g].enumerable)}return Object.create(Object.getPrototypeOf(d),p)}(a,o),u={i:a?5:4,A:s?s.A:Pv(),P:!1,I:!1,R:{},l:s,t:o,k:l,o:null,g:!1,C:!1};return Object.defineProperty(l,at,{value:u,writable:!0}),l},S:function(o,s,a){a?Mo(s)&&s[at].A===o&&e(o.p):(o.u&&function l(u){if(u&&typeof u=="object"){var c=u[at];if(c){var d=c.t,h=c.k,f=c.R,p=c.i;if(p===4)Ns(h,function(v){v!==at&&(d[v]!==void 0||Fa(d,v)?f[v]||l(h[v]):(f[v]=!0,to(c)))}),Ns(d,function(v){h[v]!==void 0||Fa(h,v)||(f[v]=!1,to(c))});else if(p===5){if(r(c)&&(to(c),f.length=!0),h.length<d.length)for(var m=h.length;m<d.length;m++)f[m]=!1;else for(var b=d.length;b<h.length;b++)f[b]=!0;for(var g=Math.min(h.length,d.length),y=0;y<g;y++)h.hasOwnProperty(y)||(f[y]=!0),f[y]===void 0&&l(h[y])}}}}(o.p[0]),e(o.p))},K:function(o){return o.i===4?n(o):r(o)}})}var HS,gc,w_=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",MB=typeof Map<"u",LB=typeof Set<"u",qS=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",oA=w_?Symbol.for("immer-nothing"):((HS={})["immer-nothing"]=!0,HS),GS=w_?Symbol.for("immer-draftable"):"__$immer_draftable",at=w_?Symbol.for("immer-state"):"__$immer_state",$B=""+Object.prototype.constructor,ja=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,sA=Object.getOwnPropertyDescriptors||function(t){var e={};return ja(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},Nv={},yc={get:function(t,e){if(e===at)return t;var n=ts(t);if(!Fa(n,e))return function(i,o,s){var a,l=zS(o,s);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0}(t,n,e);var r=n[e];return t.I||!ki(r)?r:r===_y(t.t,e)?(Ey(t),t.o[e]=Av(t.A.h,r,t)):r},has:function(t,e){return e in ts(t)},ownKeys:function(t){return Reflect.ownKeys(ts(t))},set:function(t,e,n){var r=zS(ts(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=_y(ts(t),e),o=i==null?void 0:i[at];if(o&&o.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(iA(n,i)&&(n!==void 0||Fa(t.t,e)))return!0;Ey(t),to(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return _y(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,Ey(t),to(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=ts(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){wr(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){wr(12)}},hu={};Ns(yc,function(t,e){hu[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),hu.deleteProperty=function(t,e){return hu.set.call(this,t,e,void 0)},hu.set=function(t,e,n){return yc.set.call(this,t[0],e,n,t[0])};var FB=function(){function t(n){var r=this;this.O=qS,this.D=!0,this.produce=function(i,o,s){if(typeof i=="function"&&typeof o!="function"){var a=o;o=i;var l=r;return function(m){var b=this;m===void 0&&(m=a);for(var g=arguments.length,y=Array(g>1?g-1:0),v=1;v<g;v++)y[v-1]=arguments[v];return l.produce(m,function(_){var S;return(S=o).call.apply(S,[b,_].concat(y))})}}var u;if(typeof o!="function"&&wr(6),s!==void 0&&typeof s!="function"&&wr(7),ki(i)){var c=VS(r),d=Av(r,i,void 0),h=!0;try{u=o(d),h=!1}finally{h?Mf(c):Ov(c)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(m){return by(c,s),wy(m,c)},function(m){throw Mf(c),m}):(by(c,s),wy(u,c))}if(!i||typeof i!="object"){if((u=o(i))===void 0&&(u=i),u===oA&&(u=void 0),r.D&&v_(u,!0),s){var f=[],p=[];qr("Patches").M(i,u,f,p),s(f,p)}return u}wr(21,i)},this.produceWithPatches=function(i,o){if(typeof i=="function")return function(u){for(var c=arguments.length,d=Array(c>1?c-1:0),h=1;h<c;h++)d[h-1]=arguments[h];return r.produceWithPatches(u,function(f){return i.apply(void 0,[f].concat(d))})};var s,a,l=r.produce(i,o,function(u,c){s=u,a=c});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,s,a]}):[l,s,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){ki(n)||wr(8),Mo(n)&&(n=NB(n));var r=VS(this),i=Av(this,n,void 0);return i[at].C=!0,Ov(r),i},e.finishDraft=function(n,r){var i=n&&n[at],o=i.A;return by(o,r),wy(void 0,o)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!qS&&wr(20),this.O=n},e.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var o=r[i];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}i>-1&&(r=r.slice(i+1));var s=qr("Patches").$;return Mo(n)?s(n,r):this.produce(n,function(a){return s(a,r)})},t}(),Gn=new FB,aA=Gn.produce;Gn.produceWithPatches.bind(Gn);Gn.setAutoFreeze.bind(Gn);Gn.setUseProxies.bind(Gn);Gn.applyPatches.bind(Gn);Gn.createDraft.bind(Gn);Gn.finishDraft.bind(Gn);function vc(t){return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vc(t)}function jB(t,e){if(vc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function UB(t){var e=jB(t,"string");return vc(e)==="symbol"?e:String(e)}function VB(t,e,n){return e=UB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KS(Object(n),!0).forEach(function(r){VB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function an(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var YS=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),xy=function(){return Math.random().toString(36).substring(7).split("").join(".")},Ff={INIT:"@@redux/INIT"+xy(),REPLACE:"@@redux/REPLACE"+xy(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+xy()}};function BB(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function lA(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(an(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(an(1));return n(lA)(t,e)}if(typeof t!="function")throw new Error(an(2));var i=t,o=e,s=[],a=s,l=!1;function u(){a===s&&(a=s.slice())}function c(){if(l)throw new Error(an(3));return o}function d(m){if(typeof m!="function")throw new Error(an(4));if(l)throw new Error(an(5));var b=!0;return u(),a.push(m),function(){if(b){if(l)throw new Error(an(6));b=!1,u();var y=a.indexOf(m);a.splice(y,1),s=null}}}function h(m){if(!BB(m))throw new Error(an(7));if(typeof m.type>"u")throw new Error(an(8));if(l)throw new Error(an(9));try{l=!0,o=i(o,m)}finally{l=!1}for(var b=s=a,g=0;g<b.length;g++){var y=b[g];y()}return m}function f(m){if(typeof m!="function")throw new Error(an(10));i=m,h({type:Ff.REPLACE})}function p(){var m,b=d;return m={subscribe:function(y){if(typeof y!="object"||y===null)throw new Error(an(11));function v(){y.next&&y.next(c())}v();var _=b(v);return{unsubscribe:_}}},m[YS]=function(){return this},m}return h({type:Ff.INIT}),r={dispatch:h,subscribe:d,getState:c,replaceReducer:f},r[YS]=p,r}function zB(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:Ff.INIT});if(typeof r>"u")throw new Error(an(12));if(typeof n(void 0,{type:Ff.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(an(13))})}function WB(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];typeof t[i]=="function"&&(n[i]=t[i])}var o=Object.keys(n),s;try{zB(n)}catch(a){s=a}return function(l,u){if(l===void 0&&(l={}),s)throw s;for(var c=!1,d={},h=0;h<o.length;h++){var f=o[h],p=n[f],m=l[f],b=p(m,u);if(typeof b>"u")throw u&&u.type,new Error(an(14));d[f]=b,c=c||b!==m}return c=c||o.length!==Object.keys(l).length,c?d:l}}function jf(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function HB(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),o=function(){throw new Error(an(15))},s={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},a=e.map(function(l){return l(s)});return o=jf.apply(void 0,a)(i.dispatch),QS(QS({},i),{},{dispatch:o})}}}function uA(t){var e=function(r){var i=r.dispatch,o=r.getState;return function(s){return function(a){return typeof a=="function"?a(i,o,t):s(a)}}};return e}var cA=uA();cA.withExtraArgument=uA;const XS=cA;var qB=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),GB=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Uf=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},KB=Object.defineProperty,QB=Object.defineProperties,YB=Object.getOwnPropertyDescriptors,JS=Object.getOwnPropertySymbols,XB=Object.prototype.hasOwnProperty,JB=Object.prototype.propertyIsEnumerable,ZS=function(t,e,n){return e in t?KB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},yo=function(t,e){for(var n in e||(e={}))XB.call(e,n)&&ZS(t,n,e[n]);if(JS)for(var r=0,i=JS(e);r<i.length;r++){var n=i[r];JB.call(e,n)&&ZS(t,n,e[n])}return t},Sy=function(t,e){return QB(t,YB(e))},ZB=function(t,e,n){return new Promise(function(r,i){var o=function(l){try{a(n.next(l))}catch(u){i(u)}},s=function(l){try{a(n.throw(l))}catch(u){i(u)}},a=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(o,s)};a((n=n.apply(t,e)).next())})},ez=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?jf:jf.apply(null,arguments)};function tz(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return e===n}var nz=function(t){qB(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,Uf([void 0],n[0].concat(this)))):new(e.bind.apply(e,Uf([void 0],n.concat(this))))},e}(Array);function Dv(t){return ki(t)?aA(t,function(){}):t}function rz(t){return typeof t=="boolean"}function iz(){return function(e){return oz(e)}}function oz(t){t===void 0&&(t={});var e=t.thunk,n=e===void 0?!0:e;t.immutableCheck,t.serializableCheck;var r=new nz;return n&&(rz(n)?r.push(XS):r.push(XS.withExtraArgument(n.extraArgument))),r}var sz=!0;function az(t){var e=iz(),n=t||{},r=n.reducer,i=r===void 0?void 0:r,o=n.middleware,s=o===void 0?e():o,a=n.devTools,l=a===void 0?!0:a,u=n.preloadedState,c=u===void 0?void 0:u,d=n.enhancers,h=d===void 0?void 0:d,f;if(typeof i=="function")f=i;else if(tz(i))f=WB(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var p=s;typeof p=="function"&&(p=p(e));var m=HB.apply(void 0,p),b=jf;l&&(b=ez(yo({trace:!sz},typeof l=="object"&&l)));var g=[m];Array.isArray(h)?g=Uf([m],h):typeof h=="function"&&(g=h(g));var y=b.apply(void 0,g);return lA(f,c,y)}function vo(t,e){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(e){var o=e.apply(void 0,r);if(!o)throw new Error("prepareAction did not return an object");return yo(yo({type:t,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:t,payload:r[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(r){return r.type===t},n}function dA(t){var e={},n=[],r,i={addCase:function(o,s){var a=typeof o=="string"?o:o.type;if(a in e)throw new Error("addCase cannot be called with two reducers for the same action type");return e[a]=s,i},addMatcher:function(o,s){return n.push({matcher:o,reducer:s}),i},addDefaultCase:function(o){return r=o,i}};return t(i),[e,n,r]}function lz(t){return typeof t=="function"}function uz(t,e,n,r){n===void 0&&(n=[]);var i=typeof e=="function"?dA(e):[e,n,r],o=i[0],s=i[1],a=i[2],l;if(lz(t))l=function(){return Dv(t())};else{var u=Dv(t);l=function(){return u}}function c(d,h){d===void 0&&(d=l());var f=Uf([o[h.type]],s.filter(function(p){var m=p.matcher;return m(h)}).map(function(p){var m=p.reducer;return m}));return f.filter(function(p){return!!p}).length===0&&(f=[a]),f.reduce(function(p,m){if(m)if(Mo(p)){var b=p,g=m(b,h);return g===void 0?p:g}else{if(ki(p))return aA(p,function(y){return m(y,h)});var g=m(p,h);if(g===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}return p},d)}return c.getInitialState=l,c}function cz(t,e){return t+"/"+e}function hA(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof t.initialState=="function"?t.initialState:Dv(t.initialState),r=t.reducers||{},i=Object.keys(r),o={},s={},a={};i.forEach(function(c){var d=r[c],h=cz(e,c),f,p;"reducer"in d?(f=d.reducer,p=d.prepare):f=d,o[c]=f,s[h]=f,a[c]=p?vo(h,p):vo(h)});function l(){var c=typeof t.extraReducers=="function"?dA(t.extraReducers):[t.extraReducers],d=c[0],h=d===void 0?{}:d,f=c[1],p=f===void 0?[]:f,m=c[2],b=m===void 0?void 0:m,g=yo(yo({},h),s);return uz(n,function(y){for(var v in g)y.addCase(v,g[v]);for(var _=0,S=p;_<S.length;_++){var C=S[_];y.addMatcher(C.matcher,C.reducer)}b&&y.addDefaultCase(b)})}var u;return{name:e,reducer:function(c,d){return u||(u=l()),u(c,d)},actions:a,caseReducers:o,getInitialState:function(){return u||(u=l()),u.getInitialState()}}}var dz="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",hz=function(t){t===void 0&&(t=21);for(var e="",n=t;n--;)e+=dz[Math.random()*64|0];return e},fz=["name","message","stack","code"],Ty=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),eT=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),pz=function(t){if(typeof t=="object"&&t!==null){for(var e={},n=0,r=fz;n<r.length;n++){var i=r[n];typeof t[i]=="string"&&(e[i]=t[i])}return e}return{message:String(t)}};(function(){function t(e,n,r){var i=vo(e+"/fulfilled",function(u,c,d,h){return{payload:u,meta:Sy(yo({},h||{}),{arg:d,requestId:c,requestStatus:"fulfilled"})}}),o=vo(e+"/pending",function(u,c,d){return{payload:void 0,meta:Sy(yo({},d||{}),{arg:c,requestId:u,requestStatus:"pending"})}}),s=vo(e+"/rejected",function(u,c,d,h,f){return{payload:h,error:(r&&r.serializeError||pz)(u||"Rejected"),meta:Sy(yo({},f||{}),{arg:d,requestId:c,rejectedWithValue:!!h,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function u(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return u.prototype.abort=function(){},u}();function l(u){return function(c,d,h){var f=r!=null&&r.idGenerator?r.idGenerator(u):hz(),p=new a,m;function b(y){m=y,p.abort()}var g=function(){return ZB(this,null,function(){var y,v,_,S,C,I,R;return GB(this,function(B){switch(B.label){case 0:return B.trys.push([0,4,,5]),S=(y=r==null?void 0:r.condition)==null?void 0:y.call(r,u,{getState:d,extra:h}),gz(S)?[4,S]:[3,2];case 1:S=B.sent(),B.label=2;case 2:if(S===!1||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return C=new Promise(function(P,T){return p.signal.addEventListener("abort",function(){return T({name:"AbortError",message:m||"Aborted"})})}),c(o(f,u,(v=r==null?void 0:r.getPendingMeta)==null?void 0:v.call(r,{requestId:f,arg:u},{getState:d,extra:h}))),[4,Promise.race([C,Promise.resolve(n(u,{dispatch:c,getState:d,extra:h,requestId:f,signal:p.signal,abort:b,rejectWithValue:function(P,T){return new Ty(P,T)},fulfillWithValue:function(P,T){return new eT(P,T)}})).then(function(P){if(P instanceof Ty)throw P;return P instanceof eT?i(P.payload,f,u,P.meta):i(P,f,u)})])];case 3:return _=B.sent(),[3,5];case 4:return I=B.sent(),_=I instanceof Ty?s(null,f,u,I.payload,I.meta):s(I,f,u),[3,5];case 5:return R=r&&!r.dispatchConditionRejection&&s.match(_)&&_.meta.condition,R||c(_),[2,_]}})})}();return Object.assign(g,{abort:b,requestId:f,arg:u,unwrap:function(){return g.then(mz)}})}}return Object.assign(l,{pending:o,rejected:s,fulfilled:i,typePrefix:e})}return t.withTypes=function(){return t},t})();function mz(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function gz(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var __="listenerMiddleware";vo(__+"/add");vo(__+"/removeAll");vo(__+"/remove");var tT;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);DB();const yz={currentTime:0,currentTimeTemp:0},fA=hA({name:"AudioSlice",initialState:yz,reducers:{updateCurrentTime:(t,{payload:e})=>{t.currentTime=e},updateCurrentTimeTemp:(t,{payload:e})=>{t.currentTimeTemp=e}}}),{updateCurrentTime:fu,updateCurrentTimeTemp:vz}=fA.actions,bz=fA.reducer,wz={keyword:""},pA=hA({name:"SearchSlice",initialState:wz,reducers:{handleSearch:(t,{payload:e})=>{t.keyword=e}}}),{handleSearch:_z}=pA.actions,Ez=pA.reducer,xz=az({reducer:{audio:bz,search:Ez}});/**
 * @remix-run/router v1.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ne(){return Ne=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ne.apply(this,arguments)}var kt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(kt||(kt={}));const nT="popstate";function Sz(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return bc("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ds(i)}return Cz(e,n,null,t)}function Ce(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function il(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Tz(){return Math.random().toString(36).substr(2,8)}function rT(t,e){return{usr:t.state,key:t.key,idx:e}}function bc(t,e,n,r){return n===void 0&&(n=null),Ne({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?$i(e):e,{state:n,key:e&&e.key||r||Tz()})}function Ds(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function $i(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Cz(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=kt.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(Ne({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function d(){a=kt.Pop;let b=c(),g=b==null?null:b-u;u=b,l&&l({action:a,location:m.location,delta:g})}function h(b,g){a=kt.Push;let y=bc(m.location,b,g);n&&n(y,b),u=c()+1;let v=rT(y,u),_=m.createHref(y);try{s.pushState(v,"",_)}catch{i.location.assign(_)}o&&l&&l({action:a,location:m.location,delta:1})}function f(b,g){a=kt.Replace;let y=bc(m.location,b,g);n&&n(y,b),u=c();let v=rT(y,u),_=m.createHref(y);s.replaceState(v,"",_),o&&l&&l({action:a,location:m.location,delta:0})}function p(b){let g=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof b=="string"?b:Ds(b);return Ce(g,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,g)}let m={get action(){return a},get location(){return t(i,s)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(nT,d),l=b,()=>{i.removeEventListener(nT,d),l=null}},createHref(b){return e(i,b)},createURL:p,encodeLocation(b){let g=p(b);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:f,go(b){return s.go(b)}};return m}var At;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(At||(At={}));const kz=new Set(["lazy","caseSensitive","path","id","index","children"]);function Iz(t){return t.index===!0}function mA(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,o)=>{let s=[...n,o],a=typeof i.id=="string"?i.id:s.join("-");if(Ce(i.index!==!0||!i.children,"Cannot specify children on an index route"),Ce(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),Iz(i)){let l=Ne({},i,{hasErrorBoundary:e(i),id:a});return r[a]=l,l}else{let l=Ne({},i,{id:a,hasErrorBoundary:e(i),children:void 0});return r[a]=l,i.children&&(l.children=mA(i.children,e,s,r)),l}})}function Sa(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?$i(e):e,i=Pm(r.pathname||"/",n);if(i==null)return null;let o=gA(t);Rz(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=Fz(o[a],Vz(i));return s}function gA(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(Ce(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=bo([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(Ce(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),gA(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:Lz(u,o.index),routesMeta:c})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of yA(o.path))i(o,s,l)}),e}function yA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=yA(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Rz(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:$z(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Pz=/^:\w+$/,Oz=3,Az=2,Nz=1,Dz=10,Mz=-2,iT=t=>t==="*";function Lz(t,e){let n=t.split("/"),r=n.length;return n.some(iT)&&(r+=Mz),e&&(r+=Az),n.filter(i=>!iT(i)).reduce((i,o)=>i+(Pz.test(o)?Oz:o===""?Nz:Dz),r)}function $z(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Fz(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=jz({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;o.push({params:r,pathname:bo([i,c.pathname]),pathnameBase:Hz(bo([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=bo([i,c.pathnameBase]))}return o}function jz(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Uz(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{if(c==="*"){let h=a[d]||"";s=o.slice(0,o.length-h.length).replace(/(.)\/+$/,"$1")}return u[c]=Bz(a[d]||"",c),u},{}),pathname:o,pathnameBase:s,pattern:t}}function Uz(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),il(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Vz(t){try{return decodeURI(t)}catch(e){return il(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Bz(t,e){try{return decodeURIComponent(t)}catch(n){return il(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Pm(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function zz(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?$i(t):t;return{pathname:n?n.startsWith("/")?n:Wz(n,e):e,search:qz(r),hash:Gz(i)}}function Wz(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Cy(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function E_(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function vA(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=$i(t):(i=Ne({},t),Ce(!i.pathname||!i.pathname.includes("?"),Cy("?","pathname","search",i)),Ce(!i.pathname||!i.pathname.includes("#"),Cy("#","pathname","hash",i)),Ce(!i.search||!i.search.includes("#"),Cy("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(r||s==null)a=n;else{let d=e.length-1;if(s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=zz(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const bo=t=>t.join("/").replace(/\/\/+/g,"/"),Hz=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),qz=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Gz=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class x_{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function bA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const wA=["post","put","patch","delete"],Kz=new Set(wA),Qz=["get",...wA],Yz=new Set(Qz),Xz=new Set([301,302,303,307,308]),Jz=new Set([307,308]),ky={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},Zz={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},oT={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},_A=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,EA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",e6=!EA,t6=t=>!!t.hasErrorBoundary;function n6(t){Ce(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let e=t.detectErrorBoundary||t6,n={},r=mA(t.routes,e,void 0,n),i,o=Ne({v7_normalizeFormMethod:!1},t.future),s=null,a=new Set,l=null,u=null,c=null,d=t.hydrationData!=null,h=Sa(r,t.history.location,t.basename),f=null;if(h==null){let k=$r(404,{pathname:t.history.location.pathname}),{matches:x,route:O}=hT(r);h=x,f={[O.id]:k}}let p=!h.some(k=>k.route.lazy)&&(!h.some(k=>k.route.loader)||t.hydrationData!=null),m,b={historyAction:t.history.action,location:t.history.location,matches:h,initialized:p,navigation:ky,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||f,fetchers:new Map,blockers:new Map},g=kt.Pop,y=!1,v,_=!1,S=!1,C=[],I=[],R=new Map,B=0,P=-1,T=new Map,N=new Set,$=new Map,F=new Map,V=new Map,j=!1;function Q(){return s=t.history.listen(k=>{let{action:x,location:O,delta:L}=k;if(j){j=!1;return}il(V.size===0||L!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ee=Ld({currentLocation:b.location,nextLocation:O,historyAction:x});if(ee&&L!=null){j=!0,t.history.go(L*-1),Vi(ee,{state:"blocked",location:O,proceed(){Vi(ee,{state:"proceeding",proceed:void 0,reset:void 0,location:O}),t.history.go(L)},reset(){Xo(ee),U({blockers:new Map(m.state.blockers)})}});return}return se(x,O)}),b.initialized||se(kt.Pop,b.location),m}function A(){s&&s(),a.clear(),v&&v.abort(),b.fetchers.forEach((k,x)=>Or(x)),b.blockers.forEach((k,x)=>Xo(x))}function W(k){return a.add(k),()=>a.delete(k)}function U(k){b=Ne({},b,k),a.forEach(x=>x(b))}function q(k,x){var O,L;let ee=b.actionData!=null&&b.navigation.formMethod!=null&&oi(b.navigation.formMethod)&&b.navigation.state==="loading"&&((O=k.state)==null?void 0:O._isRedirect)!==!0,he;x.actionData?Object.keys(x.actionData).length>0?he=x.actionData:he=null:ee?he=b.actionData:he=null;let re=x.loaderData?dT(b.loaderData,x.loaderData,x.matches||[],x.errors):b.loaderData;for(let[M]of V)Xo(M);let D=y===!0||b.navigation.formMethod!=null&&oi(b.navigation.formMethod)&&((L=k.state)==null?void 0:L._isRedirect)!==!0;i&&(r=i,i=void 0),U(Ne({},x,{actionData:he,loaderData:re,historyAction:g,location:k,initialized:!0,navigation:ky,revalidation:"idle",restoreScrollPosition:oa(k,x.matches||b.matches),preventScrollReset:D,blockers:new Map(b.blockers)})),_||g===kt.Pop||(g===kt.Push?t.history.push(k,k.state):g===kt.Replace&&t.history.replace(k,k.state)),g=kt.Pop,y=!1,_=!1,S=!1,C=[],I=[]}async function Z(k,x){if(typeof k=="number"){t.history.go(k);return}let{path:O,submission:L,error:ee}=sT(k,o,x),he=b.location,re=bc(b.location,O,x&&x.state);re=Ne({},re,t.history.encodeLocation(re));let D=x&&x.replace!=null?x.replace:void 0,M=kt.Push;D===!0?M=kt.Replace:D===!1||L!=null&&oi(L.formMethod)&&L.formAction===b.location.pathname+b.location.search&&(M=kt.Replace);let J=x&&"preventScrollReset"in x?x.preventScrollReset===!0:void 0,X=Ld({currentLocation:he,nextLocation:re,historyAction:M});if(X){Vi(X,{state:"blocked",location:re,proceed(){Vi(X,{state:"proceeding",proceed:void 0,reset:void 0,location:re}),Z(k,x)},reset(){Xo(X),U({blockers:new Map(b.blockers)})}});return}return await se(M,re,{submission:L,pendingError:ee,preventScrollReset:J,replace:x&&x.replace})}function _e(){if(hr(),U({revalidation:"loading"}),b.navigation.state!=="submitting"){if(b.navigation.state==="idle"){se(b.historyAction,b.location,{startUninterruptedRevalidation:!0});return}se(g||b.historyAction,b.navigation.location,{overrideNavigation:b.navigation})}}async function se(k,x,O){v&&v.abort(),v=null,g=k,_=(O&&O.startUninterruptedRevalidation)===!0,jl(b.location,b.matches),y=(O&&O.preventScrollReset)===!0;let L=i||r,ee=O&&O.overrideNavigation,he=Sa(L,x,t.basename);if(!he){let ge=$r(404,{pathname:x.pathname}),{matches:Te,route:Pe}=hT(L);ia(),q(x,{matches:Te,loaderData:{},errors:{[Pe.id]:ge}});return}if(a6(b.location,x)&&!(O&&O.submission&&oi(O.submission.formMethod))){q(x,{matches:he});return}v=new AbortController;let re=Xl(t.history,x,v.signal,O&&O.submission),D,M;if(O&&O.pendingError)M={[Ta(he).route.id]:O.pendingError};else if(O&&O.submission&&oi(O.submission.formMethod)){let ge=await Ee(re,x,O.submission,he,{replace:O.replace});if(ge.shortCircuited)return;D=ge.pendingActionData,M=ge.pendingActionError,ee=Ne({state:"loading",location:x},O.submission),re=new Request(re.url,{signal:re.signal})}let{shortCircuited:J,loaderData:X,errors:pe}=await xe(re,x,he,ee,O&&O.submission,O&&O.fetcherSubmission,O&&O.replace,D,M);J||(v=null,q(x,Ne({matches:he},D?{actionData:D}:{},{loaderData:X,errors:pe})))}async function Ee(k,x,O,L,ee){hr();let he=Ne({state:"submitting",location:x},O);U({navigation:he});let re,D=Mv(L,x);if(!D.route.action&&!D.route.lazy)re={type:At.error,error:$r(405,{method:k.method,pathname:x.pathname,routeId:D.route.id})};else if(re=await Yl("action",k,D,L,n,e,m.basename),k.signal.aborted)return{shortCircuited:!0};if(Ua(re)){let M;return ee&&ee.replace!=null?M=ee.replace:M=re.location===b.location.pathname+b.location.search,await Ke(b,re,{submission:O,replace:M}),{shortCircuited:!0}}if(Pu(re)){let M=Ta(L,D.route.id);return(ee&&ee.replace)!==!0&&(g=kt.Push),{pendingActionData:{},pendingActionError:{[M.route.id]:re.error}}}if(ds(re))throw $r(400,{type:"defer-action"});return{pendingActionData:{[D.route.id]:re.data}}}async function xe(k,x,O,L,ee,he,re,D,M){let J=L;J||(J=Ne({state:"loading",location:x,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},ee));let X=ee||he?ee||he:J.formMethod&&J.formAction&&J.formData&&J.formEncType?{formMethod:J.formMethod,formAction:J.formAction,formData:J.formData,formEncType:J.formEncType}:void 0,pe=i||r,[ge,Te]=aT(t.history,b,O,X,x,S,C,I,$,pe,t.basename,D,M);if(ia(_t=>!(O&&O.some(On=>On.route.id===_t))||ge&&ge.some(On=>On.route.id===_t)),ge.length===0&&Te.length===0)return q(x,Ne({matches:O,loaderData:{},errors:M||null},D?{actionData:D}:{})),{shortCircuited:!0};if(!_){Te.forEach(On=>{let Dr=b.fetchers.get(On.key),Ul={state:"loading",data:Dr&&Dr.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};b.fetchers.set(On.key,Ul)});let _t=D||b.actionData;U(Ne({navigation:J},_t?Object.keys(_t).length===0?{actionData:null}:{actionData:_t}:{},Te.length>0?{fetchers:new Map(b.fetchers)}:{}))}P=++B,Te.forEach(_t=>R.set(_t.key,v));let{results:Pe,loaderResults:Ue,fetcherResults:wt}=await En(b.matches,O,ge,Te,k);if(k.signal.aborted)return{shortCircuited:!0};Te.forEach(_t=>R.delete(_t.key));let Ye=fT(Pe);if(Ye)return await Ke(b,Ye,{replace:re}),{shortCircuited:!0};let{loaderData:dt,errors:Nr}=cT(b,O,ge,Ue,M,Te,wt,F);F.forEach((_t,On)=>{_t.subscribe(Dr=>{(Dr||_t.done)&&F.delete(On)})}),Fg();let fr=Fl(P);return Ne({loaderData:dt,errors:Nr},fr||Te.length>0?{fetchers:new Map(b.fetchers)}:{})}function gt(k){return b.fetchers.get(k)||Zz}function dr(k,x,O,L){if(e6)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");R.has(k)&&Ar(k);let he=Sa(i||r,O,t.basename);if(!he){Pn(k,x,$r(404,{pathname:O}));return}let{path:re,submission:D}=sT(O,o,L,!0),M=Mv(he,re);if(y=(L&&L.preventScrollReset)===!0,D&&oi(D.formMethod)){Kt(k,x,re,M,he,D);return}$.set(k,{routeId:x,path:re}),Ge(k,x,re,M,he,D)}async function Kt(k,x,O,L,ee,he){if(hr(),$.delete(k),!L.route.action&&!L.route.lazy){let ni=$r(405,{method:he.formMethod,pathname:O,routeId:x});Pn(k,x,ni);return}let re=b.fetchers.get(k),D=Ne({state:"submitting"},he,{data:re&&re.data," _hasFetcherDoneAnything ":!0});b.fetchers.set(k,D),U({fetchers:new Map(b.fetchers)});let M=new AbortController,J=Xl(t.history,O,M.signal,he);R.set(k,M);let X=await Yl("action",J,L,ee,n,e,m.basename);if(J.signal.aborted){R.get(k)===M&&R.delete(k);return}if(Ua(X)){R.delete(k),N.add(k);let ni=Ne({state:"loading"},he,{data:void 0," _hasFetcherDoneAnything ":!0});return b.fetchers.set(k,ni),U({fetchers:new Map(b.fetchers)}),Ke(b,X,{submission:he,isFetchActionRedirect:!0})}if(Pu(X)){Pn(k,x,X.error);return}if(ds(X))throw $r(400,{type:"defer-action"});let pe=b.navigation.location||b.location,ge=Xl(t.history,pe,M.signal),Te=i||r,Pe=b.navigation.state!=="idle"?Sa(Te,b.navigation.location,t.basename):b.matches;Ce(Pe,"Didn't find any matches after fetcher action");let Ue=++B;T.set(k,Ue);let wt=Ne({state:"loading",data:X.data},he,{" _hasFetcherDoneAnything ":!0});b.fetchers.set(k,wt);let[Ye,dt]=aT(t.history,b,Pe,he,pe,S,C,I,$,Te,t.basename,{[L.route.id]:X.data},void 0);dt.filter(ni=>ni.key!==k).forEach(ni=>{let Vg=ni.key,ux=b.fetchers.get(Vg),_4={state:"loading",data:ux&&ux.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};b.fetchers.set(Vg,_4),R.set(Vg,M)}),U({fetchers:new Map(b.fetchers)});let{results:Nr,loaderResults:fr,fetcherResults:_t}=await En(b.matches,Pe,Ye,dt,ge);if(M.signal.aborted)return;T.delete(k),R.delete(k),dt.forEach(ni=>R.delete(ni.key));let On=fT(Nr);if(On)return Ke(b,On);let{loaderData:Dr,errors:Ul}=cT(b,b.matches,Ye,fr,void 0,dt,_t,F),b4={state:"idle",data:X.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};b.fetchers.set(k,b4);let w4=Fl(Ue);b.navigation.state==="loading"&&Ue>P?(Ce(g,"Expected pending action"),v&&v.abort(),q(b.navigation.location,{matches:Pe,loaderData:Dr,errors:Ul,fetchers:new Map(b.fetchers)})):(U(Ne({errors:Ul,loaderData:dT(b.loaderData,Dr,Pe,Ul)},w4?{fetchers:new Map(b.fetchers)}:{})),S=!1)}async function Ge(k,x,O,L,ee,he){let re=b.fetchers.get(k),D=Ne({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},he,{data:re&&re.data," _hasFetcherDoneAnything ":!0});b.fetchers.set(k,D),U({fetchers:new Map(b.fetchers)});let M=new AbortController,J=Xl(t.history,O,M.signal);R.set(k,M);let X=await Yl("loader",J,L,ee,n,e,m.basename);if(ds(X)&&(X=await CA(X,J.signal,!0)||X),R.get(k)===M&&R.delete(k),J.signal.aborted)return;if(Ua(X)){await Ke(b,X);return}if(Pu(X)){let ge=Ta(b.matches,x);b.fetchers.delete(k),U({fetchers:new Map(b.fetchers),errors:{[ge.route.id]:X.error}});return}Ce(!ds(X),"Unhandled fetcher deferred data");let pe={state:"idle",data:X.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};b.fetchers.set(k,pe),U({fetchers:new Map(b.fetchers)})}async function Ke(k,x,O){var L;let{submission:ee,replace:he,isFetchActionRedirect:re}=O===void 0?{}:O;x.revalidate&&(S=!0);let D=bc(k.location,x.location,Ne({_isRedirect:!0},re?{_isFetchActionRedirect:!0}:{}));if(Ce(D,"Expected a location on the redirect navigation"),_A.test(x.location)&&EA&&typeof((L=window)==null?void 0:L.location)<"u"){let Te=t.history.createURL(x.location),Pe=Pm(Te.pathname,t.basename||"/")==null;if(window.location.origin!==Te.origin||Pe){he?window.location.replace(x.location):window.location.assign(x.location);return}}v=null;let M=he===!0?kt.Replace:kt.Push,{formMethod:J,formAction:X,formEncType:pe,formData:ge}=k.navigation;!ee&&J&&X&&ge&&pe&&(ee={formMethod:J,formAction:X,formEncType:pe,formData:ge}),Jz.has(x.status)&&ee&&oi(ee.formMethod)?await se(M,D,{submission:Ne({},ee,{formAction:x.location}),preventScrollReset:y}):re?await se(M,D,{overrideNavigation:{state:"loading",location:D,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},fetcherSubmission:ee,preventScrollReset:y}):await se(M,D,{overrideNavigation:{state:"loading",location:D,formMethod:ee?ee.formMethod:void 0,formAction:ee?ee.formAction:void 0,formEncType:ee?ee.formEncType:void 0,formData:ee?ee.formData:void 0},preventScrollReset:y})}async function En(k,x,O,L,ee){let he=await Promise.all([...O.map(M=>Yl("loader",ee,M,x,n,e,m.basename)),...L.map(M=>M.matches&&M.match?Yl("loader",Xl(t.history,M.path,ee.signal),M.match,M.matches,n,e,m.basename):{type:At.error,error:$r(404,{pathname:M.path})})]),re=he.slice(0,O.length),D=he.slice(O.length);return await Promise.all([pT(k,O,re,ee.signal,!1,b.loaderData),pT(k,L.map(M=>M.match),D,ee.signal,!0)]),{results:he,loaderResults:re,fetcherResults:D}}function hr(){S=!0,C.push(...ia()),$.forEach((k,x)=>{R.has(x)&&(I.push(x),Ar(x))})}function Pn(k,x,O){let L=Ta(b.matches,x);Or(k),U({errors:{[L.route.id]:O},fetchers:new Map(b.fetchers)})}function Or(k){R.has(k)&&Ar(k),$.delete(k),T.delete(k),N.delete(k),b.fetchers.delete(k)}function Ar(k){let x=R.get(k);Ce(x,"Expected fetch controller: "+k),x.abort(),R.delete(k)}function Ui(k){for(let x of k){let L={state:"idle",data:gt(x).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};b.fetchers.set(x,L)}}function Fg(){let k=[];for(let x of N){let O=b.fetchers.get(x);Ce(O,"Expected fetcher: "+x),O.state==="loading"&&(N.delete(x),k.push(x))}Ui(k)}function Fl(k){let x=[];for(let[O,L]of T)if(L<k){let ee=b.fetchers.get(O);Ce(ee,"Expected fetcher: "+O),ee.state==="loading"&&(Ar(O),T.delete(O),x.push(O))}return Ui(x),x.length>0}function Md(k,x){let O=b.blockers.get(k)||oT;return V.get(k)!==x&&V.set(k,x),O}function Xo(k){b.blockers.delete(k),V.delete(k)}function Vi(k,x){let O=b.blockers.get(k)||oT;Ce(O.state==="unblocked"&&x.state==="blocked"||O.state==="blocked"&&x.state==="blocked"||O.state==="blocked"&&x.state==="proceeding"||O.state==="blocked"&&x.state==="unblocked"||O.state==="proceeding"&&x.state==="unblocked","Invalid blocker state transition: "+O.state+" -> "+x.state),b.blockers.set(k,x),U({blockers:new Map(b.blockers)})}function Ld(k){let{currentLocation:x,nextLocation:O,historyAction:L}=k;if(V.size===0)return;V.size>1&&il(!1,"A router only supports one blocker at a time");let ee=Array.from(V.entries()),[he,re]=ee[ee.length-1],D=b.blockers.get(he);if(!(D&&D.state==="proceeding")&&re({currentLocation:x,nextLocation:O,historyAction:L}))return he}function ia(k){let x=[];return F.forEach((O,L)=>{(!k||k(L))&&(O.cancel(),x.push(L),F.delete(L))}),x}function jg(k,x,O){if(l=k,c=x,u=O||(L=>L.key),!d&&b.navigation===ky){d=!0;let L=oa(b.location,b.matches);L!=null&&U({restoreScrollPosition:L})}return()=>{l=null,c=null,u=null}}function jl(k,x){if(l&&u&&c){let O=x.map(ee=>mT(ee,b.loaderData)),L=u(k,O)||k.key;l[L]=c()}}function oa(k,x){if(l&&u&&c){let O=x.map(he=>mT(he,b.loaderData)),L=u(k,O)||k.key,ee=l[L];if(typeof ee=="number")return ee}return null}function Ug(k){i=k}return m={get basename(){return t.basename},get state(){return b},get routes(){return r},initialize:Q,subscribe:W,enableScrollRestoration:jg,navigate:Z,fetch:dr,revalidate:_e,createHref:k=>t.history.createHref(k),encodeLocation:k=>t.history.encodeLocation(k),getFetcher:gt,deleteFetcher:Or,dispose:A,getBlocker:Md,deleteBlocker:Xo,_internalFetchControllers:R,_internalActiveDeferreds:F,_internalSetRoutes:Ug},m}function r6(t){return t!=null&&"formData"in t}function sT(t,e,n,r){r===void 0&&(r=!1);let i=typeof t=="string"?t:Ds(t);if(!n||!r6(n))return{path:i};if(n.formMethod&&!c6(n.formMethod))return{path:i,error:$r(405,{method:n.formMethod})};let o;if(n.formData){let l=n.formMethod||"get";if(o={formMethod:e.v7_normalizeFormMethod?l.toUpperCase():l.toLowerCase(),formAction:TA(i),formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:n.formData},oi(o.formMethod))return{path:i,submission:o}}let s=$i(i),a=SA(n.formData);return r&&s.search&&kA(s.search)&&a.append("index",""),s.search="?"+a,{path:Ds(s),submission:o}}function i6(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function aT(t,e,n,r,i,o,s,a,l,u,c,d,h){let f=h?Object.values(h)[0]:d?Object.values(d)[0]:void 0,p=t.createURL(e.location),m=t.createURL(i),b=o||p.toString()===m.toString()||p.search!==m.search,g=h?Object.keys(h)[0]:void 0,v=i6(n,g).filter((S,C)=>{if(S.route.lazy)return!0;if(S.route.loader==null)return!1;if(o6(e.loaderData,e.matches[C],S)||s.some(B=>B===S.route.id))return!0;let I=e.matches[C],R=S;return lT(S,Ne({currentUrl:p,currentParams:I.params,nextUrl:m,nextParams:R.params},r,{actionResult:f,defaultShouldRevalidate:b||xA(I,R)}))}),_=[];return l.forEach((S,C)=>{if(!n.some(P=>P.route.id===S.routeId))return;let I=Sa(u,S.path,c);if(!I){_.push(Ne({key:C},S,{matches:null,match:null}));return}let R=Mv(I,S.path);if(a.includes(C)){_.push(Ne({key:C,matches:I,match:R},S));return}lT(R,Ne({currentUrl:p,currentParams:e.matches[e.matches.length-1].params,nextUrl:m,nextParams:n[n.length-1].params},r,{actionResult:f,defaultShouldRevalidate:b}))&&_.push(Ne({key:C,matches:I,match:R},S))}),[v,_]}function o6(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function xA(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function lT(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function uT(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];Ce(i,"No route found in manifest");let o={};for(let s in r){let l=i[s]!==void 0&&s!=="hasErrorBoundary";il(!l,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!l&&!kz.has(s)&&(o[s]=r[s])}Object.assign(i,o),Object.assign(i,{hasErrorBoundary:e(Ne({},i)),lazy:void 0})}async function Yl(t,e,n,r,i,o,s,a,l,u){s===void 0&&(s="/"),a===void 0&&(a=!1),l===void 0&&(l=!1);let c,d,h,f=b=>{let g,y=new Promise((v,_)=>g=_);return h=()=>g(),e.signal.addEventListener("abort",h),Promise.race([b({request:e,params:n.params,context:u}),y])};try{let b=n.route[t];if(n.route.lazy)if(b)d=(await Promise.all([f(b),uT(n.route,o,i)]))[0];else if(await uT(n.route,o,i),b=n.route[t],b)d=await f(b);else{if(t==="action")throw $r(405,{method:e.method,pathname:new URL(e.url).pathname,routeId:n.route.id});return{type:At.data,data:void 0}}else Ce(b,"Could not find the "+t+' to run on the "'+n.route.id+'" route'),d=await f(b);Ce(d!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(b){c=At.error,d=b}finally{h&&e.signal.removeEventListener("abort",h)}if(u6(d)){let b=d.status;if(Xz.has(b)){let v=d.headers.get("Location");if(Ce(v,"Redirects returned/thrown from loaders/actions must have a Location header"),_A.test(v)){if(!a){let _=new URL(e.url),S=v.startsWith("//")?new URL(_.protocol+v):new URL(v),C=Pm(S.pathname,s)!=null;S.origin===_.origin&&C&&(v=S.pathname+S.search+S.hash)}}else{let _=r.slice(0,r.indexOf(n)+1),S=E_(_).map(I=>I.pathnameBase),C=vA(v,S,new URL(e.url).pathname);if(Ce(Ds(C),"Unable to resolve redirect location: "+v),s){let I=C.pathname;C.pathname=I==="/"?s:bo([s,I])}v=Ds(C)}if(a)throw d.headers.set("Location",v),d;return{type:At.redirect,status:b,location:v,revalidate:d.headers.get("X-Remix-Revalidate")!==null}}if(l)throw{type:c||At.data,response:d};let g,y=d.headers.get("Content-Type");return y&&/\bapplication\/json\b/.test(y)?g=await d.json():g=await d.text(),c===At.error?{type:c,error:new x_(b,d.statusText,g),headers:d.headers}:{type:At.data,data:g,statusCode:d.status,headers:d.headers}}if(c===At.error)return{type:c,error:d};if(l6(d)){var p,m;return{type:At.deferred,deferredData:d,statusCode:(p=d.init)==null?void 0:p.status,headers:((m=d.init)==null?void 0:m.headers)&&new Headers(d.init.headers)}}return{type:At.data,data:d}}function Xl(t,e,n,r){let i=t.createURL(TA(e)).toString(),o={signal:n};if(r&&oi(r.formMethod)){let{formMethod:s,formEncType:a,formData:l}=r;o.method=s.toUpperCase(),o.body=a==="application/x-www-form-urlencoded"?SA(l):l}return new Request(i,o)}function SA(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,r instanceof File?r.name:r);return e}function s6(t,e,n,r,i){let o={},s=null,a,l=!1,u={};return n.forEach((c,d)=>{let h=e[d].route.id;if(Ce(!Ua(c),"Cannot handle redirect results in processLoaderData"),Pu(c)){let f=Ta(t,h),p=c.error;r&&(p=Object.values(r)[0],r=void 0),s=s||{},s[f.route.id]==null&&(s[f.route.id]=p),o[h]=void 0,l||(l=!0,a=bA(c.error)?c.error.status:500),c.headers&&(u[h]=c.headers)}else ds(c)?(i.set(h,c.deferredData),o[h]=c.deferredData.data):o[h]=c.data,c.statusCode!=null&&c.statusCode!==200&&!l&&(a=c.statusCode),c.headers&&(u[h]=c.headers)}),r&&(s=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:s,statusCode:a||200,loaderHeaders:u}}function cT(t,e,n,r,i,o,s,a){let{loaderData:l,errors:u}=s6(e,n,r,i,a);for(let c=0;c<o.length;c++){let{key:d,match:h}=o[c];Ce(s!==void 0&&s[c]!==void 0,"Did not find corresponding fetcher result");let f=s[c];if(Pu(f)){let p=Ta(t.matches,h==null?void 0:h.route.id);u&&u[p.route.id]||(u=Ne({},u,{[p.route.id]:f.error})),t.fetchers.delete(d)}else if(Ua(f))Ce(!1,"Unhandled fetcher revalidation redirect");else if(ds(f))Ce(!1,"Unhandled fetcher deferred data");else{let p={state:"idle",data:f.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};t.fetchers.set(d,p)}}return{loaderData:l,errors:u}}function dT(t,e,n,r){let i=Ne({},e);for(let o of n){let s=o.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(i[s]=e[s]):t[s]!==void 0&&o.route.loader&&(i[s]=t[s]),r&&r.hasOwnProperty(s))break}return i}function Ta(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function hT(t){let e=t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function $r(t,e){let{pathname:n,routeId:r,method:i,type:o}=e===void 0?{}:e,s="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(s="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"&&(a="defer() is not supported in actions")):t===403?(s="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(s="Not Found",a='No route matches URL "'+n+'"'):t===405&&(s="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new x_(t||500,s,new Error(a),!0)}function fT(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Ua(n))return n}}function TA(t){let e=typeof t=="string"?$i(t):t;return Ds(Ne({},e,{hash:""}))}function a6(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash!==e.hash}function ds(t){return t.type===At.deferred}function Pu(t){return t.type===At.error}function Ua(t){return(t&&t.type)===At.redirect}function l6(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function u6(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function c6(t){return Yz.has(t.toLowerCase())}function oi(t){return Kz.has(t.toLowerCase())}async function pT(t,e,n,r,i,o){for(let s=0;s<n.length;s++){let a=n[s],l=e[s];if(!l)continue;let u=t.find(d=>d.route.id===l.route.id),c=u!=null&&!xA(u,l)&&(o&&o[l.route.id])!==void 0;ds(a)&&(i||c)&&await CA(a,r,i).then(d=>{d&&(n[s]=d||n[s])})}}async function CA(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:At.data,data:t.deferredData.unwrappedData}}catch(i){return{type:At.error,error:i}}return{type:At.data,data:t.deferredData.data}}}function kA(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function mT(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function Mv(t,e){let n=typeof e=="string"?$i(e).search:e.search;if(t[t.length-1].route.index&&kA(n||""))return t[t.length-1];let r=E_(t);return r[r.length-1]}/**
 * React Router v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function d6(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const h6=typeof Object.is=="function"?Object.is:d6,{useState:f6,useEffect:p6,useLayoutEffect:m6,useDebugValue:g6}=Xu;function y6(t,e,n){const r=e(),[{inst:i},o]=f6({inst:{value:r,getSnapshot:e}});return m6(()=>{i.value=r,i.getSnapshot=e,Iy(i)&&o({inst:i})},[t,r,e]),p6(()=>(Iy(i)&&o({inst:i}),t(()=>{Iy(i)&&o({inst:i})})),[t]),g6(r),r}function Iy(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!h6(n,r)}catch{return!0}}function v6(t,e,n){return e()}const b6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",w6=!b6,_6=w6?v6:y6,E6="useSyncExternalStore"in Xu?(t=>t.useSyncExternalStore)(Xu):_6,S_=w.createContext(null),T_=w.createContext(null),C_=w.createContext(null),Om=w.createContext(null),td=w.createContext({outlet:null,matches:[]}),IA=w.createContext(null);function Lv(){return Lv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lv.apply(this,arguments)}function Am(){return w.useContext(Om)!=null}function k_(){return Am()||Ce(!1),w.useContext(Om).location}function RA(){Am()||Ce(!1);let{basename:t,navigator:e}=w.useContext(C_),{matches:n}=w.useContext(td),{pathname:r}=k_(),i=JSON.stringify(E_(n).map(a=>a.pathnameBase)),o=w.useRef(!1);return w.useEffect(()=>{o.current=!0}),w.useCallback(function(a,l){if(l===void 0&&(l={}),!o.current)return;if(typeof a=="number"){e.go(a);return}let u=vA(a,JSON.parse(i),r,l.relative==="path");t!=="/"&&(u.pathname=u.pathname==="/"?t:bo([t,u.pathname])),(l.replace?e.replace:e.push)(u,l.state,l)},[t,e,i,r])}function x6(t,e){Am()||Ce(!1);let{navigator:n}=w.useContext(C_),r=w.useContext(T_),{matches:i}=w.useContext(td),o=i[i.length-1],s=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let l=k_(),u;if(e){var c;let m=typeof e=="string"?$i(e):e;a==="/"||(c=m.pathname)!=null&&c.startsWith(a)||Ce(!1),u=m}else u=l;let d=u.pathname||"/",h=a==="/"?d:d.slice(a.length)||"/",f=Sa(t,{pathname:h}),p=k6(f&&f.map(m=>Object.assign({},m,{params:Object.assign({},s,m.params),pathname:bo([a,n.encodeLocation?n.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?a:bo([a,n.encodeLocation?n.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),i,r||void 0);return e&&p?w.createElement(Om.Provider,{value:{location:Lv({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:kt.Pop}},p):p}function S6(){let t=O6(),e=bA(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:i},n):null,o)}class T6 extends w.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?w.createElement(td.Provider,{value:this.props.routeContext},w.createElement(IA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function C6(t){let{routeContext:e,match:n,children:r}=t,i=w.useContext(S_);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(td.Provider,{value:e},r)}function k6(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,i=n==null?void 0:n.errors;if(i!=null){let o=r.findIndex(s=>s.route.id&&(i==null?void 0:i[s.route.id]));o>=0||Ce(!1),r=r.slice(0,Math.min(r.length,o+1))}return r.reduceRight((o,s,a)=>{let l=s.route.id?i==null?void 0:i[s.route.id]:null,u=null;n&&(s.route.ErrorBoundary?u=w.createElement(s.route.ErrorBoundary,null):s.route.errorElement?u=s.route.errorElement:u=w.createElement(S6,null));let c=e.concat(r.slice(0,a+1)),d=()=>{let h=o;return l?h=u:s.route.Component?h=w.createElement(s.route.Component,null):s.route.element&&(h=s.route.element),w.createElement(C6,{match:s,routeContext:{outlet:o,matches:c},children:h})};return n&&(s.route.ErrorBoundary||s.route.errorElement||a===0)?w.createElement(T6,{location:n.location,component:u,error:l,children:d(),routeContext:{outlet:null,matches:c}}):d()},null)}var gT;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(gT||(gT={}));var Vf;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(Vf||(Vf={}));function I6(t){let e=w.useContext(T_);return e||Ce(!1),e}function R6(t){let e=w.useContext(td);return e||Ce(!1),e}function P6(t){let e=R6(),n=e.matches[e.matches.length-1];return n.route.id||Ce(!1),n.route.id}function O6(){var t;let e=w.useContext(IA),n=I6(Vf.UseRouteError),r=P6(Vf.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function A6(t){let{fallbackElement:e,router:n}=t,r=w.useCallback(()=>n.state,[n]),i=E6(n.subscribe,r,r),o=w.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:l=>n.navigate(l),push:(l,u,c)=>n.navigate(l,{state:u,preventScrollReset:c==null?void 0:c.preventScrollReset}),replace:(l,u,c)=>n.navigate(l,{replace:!0,state:u,preventScrollReset:c==null?void 0:c.preventScrollReset})}),[n]),s=n.basename||"/",a=w.useMemo(()=>({router:n,navigator:o,static:!1,basename:s}),[n,o,s]);return w.createElement(w.Fragment,null,w.createElement(S_.Provider,{value:a},w.createElement(T_.Provider,{value:i},w.createElement(D6,{basename:n.basename,location:n.state.location,navigationType:n.state.historyAction,navigator:o},n.state.initialized?w.createElement(M6,null):e))),null)}function N6(t){Ce(!1)}function D6(t){let{basename:e="/",children:n=null,location:r,navigationType:i=kt.Pop,navigator:o,static:s=!1}=t;Am()&&Ce(!1);let a=e.replace(/^\/*/,"/"),l=w.useMemo(()=>({basename:a,navigator:o,static:s}),[a,o,s]);typeof r=="string"&&(r=$i(r));let{pathname:u="/",search:c="",hash:d="",state:h=null,key:f="default"}=r,p=w.useMemo(()=>{let m=Pm(u,a);return m==null?null:{location:{pathname:m,search:c,hash:d,state:h,key:f},navigationType:i}},[a,u,c,d,h,f,i]);return p==null?null:w.createElement(C_.Provider,{value:l},w.createElement(Om.Provider,{children:n,value:p}))}function M6(t){let{children:e,location:n}=t,r=w.useContext(S_),i=r&&!e?r.router.routes:$v(e);return x6(i,n)}var yT;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(yT||(yT={}));new Promise(()=>{});function $v(t,e){e===void 0&&(e=[]);let n=[];return w.Children.forEach(t,(r,i)=>{if(!w.isValidElement(r))return;let o=[...e,i];if(r.type===w.Fragment){n.push.apply(n,$v(r.props.children,o));return}r.type!==N6&&Ce(!1),!r.props.index||!r.props.children||Ce(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=$v(r.props.children,o)),n.push(s)}),n}function L6(t){return!!t.ErrorBoundary||!!t.errorElement}/**
 * React Router DOM v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fv(){return Fv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fv.apply(this,arguments)}function jv(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function $6(t,e){let n=jv(t);if(e)for(let r of e.keys())n.has(r)||e.getAll(r).forEach(i=>{n.append(r,i)});return n}function F6(t,e){return n6({basename:e==null?void 0:e.basename,future:e==null?void 0:e.future,history:Sz({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||j6(),routes:t,detectErrorBoundary:L6}).initialize()}function j6(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Fv({},e,{errors:U6(e.errors)})),e}function U6(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new x_(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){let o=new Error(i.message);o.stack="",n[r]=o}else n[r]=i;return n}var vT;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(vT||(vT={}));var bT;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(bT||(bT={}));function I_(t){let e=w.useRef(jv(t)),n=w.useRef(!1),r=k_(),i=w.useMemo(()=>$6(r.search,n.current?null:e.current),[r.search]),o=RA(),s=w.useCallback((a,l)=>{const u=jv(typeof a=="function"?a(i):a);n.current=!0,o("?"+u,l)},[o,i]);return[i,s]}let th;const V6=new Uint8Array(16);function B6(){if(!th&&(th=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!th))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return th(V6)}const Qt=[];for(let t=0;t<256;++t)Qt.push((t+256).toString(16).slice(1));function z6(t,e=0){return(Qt[t[e+0]]+Qt[t[e+1]]+Qt[t[e+2]]+Qt[t[e+3]]+"-"+Qt[t[e+4]]+Qt[t[e+5]]+"-"+Qt[t[e+6]]+Qt[t[e+7]]+"-"+Qt[t[e+8]]+Qt[t[e+9]]+"-"+Qt[t[e+10]]+Qt[t[e+11]]+Qt[t[e+12]]+Qt[t[e+13]]+Qt[t[e+14]]+Qt[t[e+15]]).toLowerCase()}const W6=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),wT={randomUUID:W6};function Bf(t,e,n){if(wT.randomUUID&&!e&&!t)return wT.randomUUID();t=t||{};const r=t.random||(t.rng||B6)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return z6(r)}var PA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},_T=ke.createContext&&ke.createContext(PA),wo=globalThis&&globalThis.__assign||function(){return wo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},wo.apply(this,arguments)},H6=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function OA(t){return t&&t.map(function(e,n){return ke.createElement(e.tag,wo({key:n},e.attr),OA(e.child))})}function Je(t){return function(e){return ke.createElement(q6,wo({attr:wo({},t.attr)},e),OA(t.child))}}function q6(t){var e=function(n){var r=t.attr,i=t.size,o=t.title,s=H6(t,["attr","size","title"]),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),ke.createElement("svg",wo({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:l,style:wo(wo({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&ke.createElement("title",null,o),t.children)};return _T!==void 0?ke.createElement(_T.Consumer,null,function(n){return e(n)}):e(PA)}function AA(t){return Je({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"}}]})(t)}function G6(t){return Je({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"}}]})(t)}function K6(t){return Je({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"}}]})(t)}function Q6(t){return Je({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"}}]})(t)}function Y6(t){return Je({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"}}]})(t)}function X6(t){return Je({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.415z",clipRule:"evenodd"}}]})(t)}function J6(t){return Je({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"}}]})(t)}function NA(t){return Je({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"}}]})(t)}function Z6(t){return Je({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"}}]})(t)}function DA(t){return Je({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"}}]})(t)}function e8(t){return Je({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 15l7-7 7 7"}}]})(t)}function t8(t){return Je({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"}}]})(t)}function n8(t){return Je({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}}]})(t)}const r8=[{id:Bf(),name:"Trang ch",icon:E(Q6,{size:20}),active:""},{id:Bf(),name:"Yu thch",icon:E(n8,{size:20}),active:"favorite"}],i8=[{id:Bf(),name:"Danh sch pht",type:"List"},{id:Bf(),name:"Li bi ht",type:"Lyric"}];function o8(){for(var t=0,e,n,r="";t<arguments.length;)(e=arguments[t++])&&(n=MA(e))&&(r&&(r+=" "),r+=n);return r}function MA(t){if(typeof t=="string")return t;for(var e,n="",r=0;r<t.length;r++)t[r]&&(e=MA(t[r]))&&(n&&(n+=" "),n+=e);return n}var R_="-";function s8(t){var e=l8(t);function n(i){var o=i.split(R_);return o[0]===""&&o.length!==1&&o.shift(),LA(o,e)||a8(i)}function r(i){return t.conflictingClassGroups[i]||[]}return{getClassGroupId:n,getConflictingClassGroupIds:r}}function LA(t,e){var s;if(t.length===0)return e.classGroupId;var n=t[0],r=e.nextPart.get(n),i=r?LA(t.slice(1),r):void 0;if(i)return i;if(e.validators.length!==0){var o=t.join(R_);return(s=e.validators.find(function(a){var l=a.validator;return l(o)}))==null?void 0:s.classGroupId}}var ET=/^\[(.+)\]$/;function a8(t){if(ET.test(t)){var e=ET.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function l8(t){var e=t.theme,n=t.prefix,r={nextPart:new Map,validators:[]},i=c8(Object.entries(t.classGroups),n);return i.forEach(function(o){var s=o[0],a=o[1];Uv(a,r,s,e)}),r}function Uv(t,e,n,r){t.forEach(function(i){if(typeof i=="string"){var o=i===""?e:xT(e,i);o.classGroupId=n;return}if(typeof i=="function"){if(u8(i)){Uv(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(function(s){var a=s[0],l=s[1];Uv(l,xT(e,a),n,r)})})}function xT(t,e){var n=t;return e.split(R_).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function u8(t){return t.isThemeGetter}function c8(t,e){return e?t.map(function(n){var r=n[0],i=n[1],o=i.map(function(s){return typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(function(a){var l=a[0],u=a[1];return[e+l,u]})):s});return[r,o]}):t}function d8(t){if(t<1)return{get:function(){},set:function(){}};var e=0,n=new Map,r=new Map;function i(o,s){n.set(o,s),e++,e>t&&(e=0,r=n,n=new Map)}return{get:function(s){var a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set:function(s,a){n.has(s)?n.set(s,a):i(s,a)}}}var $A="!";function h8(t){var e=t.separator||":";return function(r){for(var i=0,o=[],s=0,a=0;a<r.length;a++){var l=r[a];i===0&&l===e[0]&&(e.length===1||r.slice(a,a+e.length)===e)&&(o.push(r.slice(s,a)),s=a+e.length),l==="["?i++:l==="]"&&i--}var u=o.length===0?r:r.substring(s),c=u.startsWith($A),d=c?u.substring(1):u;return{modifiers:o,hasImportantModifier:c,baseClassName:d}}}function f8(t){if(t.length<=1)return t;var e=[],n=[];return t.forEach(function(r){var i=r[0]==="[";i?(e.push.apply(e,n.sort().concat([r])),n=[]):n.push(r)}),e.push.apply(e,n.sort()),e}function p8(t){return{cache:d8(t.cacheSize),splitModifiers:h8(t),...s8(t)}}var m8=/\s+/;function g8(t,e){var n=e.splitModifiers,r=e.getClassGroupId,i=e.getConflictingClassGroupIds,o=new Set;return t.trim().split(m8).map(function(s){var a=n(s),l=a.modifiers,u=a.hasImportantModifier,c=a.baseClassName,d=r(c);if(!d)return{isTailwindClass:!1,originalClassName:s};var h=f8(l).join(":"),f=u?h+$A:h;return{isTailwindClass:!0,modifierId:f,classGroupId:d,originalClassName:s}}).reverse().filter(function(s){if(!s.isTailwindClass)return!0;var a=s.modifierId,l=s.classGroupId,u=a+l;return o.has(u)?!1:(o.add(u),i(l).forEach(function(c){return o.add(a+c)}),!0)}).reverse().map(function(s){return s.originalClassName}).join(" ")}function y8(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i,o,s=a;function a(u){var c=e[0],d=e.slice(1),h=d.reduce(function(f,p){return p(f)},c());return r=p8(h),i=r.cache.get,o=r.cache.set,s=l,l(u)}function l(u){var c=i(u);if(c)return c;var d=g8(u,r);return o(u,d),d}return function(){return s(o8.apply(null,arguments))}}function Ze(t){var e=function(r){return r[t]||[]};return e.isThemeGetter=!0,e}var FA=/^\[(?:([a-z-]+):)?(.+)\]$/i,v8=/^\d+\/\d+$/,b8=new Set(["px","full","screen"]),w8=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,_8=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))/,E8=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function mr(t){return hs(t)||b8.has(t)||v8.test(t)||qi(t)}function qi(t){return Qs(t,"length",I8)}function x8(t){return Qs(t,"size",jA)}function S8(t){return Qs(t,"position",jA)}function T8(t){return Qs(t,"url",R8)}function nh(t){return Qs(t,"number",hs)}function hs(t){return!Number.isNaN(Number(t))}function C8(t){return t.endsWith("%")&&hs(t.slice(0,-1))}function Jl(t){return ST(t)||Qs(t,"number",ST)}function Et(t){return FA.test(t)}function Zl(){return!0}function Wi(t){return w8.test(t)}function k8(t){return Qs(t,"",P8)}function Qs(t,e,n){var r=FA.exec(t);return r?r[1]?r[1]===e:n(r[2]):!1}function I8(t){return _8.test(t)}function jA(){return!1}function R8(t){return t.startsWith("url(")}function ST(t){return Number.isInteger(Number(t))}function P8(t){return E8.test(t)}function O8(){var t=Ze("colors"),e=Ze("spacing"),n=Ze("blur"),r=Ze("brightness"),i=Ze("borderColor"),o=Ze("borderRadius"),s=Ze("borderSpacing"),a=Ze("borderWidth"),l=Ze("contrast"),u=Ze("grayscale"),c=Ze("hueRotate"),d=Ze("invert"),h=Ze("gap"),f=Ze("gradientColorStops"),p=Ze("gradientColorStopPositions"),m=Ze("inset"),b=Ze("margin"),g=Ze("opacity"),y=Ze("padding"),v=Ze("saturate"),_=Ze("scale"),S=Ze("sepia"),C=Ze("skew"),I=Ze("space"),R=Ze("translate"),B=function(){return["auto","contain","none"]},P=function(){return["auto","hidden","clip","visible","scroll"]},T=function(){return["auto",e]},N=function(){return["",mr]},$=function(){return["auto",hs,Et]},F=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},V=function(){return["solid","dashed","dotted","double","none"]},j=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},Q=function(){return["start","end","center","between","around","evenly","stretch"]},A=function(){return["","0",Et]},W=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},U=function(){return[hs,nh]},q=function(){return[hs,Et]};return{cacheSize:500,theme:{colors:[Zl],spacing:[mr],blur:["none","",Wi,qi],brightness:U(),borderColor:[t],borderRadius:["none","","full",Wi,qi],borderSpacing:[e],borderWidth:N(),contrast:U(),grayscale:A(),hueRotate:q(),invert:A(),gap:[e],gradientColorStops:[t],gradientColorStopPositions:[C8,qi],inset:T(),margin:T(),opacity:U(),padding:[e],saturate:U(),scale:U(),sepia:A(),skew:q(),space:[e],translate:[e]},classGroups:{aspect:[{aspect:["auto","square","video",Et]}],container:["container"],columns:[{columns:[Wi]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(F(),[Et])}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:B()}],"overscroll-x":[{"overscroll-x":B()}],"overscroll-y":[{"overscroll-y":B()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Jl]}],basis:[{basis:[e]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Et]}],grow:[{grow:A()}],shrink:[{shrink:A()}],order:[{order:["first","last","none",Jl]}],"grid-cols":[{"grid-cols":[Zl]}],"col-start-end":[{col:["auto",{span:[Jl]},Et]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[Zl]}],"row-start-end":[{row:["auto",{span:[Jl]},Et]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Et]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Et]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal"].concat(Q())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(Q(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(Q(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",e]}],"min-w":[{"min-w":["min","max","fit",mr]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Wi]},Wi,qi]}],h:[{h:[e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",mr]}],"max-h":[{"max-h":[e,"min","max","fit"]}],"font-size":[{text:["base",Wi,qi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",nh]}],"font-family":[{font:[Zl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",qi]}],"line-clamp":[{"line-clamp":["none",hs,nh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",mr]}],"list-image":[{"list-image":["none",Et]}],"list-style-type":[{list:["none","disc","decimal",Et]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(V(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",mr]}],"underline-offset":[{"underline-offset":["auto",mr]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:[e]}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",qi]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Et]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(F(),[S8])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",x8]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},T8]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[].concat(V(),["hidden"])}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:V()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(V())}],"outline-offset":[{"outline-offset":[mr]}],"outline-w":[{outline:[mr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:N()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[mr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Wi,k8]}],"shadow-color":[{shadow:[Zl]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":j()}],"bg-blend":[{"bg-blend":j()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Wi,Et]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[d]}],saturate:[{saturate:[v]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Et]}],duration:[{duration:q()}],ease:[{ease:["linear","in","out","in-out",Et]}],delay:[{delay:q()}],animate:[{animate:["none","spin","ping","pulse","bounce",Et]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Jl,Et]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Et]}],accent:[{accent:["auto",t]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Et]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":[e]}],"scroll-mx":[{"scroll-mx":[e]}],"scroll-my":[{"scroll-my":[e]}],"scroll-ms":[{"scroll-ms":[e]}],"scroll-me":[{"scroll-me":[e]}],"scroll-mt":[{"scroll-mt":[e]}],"scroll-mr":[{"scroll-mr":[e]}],"scroll-mb":[{"scroll-mb":[e]}],"scroll-ml":[{"scroll-ml":[e]}],"scroll-p":[{"scroll-p":[e]}],"scroll-px":[{"scroll-px":[e]}],"scroll-py":[{"scroll-py":[e]}],"scroll-ps":[{"scroll-ps":[e]}],"scroll-pe":[{"scroll-pe":[e]}],"scroll-pt":[{"scroll-pt":[e]}],"scroll-pr":[{"scroll-pr":[e]}],"scroll-pb":[{"scroll-pb":[e]}],"scroll-pl":[{"scroll-pl":[e]}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Et]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[mr,nh]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]}}}var ir=y8(O8);function A8(t){return Je({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"}}]})(t)}function N8(t){return Je({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}},{tag:"polyline",attr:{points:"16 17 21 12 16 7"}},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"}}]})(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te=function(t,e){if(!t)throw Tl(e)},Tl=function(t){return new Error("Firebase Database ("+UA.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},D8=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},P_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,d=(o&3)<<4|a>>4;let h=(a&15)<<2|u>>6,f=u&63;l||(f=64,s||(h=64)),r.push(n[c],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(VA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):D8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||d==null)throw new M8;const h=o<<2|a>>4;if(r.push(h),u!==64){const f=a<<4&240|u>>2;if(r.push(f),d!==64){const p=u<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class M8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const BA=function(t){const e=VA(t);return P_.encodeByteArray(e,!0)},zf=function(t){return BA(t).replace(/\./g,"")},Wf=function(t){try{return P_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L8(t){return zA(void 0,t)}function zA(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!$8(n)||(t[n]=zA(t[n],e[n]));return t}function $8(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j8=()=>F8().__FIREBASE_DEFAULTS__,U8=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},V8=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Wf(t[1]);return e&&JSON.parse(e)},O_=()=>{try{return j8()||U8()||V8()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},WA=t=>{var e,n;return(n=(e=O_())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},HA=t=>{const e=WA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},B8=()=>{var t;return(t=O_())===null||t===void 0?void 0:t.config},qA=t=>{var e;return(e=O_())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[zf(JSON.stringify(n)),zf(JSON.stringify(s)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function N_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wn())}function z8(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function KA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function W8(){const t=wn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function QA(){return UA.NODE_ADMIN===!0}function H8(){try{return typeof indexedDB=="object"}catch{return!1}}function q8(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G8="FirebaseError";class Fi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=G8,Object.setPrototypeOf(this,Fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nd.prototype.create)}}class nd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?K8(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Fi(i,a,r)}}function K8(t,e){return t.replace(Q8,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Q8=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(t){return JSON.parse(t)}function Jt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA=function(t){let e={},n={},r={},i="";try{const o=t.split(".");e=wc(Wf(o[0])||""),n=wc(Wf(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},Y8=function(t){const e=YA(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},X8=function(t){const e=YA(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ol(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Vv(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Hf(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function qf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(TT(o)&&TT(s)){if(!qf(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function TT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J8{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let d=0;d<80;d++){d<40?d<20?(u=a^o&(s^a),c=1518500249):(u=o^s^a,c=1859775393):d<60?(u=o&s|a&(o|s),c=2400959708):(u=o^s^a,c=3395469782);const h=(i<<5|i>>>27)+u+l+c+r[d]&4294967295;l=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const o=this.buf_;let s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}}function Z8(t,e){const n=new eW(t,e);return n.subscribe.bind(n)}class eW{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");tW(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ry),i.error===void 0&&(i.error=Ry),i.complete===void 0&&(i.complete=Ry);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tW(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ry(){}function nW(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rW=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const o=i-55296;r++,te(r<t.length,"Surrogate pair missing trail surrogate.");const s=t.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Nm=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(t){return t&&t._delegate?t._delegate:t}class Lo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iW{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new A_;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sW(e))try{this.getOrInitializeService({instanceIdentifier:ns})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ns){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ns){return this.instances.has(e)}getOptions(e=ns){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:oW(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ns){return this.component?this.component.multipleInstances?e:ns:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oW(t){return t===ns?void 0:t}function sW(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aW{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new iW(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(je||(je={}));const lW={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},uW=je.INFO,cW={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},dW=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=cW[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dm{constructor(e){this.name=e,this._logLevel=uW,this._logHandler=dW,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lW[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const hW=(t,e)=>e.some(n=>t instanceof n);let CT,kT;function fW(){return CT||(CT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pW(){return kT||(kT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const XA=new WeakMap,Bv=new WeakMap,JA=new WeakMap,Py=new WeakMap,D_=new WeakMap;function mW(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(_o(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&XA.set(n,t)}).catch(()=>{}),D_.set(e,t),e}function gW(t){if(Bv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Bv.set(t,e)}let zv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Bv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||JA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _o(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function yW(t){zv=t(zv)}function vW(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Oy(this),e,...n);return JA.set(r,e.sort?e.sort():[e]),_o(r)}:pW().includes(t)?function(...e){return t.apply(Oy(this),e),_o(XA.get(this))}:function(...e){return _o(t.apply(Oy(this),e))}}function bW(t){return typeof t=="function"?vW(t):(t instanceof IDBTransaction&&gW(t),hW(t,fW())?new Proxy(t,zv):t)}function _o(t){if(t instanceof IDBRequest)return mW(t);if(Py.has(t))return Py.get(t);const e=bW(t);return e!==t&&(Py.set(t,e),D_.set(e,t)),e}const Oy=t=>D_.get(t);function wW(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=_o(s);return r&&s.addEventListener("upgradeneeded",l=>{r(_o(s.result),l.oldVersion,l.newVersion,_o(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const _W=["get","getKey","getAll","getAllKeys","count"],EW=["put","add","delete","clear"],Ay=new Map;function IT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ay.get(e))return Ay.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=EW.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||_W.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Ay.set(e,o),o}yW(t=>({...t,get:(e,n,r)=>IT(e,n)||t.get(e,n,r),has:(e,n)=>!!IT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xW{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(SW(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function SW(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Wv="@firebase/app",RT="0.9.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms=new Dm("@firebase/app"),TW="@firebase/app-compat",CW="@firebase/analytics-compat",kW="@firebase/analytics",IW="@firebase/app-check-compat",RW="@firebase/app-check",PW="@firebase/auth",OW="@firebase/auth-compat",AW="@firebase/database",NW="@firebase/database-compat",DW="@firebase/functions",MW="@firebase/functions-compat",LW="@firebase/installations",$W="@firebase/installations-compat",FW="@firebase/messaging",jW="@firebase/messaging-compat",UW="@firebase/performance",VW="@firebase/performance-compat",BW="@firebase/remote-config",zW="@firebase/remote-config-compat",WW="@firebase/storage",HW="@firebase/storage-compat",qW="@firebase/firestore",GW="@firebase/firestore-compat",KW="firebase",QW="9.19.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv="[DEFAULT]",YW={[Wv]:"fire-core",[TW]:"fire-core-compat",[kW]:"fire-analytics",[CW]:"fire-analytics-compat",[RW]:"fire-app-check",[IW]:"fire-app-check-compat",[PW]:"fire-auth",[OW]:"fire-auth-compat",[AW]:"fire-rtdb",[NW]:"fire-rtdb-compat",[DW]:"fire-fn",[MW]:"fire-fn-compat",[LW]:"fire-iid",[$W]:"fire-iid-compat",[FW]:"fire-fcm",[jW]:"fire-fcm-compat",[UW]:"fire-perf",[VW]:"fire-perf-compat",[BW]:"fire-rc",[zW]:"fire-rc-compat",[WW]:"fire-gcs",[HW]:"fire-gcs-compat",[qW]:"fire-fst",[GW]:"fire-fst-compat","fire-js":"fire-js",[KW]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf=new Map,qv=new Map;function XW(t,e){try{t.container.addComponent(e)}catch(n){Ms.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ls(t){const e=t.name;if(qv.has(e))return Ms.debug(`There were multiple attempts to register component ${e}.`),!1;qv.set(e,t);for(const n of Gf.values())XW(n,t);return!0}function Mm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JW={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Eo=new nd("app","Firebase",JW);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZW{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Lo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Eo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl=QW;function ZA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Hv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Eo.create("bad-app-name",{appName:String(i)});if(n||(n=B8()),!n)throw Eo.create("no-options");const o=Gf.get(i);if(o){if(qf(n,o.options)&&qf(r,o.config))return o;throw Eo.create("duplicate-app",{appName:i})}const s=new aW(i);for(const l of qv.values())s.addComponent(l);const a=new ZW(n,r,s);return Gf.set(i,a),a}function M_(t=Hv){const e=Gf.get(t);if(!e&&t===Hv)return ZA();if(!e)throw Eo.create("no-app",{appName:t});return e}function Gr(t,e,n){var r;let i=(r=YW[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ms.warn(a.join(" "));return}Ls(new Lo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eH="firebase-heartbeat-database",tH=1,_c="firebase-heartbeat-store";let Ny=null;function eN(){return Ny||(Ny=wW(eH,tH,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(_c)}}}).catch(t=>{throw Eo.create("idb-open",{originalErrorMessage:t.message})})),Ny}async function nH(t){try{return(await eN()).transaction(_c).objectStore(_c).get(tN(t))}catch(e){if(e instanceof Fi)Ms.warn(e.message);else{const n=Eo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ms.warn(n.message)}}}async function PT(t,e){try{const r=(await eN()).transaction(_c,"readwrite");return await r.objectStore(_c).put(e,tN(t)),r.done}catch(n){if(n instanceof Fi)Ms.warn(n.message);else{const r=Eo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ms.warn(r.message)}}}function tN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rH=1024,iH=30*24*60*60*1e3;class oH{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new aH(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=OT();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const o=new Date(i.date).valueOf();return Date.now()-o<=iH}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=OT(),{heartbeatsToSend:n,unsentEntries:r}=sH(this._heartbeatsCache.heartbeats),i=zf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function OT(){return new Date().toISOString().substring(0,10)}function sH(t,e=rH){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),AT(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),AT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class aH{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return H8()?q8().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await nH(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return PT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return PT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function AT(t){return zf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lH(t){Ls(new Lo("platform-logger",e=>new xW(e),"PRIVATE")),Ls(new Lo("heartbeat",e=>new oH(e),"PRIVATE")),Gr(Wv,RT,t),Gr(Wv,RT,"esm2017"),Gr("fire-js","")}lH("");var uH="firebase",cH="9.19.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gr(uH,cH,"app");function L_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function nN(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dH=nN,rN=new nd("auth","Firebase",nN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT=new Dm("@firebase/auth");function Hh(t,...e){NT.logLevel<=je.ERROR&&NT.error(`Auth (${kl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(t,...e){throw $_(t,...e)}function Kr(t,...e){return $_(t,...e)}function iN(t,e,n){const r=Object.assign(Object.assign({},dH()),{[e]:n});return new nd("auth","Firebase",r).create(e,{appName:t.name})}function hH(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ei(t,"argument-error"),iN(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return rN.create(t,...e)}function ve(t,e,...n){if(!t)throw $_(e,...n)}function ci(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Hh(e),new Error(e)}function Ii(t,e){t||ci(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT=new Map;function di(t){Ii(t instanceof Function,"Expected a class definition");let e=DT.get(t);return e?(Ii(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,DT.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fH(t,e){const n=Mm(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(qf(o,e??{}))return i;ei(i,"already-initialized")}return n.initialize({options:e})}function pH(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(di);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function mH(){return MT()==="http:"||MT()==="https:"}function MT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gH(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mH()||z8()||"connection"in navigator)?navigator.onLine:!0}function yH(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ii(n>e,"Short delay should be less than long delay!"),this.isMobile=N_()||KA()}get(){return gH()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(t,e){Ii(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;ci("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;ci("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;ci("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vH={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bH=new rd(3e4,6e4);function wH(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Lm(t,e,n,r,i={}){return sN(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Cl(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),oN.fetch()(aN(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))})}async function sN(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},vH),e);try{const i=new EH(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw rh(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw rh(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw rh(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw rh(t,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw iN(t,c,u);ei(t,c)}}catch(i){if(i instanceof Fi)throw i;ei(t,"network-request-failed",{message:String(i)})}}async function _H(t,e,n,r,i={}){const o=await Lm(t,e,n,r,i);return"mfaPendingCredential"in o&&ei(t,"multi-factor-auth-required",{_serverResponse:o}),o}function aN(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?F_(t.config,i):`${t.config.apiScheme}://${i}`}class EH{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Kr(this.auth,"network-request-failed")),bH.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function rh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Kr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xH(t,e){return Lm(t,"POST","/v1/accounts:delete",e)}async function SH(t,e){return Lm(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ou(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function TH(t,e=!1){const n=kn(t),r=await n.getIdToken(e),i=j_(r);ve(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Ou(Dy(i.auth_time)),issuedAtTime:Ou(Dy(i.iat)),expirationTime:Ou(Dy(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Dy(t){return Number(t)*1e3}function j_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Hh("JWT malformed, contained fewer than 3 sections"),null;try{const i=Wf(n);return i?JSON.parse(i):(Hh("Failed to decode base64 JWT payload"),null)}catch(i){return Hh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function CH(t){const e=j_(t);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ec(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Fi&&kH(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function kH({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IH{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ou(this.lastLoginAt),this.creationTime=Ou(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kf(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ec(t,SH(n,{idToken:r}));ve(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?OH(o.providerUserInfo):[],a=PH(t.providerData,s),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new lN(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function RH(t){const e=kn(t);await Kf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function PH(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function OH(t){return t.map(e=>{var{providerId:n}=e,r=L_(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AH(t,e){const n=await sN(t,{},async()=>{const r=Cl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=aN(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",oN.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):CH(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ve(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await AH(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new xc;return r&&(ve(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ve(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ve(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xc,this.toJSON())}_performRefresh(){return ci("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(t,e){ve(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class xs{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=L_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new IH(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new lN(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Ec(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return TH(this,e)}reload(){return RH(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new xs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Kf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ec(this,xH(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,p=(s=n.photoURL)!==null&&s!==void 0?s:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,b=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(u=n.createdAt)!==null&&u!==void 0?u:void 0,y=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:v,emailVerified:_,isAnonymous:S,providerData:C,stsTokenManager:I}=n;ve(v&&I,e,"internal-error");const R=xc.fromJSON(this.name,I);ve(typeof v=="string",e,"internal-error"),Hi(d,e.name),Hi(h,e.name),ve(typeof _=="boolean",e,"internal-error"),ve(typeof S=="boolean",e,"internal-error"),Hi(f,e.name),Hi(p,e.name),Hi(m,e.name),Hi(b,e.name),Hi(g,e.name),Hi(y,e.name);const B=new xs({uid:v,auth:e,email:h,emailVerified:_,displayName:d,isAnonymous:S,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:R,createdAt:g,lastLoginAt:y});return C&&Array.isArray(C)&&(B.providerData=C.map(P=>Object.assign({},P))),b&&(B._redirectEventId=b),B}static async _fromIdTokenResponse(e,n,r=!1){const i=new xc;i.updateFromServerResponse(n);const o=new xs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Kf(o),o}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}uN.type="NONE";const LT=uN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(t,e,n){return`firebase:${t}:${e}:${n}`}class Va{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=qh(this.userKey,i.apiKey,o),this.fullPersistenceKey=qh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?xs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Va(di(LT),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||di(LT);const s=qh(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(s);if(c){const d=xs._fromJSON(e,c);u!==o&&(a=d),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Va(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new Va(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(hN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(cN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(pN(e))return"Blackberry";if(mN(e))return"Webos";if(U_(e))return"Safari";if((e.includes("chrome/")||dN(e))&&!e.includes("edge/"))return"Chrome";if(fN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function cN(t=wn()){return/firefox\//i.test(t)}function U_(t=wn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function dN(t=wn()){return/crios\//i.test(t)}function hN(t=wn()){return/iemobile/i.test(t)}function fN(t=wn()){return/android/i.test(t)}function pN(t=wn()){return/blackberry/i.test(t)}function mN(t=wn()){return/webos/i.test(t)}function $m(t=wn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function NH(t=wn()){var e;return $m(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function DH(){return W8()&&document.documentMode===10}function gN(t=wn()){return $m(t)||fN(t)||mN(t)||pN(t)||/windows phone/i.test(t)||hN(t)}function MH(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(t,e=[]){let n;switch(t){case"Browser":n=$T(wn());break;case"Worker":n=`${$T(wn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${kl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LH{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $H{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new FT(this),this.idTokenSubscription=new FT(this),this.beforeStateQueue=new LH(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rN,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=di(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Va.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Kf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=yH()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?kn(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(di(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new nd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&di(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await Va.create(this,[di(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n),s=this._isInitialized?Promise.resolve():this._initializationPromise;return ve(s,this,"internal-error"),s.then(()=>o(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function Fm(t){return kn(t)}class FT{constructor(e){this.auth=e,this.observer=null,this.addObserver=Z8(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function FH(t,e,n){const r=Fm(t);ve(r._canInitEmulator,r,"emulator-config-failed"),ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=vN(e),{host:s,port:a}=jH(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||UH()}function vN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function jH(t){const e=vN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:jT(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:jT(s)}}}function jT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function UH(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ci("not implemented")}_getIdTokenResponse(e){return ci("not implemented")}_linkToIdToken(e,n){return ci("not implemented")}_getReauthenticationResolver(e){return ci("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ba(t,e){return _H(t,"POST","/v1/accounts:signInWithIdp",wH(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VH="http://localhost";class $s extends bN{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new $s(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ei("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=L_(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new $s(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Ba(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ba(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ba(e,n)}buildRequest(){const e={requestUri:VH,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Cl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id extends V_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no extends id{constructor(){super("facebook.com")}static credential(e){return $s._fromParams({providerId:no.PROVIDER_ID,signInMethod:no.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return no.credentialFromTaggedObject(e)}static credentialFromError(e){return no.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return no.credential(e.oauthAccessToken)}catch{return null}}}no.FACEBOOK_SIGN_IN_METHOD="facebook.com";no.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai extends id{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return $s._fromParams({providerId:ai.PROVIDER_ID,signInMethod:ai.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ai.credentialFromTaggedObject(e)}static credentialFromError(e){return ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ai.credential(n,r)}catch{return null}}}ai.GOOGLE_SIGN_IN_METHOD="google.com";ai.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro extends id{constructor(){super("github.com")}static credential(e){return $s._fromParams({providerId:ro.PROVIDER_ID,signInMethod:ro.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ro.credentialFromTaggedObject(e)}static credentialFromError(e){return ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ro.credential(e.oauthAccessToken)}catch{return null}}}ro.GITHUB_SIGN_IN_METHOD="github.com";ro.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io extends id{constructor(){super("twitter.com")}static credential(e,n){return $s._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return io.credential(n,r)}catch{return null}}}io.TWITTER_SIGN_IN_METHOD="twitter.com";io.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await xs._fromIdTokenResponse(e,r,i),s=UT(r);return new sl({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=UT(r);return new sl({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function UT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf extends Fi{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Qf.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Qf(e,n,r,i)}}function wN(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Qf._fromErrorAndOperation(t,o,e,r):o})}async function BH(t,e,n=!1){const r=await Ec(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return sl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zH(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const o=await Ec(t,wN(r,i,e,t),n);ve(o.idToken,r,"internal-error");const s=j_(o.idToken);ve(s,r,"internal-error");const{sub:a}=s;return ve(t.uid===a,r,"user-mismatch"),sl._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&ei(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WH(t,e,n=!1){const r="signIn",i=await wN(t,r,e),o=await sl._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function HH(t,e,n,r){return kn(t).onIdTokenChanged(e,n,r)}function qH(t,e,n){return kn(t).beforeAuthStateChanged(e,n)}const Yf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Yf,"1"),this.storage.removeItem(Yf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GH(){const t=wn();return U_(t)||$m(t)}const KH=1e3,QH=10;class EN extends _N{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=GH()&&MH(),this.fallbackToPolling=gN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(r);if(e.newValue!==s)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);DH()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,QH):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},KH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}EN.type="LOCAL";const YH=EN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN extends _N{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}xN.type="SESSION";const SN=xN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XH(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new jm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await XH(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JH{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=B_("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(){return window}function ZH(t){Qr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(){return typeof Qr().WorkerGlobalScope<"u"&&typeof Qr().importScripts=="function"}async function e9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function t9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function n9(){return TN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN="firebaseLocalStorageDb",r9=1,Xf="firebaseLocalStorage",kN="fbase_key";class od{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Um(t,e){return t.transaction([Xf],e?"readwrite":"readonly").objectStore(Xf)}function i9(){const t=indexedDB.deleteDatabase(CN);return new od(t).toPromise()}function Kv(){const t=indexedDB.open(CN,r9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Xf,{keyPath:kN})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Xf)?e(r):(r.close(),await i9(),e(await Kv()))})})}async function VT(t,e,n){const r=Um(t,!0).put({[kN]:e,value:n});return new od(r).toPromise()}async function o9(t,e){const n=Um(t,!1).get(e),r=await new od(n).toPromise();return r===void 0?null:r.value}function BT(t,e){const n=Um(t,!0).delete(e);return new od(n).toPromise()}const s9=800,a9=3;class IN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Kv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>a9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return TN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jm._getInstance(n9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await e9(),!this.activeServiceWorker)return;this.sender=new JH(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||t9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Kv();return await VT(e,Yf,"1"),await BT(e,Yf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>VT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>o9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>BT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Um(i,!1).getAll();return new od(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),s9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IN.type="LOCAL";const l9=IN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u9(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function c9(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Kr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",u9().appendChild(r)})}function d9(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new rd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(t,e){return e?di(e):(ve(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_ extends bN{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ba(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ba(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ba(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function h9(t){return WH(t.auth,new z_(t),t.bypassAuthState)}function f9(t){const{auth:e,user:n}=t;return ve(n,e,"internal-error"),zH(n,new z_(t),t.bypassAuthState)}async function p9(t){const{auth:e,user:n}=t;return ve(n,e,"internal-error"),BH(n,new z_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return h9;case"linkViaPopup":case"linkViaRedirect":return p9;case"reauthViaPopup":case"reauthViaRedirect":return f9;default:ei(this.auth,"internal-error")}}resolve(e){Ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m9=new rd(2e3,1e4);async function g9(t,e,n){const r=Fm(t);hH(t,e,V_);const i=RN(r,n);return new fs(r,"signInViaPopup",e,i).executeNotNull()}class fs extends PN{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,fs.currentPopupAction&&fs.currentPopupAction.cancel(),fs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){Ii(this.filter.length===1,"Popup operations only handle one event");const e=B_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Kr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Kr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Kr(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,m9.get())};e()}}fs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y9="pendingRedirect",Gh=new Map;class v9 extends PN{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Gh.get(this.auth._key());if(!e){try{const r=await b9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Gh.set(this.auth._key(),e)}return this.bypassAuthState||Gh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function b9(t,e){const n=E9(e),r=_9(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function w9(t,e){Gh.set(t._key(),e)}function _9(t){return di(t._redirectPersistence)}function E9(t){return qh(y9,t.config.apiKey,t.name)}async function x9(t,e,n=!1){const r=Fm(t),i=RN(r,e),s=await new v9(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S9=10*60*1e3;class T9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!C9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!ON(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Kr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=S9&&this.cachedEventUids.clear(),this.cachedEventUids.has(zT(e))}saveEventToCache(e){this.cachedEventUids.add(zT(e)),this.lastProcessedEventTime=Date.now()}}function zT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ON({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function C9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ON(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k9(t,e={}){return Lm(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,R9=/^https?/;async function P9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await k9(t);for(const n of e)try{if(O9(n))return}catch{}ei(t,"unauthorized-domain")}function O9(t){const e=Gv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!R9.test(n))return!1;if(I9.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A9=new rd(3e4,6e4);function WT(){const t=Qr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function N9(t){return new Promise((e,n)=>{var r,i,o;function s(){WT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{WT(),n(Kr(t,"network-request-failed"))},timeout:A9.get()})}if(!((i=(r=Qr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Qr().gapi)===null||o===void 0)&&o.load)s();else{const a=d9("iframefcb");return Qr()[a]=()=>{gapi.load?s():n(Kr(t,"network-request-failed"))},c9(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Kh=null,e})}let Kh=null;function D9(t){return Kh=Kh||N9(t),Kh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M9=new rd(5e3,15e3),L9="__/auth/iframe",$9="emulator/auth/iframe",F9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},j9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function U9(t){const e=t.config;ve(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?F_(e,$9):`https://${t.config.authDomain}/${L9}`,r={apiKey:e.apiKey,appName:t.name,v:kl},i=j9.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Cl(r).slice(1)}`}async function V9(t){const e=await D9(t),n=Qr().gapi;return ve(n,t,"internal-error"),e.open({where:document.body,url:U9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:F9,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Kr(t,"network-request-failed"),a=Qr().setTimeout(()=>{o(s)},M9.get());function l(){Qr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},z9=500,W9=600,H9="_blank",q9="http://localhost";class HT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function G9(t,e,n,r=z9,i=W9){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},B9),{width:r.toString(),height:i.toString(),top:o,left:s}),u=wn().toLowerCase();n&&(a=dN(u)?H9:n),cN(u)&&(e=e||q9,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(NH(u)&&a!=="_self")return K9(e||"",a),new HT(null);const d=window.open(e||"",a,c);ve(d,t,"popup-blocked");try{d.focus()}catch{}return new HT(d)}function K9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q9="__/auth/handler",Y9="emulator/auth/handler";function qT(t,e,n,r,i,o){ve(t.config.authDomain,t,"auth-domain-config-required"),ve(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:kl,eventId:i};if(e instanceof V_){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",Vv(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,u]of Object.entries(o||{}))s[l]=u}if(e instanceof id){const l=e.getScopes().filter(u=>u!=="");l.length>0&&(s.scopes=l.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const l of Object.keys(a))a[l]===void 0&&delete a[l];return`${X9(t)}?${Cl(a).slice(1)}`}function X9({config:t}){return t.emulator?F_(t,Y9):`https://${t.authDomain}/${Q9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My="webStorageSupport";class J9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=SN,this._completeRedirectFn=x9,this._overrideRedirectResult=w9}async _openPopup(e,n,r,i){var o;Ii((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=qT(e,n,r,Gv(),i);return G9(e,s,B_())}async _openRedirect(e,n,r,i){return await this._originValidation(e),ZH(qT(e,n,r,Gv(),i)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Ii(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await V9(e),r=new T9(e);return n.register("authEvent",i=>(ve(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(My,{type:My},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[My];s!==void 0&&n(!!s),ei(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=P9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return gN()||U_()||$m()}}const Z9=J9;var GT="@firebase/auth",KT="0.22.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t7(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function n7(t){Ls(new Lo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:o,authDomain:s}=r.options;return((a,l)=>{ve(o&&!o.includes(":"),"invalid-api-key",{appName:a.name}),ve(!(s!=null&&s.includes(":")),"argument-error",{appName:a.name});const u={apiKey:o,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yN(t)},c=new $H(a,l,u);return pH(c,n),c})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ls(new Lo("auth-internal",e=>{const n=Fm(e.getProvider("auth").getImmediate());return(r=>new e7(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gr(GT,KT,t7(t)),Gr(GT,KT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r7=5*60,i7=qA("authIdTokenMaxAge")||r7;let QT=null;const o7=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>i7)return;const i=n==null?void 0:n.token;QT!==i&&(QT=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function s7(t=M_()){const e=Mm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=fH(t,{popupRedirectResolver:Z9,persistence:[l9,YH,SN]}),r=qA("authTokenSyncURL");if(r){const o=o7(r);qH(n,o,()=>o(n.currentUser)),HH(n,s=>o(s))}const i=WA("auth");return i&&FH(n,`http://${i}`),n}n7("Browser");var a7=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ce,W_=W_||{},be=a7||self;function Jf(){}function Vm(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function sd(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function l7(t){return Object.prototype.hasOwnProperty.call(t,Ly)&&t[Ly]||(t[Ly]=++u7)}var Ly="closure_uid_"+(1e9*Math.random()>>>0),u7=0;function c7(t,e,n){return t.call.apply(t.bind,arguments)}function d7(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function yn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?yn=c7:yn=d7,yn.apply(null,arguments)}function ih(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function nn(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function Ko(){this.s=this.s,this.o=this.o}var h7=0;Ko.prototype.s=!1;Ko.prototype.na=function(){!this.s&&(this.s=!0,this.M(),h7!=0)&&l7(this)};Ko.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const AN=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function H_(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function YT(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Vm(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function vn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}vn.prototype.h=function(){this.defaultPrevented=!0};var f7=function(){if(!be.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{be.addEventListener("test",Jf,e),be.removeEventListener("test",Jf,e)}catch{}return t}();function Zf(t){return/^[\s\xa0]*$/.test(t)}var XT=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function $y(t,e){return t<e?-1:t>e?1:0}function Bm(){var t=be.navigator;return t&&(t=t.userAgent)?t:""}function Ur(t){return Bm().indexOf(t)!=-1}function q_(t){return q_[" "](t),t}q_[" "]=Jf;function p7(t){var e=y7;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var m7=Ur("Opera"),al=Ur("Trident")||Ur("MSIE"),NN=Ur("Edge"),Qv=NN||al,DN=Ur("Gecko")&&!(Bm().toLowerCase().indexOf("webkit")!=-1&&!Ur("Edge"))&&!(Ur("Trident")||Ur("MSIE"))&&!Ur("Edge"),g7=Bm().toLowerCase().indexOf("webkit")!=-1&&!Ur("Edge");function MN(){var t=be.document;return t?t.documentMode:void 0}var ep;e:{var Fy="",jy=function(){var t=Bm();if(DN)return/rv:([^\);]+)(\)|;)/.exec(t);if(NN)return/Edge\/([\d\.]+)/.exec(t);if(al)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(g7)return/WebKit\/(\S+)/.exec(t);if(m7)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(jy&&(Fy=jy?jy[1]:""),al){var Uy=MN();if(Uy!=null&&Uy>parseFloat(Fy)){ep=String(Uy);break e}}ep=Fy}var y7={};function v7(){return p7(function(){let t=0;const e=XT(String(ep)).split("."),n=XT("9").split("."),r=Math.max(e.length,n.length);for(let s=0;t==0&&s<r;s++){var i=e[s]||"",o=n[s]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],i[0].length==0&&o[0].length==0)break;t=$y(i[1].length==0?0:parseInt(i[1],10),o[1].length==0?0:parseInt(o[1],10))||$y(i[2].length==0,o[2].length==0)||$y(i[2],o[2]),i=i[3],o=o[3]}while(t==0)}return 0<=t})}var Yv;if(be.document&&al){var JT=MN();Yv=JT||parseInt(ep,10)||void 0}else Yv=void 0;var b7=Yv;function Sc(t,e){if(vn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(DN){e:{try{q_(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:w7[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Sc.X.h.call(this)}}nn(Sc,vn);var w7={2:"touch",3:"pen",4:"mouse"};Sc.prototype.h=function(){Sc.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ad="closure_listenable_"+(1e6*Math.random()|0),_7=0;function E7(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++_7,this.ba=this.ea=!1}function zm(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function G_(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function LN(t){const e={};for(const n in t)e[n]=t[n];return e}const ZT="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $N(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<ZT.length;o++)n=ZT[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Wm(t){this.src=t,this.g={},this.h=0}Wm.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=Jv(t,e,r,i);return-1<s?(e=t[s],n||(e.ea=!1)):(e=new E7(e,this.src,o,!!r,i),e.ea=n,t.push(e)),e};function Xv(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=AN(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(zm(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Jv(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ba&&o.listener==e&&o.capture==!!n&&o.ha==r)return i}return-1}var K_="closure_lm_"+(1e6*Math.random()|0),Vy={};function FN(t,e,n,r,i){if(r&&r.once)return UN(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)FN(t,e[o],n,r,i);return null}return n=X_(n),t&&t[ad]?t.N(e,n,sd(r)?!!r.capture:!!r,i):jN(t,e,n,!1,r,i)}function jN(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=sd(i)?!!i.capture:!!i,a=Y_(t);if(a||(t[K_]=a=new Wm(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=x7(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)f7||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(BN(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function x7(){function t(n){return e.call(t.src,t.listener,n)}const e=S7;return t}function UN(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)UN(t,e[o],n,r,i);return null}return n=X_(n),t&&t[ad]?t.O(e,n,sd(r)?!!r.capture:!!r,i):jN(t,e,n,!0,r,i)}function VN(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)VN(t,e[o],n,r,i);else r=sd(r)?!!r.capture:!!r,n=X_(n),t&&t[ad]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=Jv(o,n,r,i),-1<n&&(zm(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=Y_(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Jv(e,n,r,i)),(n=-1<t?e[t]:null)&&Q_(n))}function Q_(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[ad])Xv(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(BN(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Y_(e))?(Xv(n,t),n.h==0&&(n.src=null,e[K_]=null)):zm(t)}}}function BN(t){return t in Vy?Vy[t]:Vy[t]="on"+t}function S7(t,e){if(t.ba)t=!0;else{e=new Sc(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&Q_(t),t=n.call(r,e)}return t}function Y_(t){return t=t[K_],t instanceof Wm?t:null}var By="__closure_events_fn_"+(1e9*Math.random()>>>0);function X_(t){return typeof t=="function"?t:(t[By]||(t[By]=function(e){return t.handleEvent(e)}),t[By])}function qt(){Ko.call(this),this.i=new Wm(this),this.P=this,this.I=null}nn(qt,Ko);qt.prototype[ad]=!0;qt.prototype.removeEventListener=function(t,e,n,r){VN(this,t,e,n,r)};function en(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new vn(e,t);else if(e instanceof vn)e.target=e.target||t;else{var i=e;e=new vn(r,t),$N(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=oh(s,r,!0,e)&&i}if(s=e.g=t,i=oh(s,r,!0,e)&&i,i=oh(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=oh(s,r,!1,e)&&i}qt.prototype.M=function(){if(qt.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)zm(n[r]);delete t.g[e],t.h--}}this.I=null};qt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};qt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function oh(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ba&&s.capture==n){var a=s.listener,l=s.ha||s.src;s.ea&&Xv(t.i,s),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var J_=be.JSON.stringify;function T7(){var t=HN;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class C7{constructor(){this.h=this.g=null}add(e,n){const r=zN.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var zN=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new k7,t=>t.reset());class k7{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function I7(t){be.setTimeout(()=>{throw t},0)}function WN(t,e){Zv||R7(),eb||(Zv(),eb=!0),HN.add(t,e)}var Zv;function R7(){var t=be.Promise.resolve(void 0);Zv=function(){t.then(P7)}}var eb=!1,HN=new C7;function P7(){for(var t;t=T7();){try{t.h.call(t.g)}catch(n){I7(n)}var e=zN;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}eb=!1}function Hm(t,e){qt.call(this),this.h=t||1,this.g=e||be,this.j=yn(this.lb,this),this.l=Date.now()}nn(Hm,qt);ce=Hm.prototype;ce.ca=!1;ce.R=null;ce.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),en(this,"tick"),this.ca&&(Z_(this),this.start()))}};ce.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Z_(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}ce.M=function(){Hm.X.M.call(this),Z_(this),delete this.g};function e1(t,e,n){if(typeof t=="function")n&&(t=yn(t,n));else if(t&&typeof t.handleEvent=="function")t=yn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:be.setTimeout(t,e||0)}function qN(t){t.g=e1(()=>{t.g=null,t.i&&(t.i=!1,qN(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class O7 extends Ko{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:qN(this)}M(){super.M(),this.g&&(be.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tc(t){Ko.call(this),this.h=t,this.g={}}nn(Tc,Ko);var eC=[];function GN(t,e,n,r){Array.isArray(n)||(n&&(eC[0]=n.toString()),n=eC);for(var i=0;i<n.length;i++){var o=FN(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function KN(t){G_(t.g,function(e,n){this.g.hasOwnProperty(n)&&Q_(e)},t),t.g={}}Tc.prototype.M=function(){Tc.X.M.call(this),KN(this)};Tc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function qm(){this.g=!0}qm.prototype.Aa=function(){this.g=!1};function A7(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");s=2<=d.length&&d[1]=="type"?s+(c+"="+u+"&"):s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function N7(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function Ca(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+M7(t,n)+(r?" "+r:"")})}function D7(t,e){t.info(function(){return"TIMEOUT: "+e})}qm.prototype.info=function(){};function M7(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return J_(n)}catch{return e}}var Ys={},tC=null;function Gm(){return tC=tC||new qt}Ys.Pa="serverreachability";function QN(t){vn.call(this,Ys.Pa,t)}nn(QN,vn);function Cc(t){const e=Gm();en(e,new QN(e))}Ys.STAT_EVENT="statevent";function YN(t,e){vn.call(this,Ys.STAT_EVENT,t),this.stat=e}nn(YN,vn);function Tn(t){const e=Gm();en(e,new YN(e,t))}Ys.Qa="timingevent";function XN(t,e){vn.call(this,Ys.Qa,t),this.size=e}nn(XN,vn);function ld(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return be.setTimeout(function(){t()},e)}var Km={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},JN={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function t1(){}t1.prototype.h=null;function nC(t){return t.h||(t.h=t.i())}function ZN(){}var ud={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function n1(){vn.call(this,"d")}nn(n1,vn);function r1(){vn.call(this,"c")}nn(r1,vn);var tb;function Qm(){}nn(Qm,t1);Qm.prototype.g=function(){return new XMLHttpRequest};Qm.prototype.i=function(){return{}};tb=new Qm;function cd(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new Tc(this),this.O=L7,t=Qv?125:void 0,this.T=new Hm(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new eD}function eD(){this.i=null,this.g="",this.h=!1}var L7=45e3,nb={},tp={};ce=cd.prototype;ce.setTimeout=function(t){this.O=t};function rb(t,e,n){t.K=1,t.v=Xm(Ri(e)),t.s=n,t.P=!0,tD(t,null)}function tD(t,e){t.F=Date.now(),dd(t),t.A=Ri(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),uD(n.i,"t",r),t.C=0,n=t.l.H,t.h=new eD,t.g=PD(t.l,n?e:null,!t.s),0<t.N&&(t.L=new O7(yn(t.La,t,t.g),t.N)),GN(t.S,t.g,"readystatechange",t.ib),e=t.H?LN(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),Cc(),A7(t.j,t.u,t.A,t.m,t.U,t.s)}ce.ib=function(t){t=t.target;const e=this.L;e&&hi(t)==3?e.l():this.La(t)};ce.La=function(t){try{if(t==this.g)e:{const c=hi(this.g);var e=this.g.Ea();const d=this.g.aa();if(!(3>c)&&(c!=3||Qv||this.g&&(this.h.h||this.g.fa()||sC(this.g)))){this.I||c!=4||e==7||(e==8||0>=d?Cc(3):Cc(2)),Ym(this);var n=this.g.aa();this.Y=n;t:if(nD(this)){var r=sC(this.g);t="";var i=r.length,o=hi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ps(this),Au(this);var s="";break t}this.h.i=new be.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.fa();if(this.i=n==200,N7(this.j,this.u,this.A,this.m,this.U,c,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Zf(a)){var u=a;break t}}u=null}if(n=u)Ca(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ib(this,n);else{this.i=!1,this.o=3,Tn(12),ps(this),Au(this);break e}}this.P?(rD(this,c,s),Qv&&this.i&&c==3&&(GN(this.S,this.T,"tick",this.hb),this.T.start())):(Ca(this.j,this.m,s,null),ib(this,s)),c==4&&ps(this),this.i&&!this.I&&(c==4?CD(this.l,this):(this.i=!1,dd(this)))}else n==400&&0<s.indexOf("Unknown SID")?(this.o=3,Tn(12)):(this.o=0,Tn(13)),ps(this),Au(this)}}}catch{}finally{}};function nD(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function rD(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=$7(t,n),i==tp){e==4&&(t.o=4,Tn(14),r=!1),Ca(t.j,t.m,null,"[Incomplete Response]");break}else if(i==nb){t.o=4,Tn(15),Ca(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Ca(t.j,t.m,i,null),ib(t,i);nD(t)&&i!=tp&&i!=nb&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Tn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),c1(e),e.K=!0,Tn(11))):(Ca(t.j,t.m,n,"[Invalid Chunked Response]"),ps(t),Au(t))}ce.hb=function(){if(this.g){var t=hi(this.g),e=this.g.fa();this.C<e.length&&(Ym(this),rD(this,t,e),this.i&&t!=4&&dd(this))}};function $7(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?tp:(n=Number(e.substring(n,r)),isNaN(n)?nb:(r+=1,r+n>e.length?tp:(e=e.substr(r,n),t.C=r+n,e)))}ce.cancel=function(){this.I=!0,ps(this)};function dd(t){t.V=Date.now()+t.O,iD(t,t.O)}function iD(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=ld(yn(t.gb,t),e)}function Ym(t){t.B&&(be.clearTimeout(t.B),t.B=null)}ce.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(D7(this.j,this.A),this.K!=2&&(Cc(),Tn(17)),ps(this),this.o=2,Au(this)):iD(this,this.V-t)};function Au(t){t.l.G==0||t.I||CD(t.l,t)}function ps(t){Ym(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,Z_(t.T),KN(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function ib(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||ob(n.h,t))){if(!t.J&&ob(n.h,t)&&n.G==3){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)ip(n),eg(n);else break e;u1(n),Tn(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&n.A==0&&!n.v&&(n.v=ld(yn(n.cb,n),6e3));if(1>=hD(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else ms(n,11)}else if((t.J||n.g==t)&&ip(n),!Zf(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.T=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.I=u[1],n.ka=u[2];const c=u[3];c!=null&&(n.ma=c,n.j.info("VER="+n.ma));const d=u[4];d!=null&&(n.Ca=d,n.j.info("SVER="+n.Ca));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var o=r.h;o.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(i1(o,o.h),o.h=null))}if(r.D){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.za=m,ut(r.F,r.D,m))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var s=t;if(r.sa=RD(r,r.H?r.ka:null,r.V),s.J){fD(r.h,s);var a=s,l=r.J;l&&a.setTimeout(l),a.B&&(Ym(a),dd(a)),r.g=s}else SD(r);0<n.i.length&&tg(n)}else u[0]!="stop"&&u[0]!="close"||ms(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?ms(n,7):l1(n):u[0]!="noop"&&n.l&&n.l.wa(u),n.A=0)}}Cc(4)}catch{}}function F7(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Vm(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function j7(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Vm(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function oD(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Vm(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=j7(t),r=F7(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var sD=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function U7(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ss(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ss){this.h=e!==void 0?e:t.h,np(this,t.j),this.s=t.s,this.g=t.g,rp(this,t.m),this.l=t.l,e=t.i;var n=new kc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),rC(this,n),this.o=t.o}else t&&(n=String(t).match(sD))?(this.h=!!e,np(this,n[1]||"",!0),this.s=pu(n[2]||""),this.g=pu(n[3]||"",!0),rp(this,n[4]),this.l=pu(n[5]||"",!0),rC(this,n[6]||"",!0),this.o=pu(n[7]||"")):(this.h=!!e,this.i=new kc(null,this.h))}Ss.prototype.toString=function(){var t=[],e=this.j;e&&t.push(mu(e,iC,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(mu(e,iC,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(mu(n,n.charAt(0)=="/"?z7:B7,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",mu(n,H7)),t.join("")};function Ri(t){return new Ss(t)}function np(t,e,n){t.j=n?pu(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function rp(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function rC(t,e,n){e instanceof kc?(t.i=e,q7(t.i,t.h)):(n||(e=mu(e,W7)),t.i=new kc(e,t.h))}function ut(t,e,n){t.i.set(e,n)}function Xm(t){return ut(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function pu(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function mu(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,V7),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function V7(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var iC=/[#\/\?@]/g,B7=/[#\?:]/g,z7=/[#\?]/g,W7=/[#\?@]/g,H7=/#/g;function kc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Qo(t){t.g||(t.g=new Map,t.h=0,t.i&&U7(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ce=kc.prototype;ce.add=function(t,e){Qo(this),this.i=null,t=Il(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function aD(t,e){Qo(t),e=Il(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function lD(t,e){return Qo(t),e=Il(t,e),t.g.has(e)}ce.forEach=function(t,e){Qo(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};ce.oa=function(){Qo(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};ce.W=function(t){Qo(this);let e=[];if(typeof t=="string")lD(this,t)&&(e=e.concat(this.g.get(Il(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};ce.set=function(t,e){return Qo(this),this.i=null,t=Il(this,t),lD(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ce.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function uD(t,e,n){aD(t,e),0<n.length&&(t.i=null,t.g.set(Il(t,e),H_(n)),t.h+=n.length)}ce.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.W(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function Il(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function q7(t,e){e&&!t.j&&(Qo(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(aD(this,r),uD(this,i,n))},t)),t.j=e}var G7=class{constructor(e,n){this.h=e,this.g=n}};function cD(t){this.l=t||K7,be.PerformanceNavigationTiming?(t=be.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(be.g&&be.g.Ga&&be.g.Ga()&&be.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var K7=10;function dD(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function hD(t){return t.h?1:t.g?t.g.size:0}function ob(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function i1(t,e){t.g?t.g.add(e):t.h=e}function fD(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}cD.prototype.cancel=function(){if(this.i=pD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function pD(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return H_(t.i)}function o1(){}o1.prototype.stringify=function(t){return be.JSON.stringify(t,void 0)};o1.prototype.parse=function(t){return be.JSON.parse(t,void 0)};function Q7(){this.g=new o1}function Y7(t,e,n){const r=n||"";try{oD(t,function(i,o){let s=i;sd(i)&&(s=J_(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function X7(t,e){const n=new qm;if(be.Image){const r=new Image;r.onload=ih(sh,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ih(sh,n,r,"TestLoadImage: error",!1,e),r.onabort=ih(sh,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ih(sh,n,r,"TestLoadImage: timeout",!1,e),be.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function sh(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function hd(t){this.l=t.ac||null,this.j=t.jb||!1}nn(hd,t1);hd.prototype.g=function(){return new Jm(this.l,this.j)};hd.prototype.i=function(t){return function(){return t}}({});function Jm(t,e){qt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=s1,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}nn(Jm,qt);var s1=0;ce=Jm.prototype;ce.open=function(t,e){if(this.readyState!=s1)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ic(this)};ce.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||be).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};ce.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fd(this)),this.readyState=s1};ce.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ic(this)),this.g&&(this.readyState=3,Ic(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof be.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;mD(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))};function mD(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}ce.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?fd(this):Ic(this),this.readyState==3&&mD(this)}};ce.Va=function(t){this.g&&(this.response=this.responseText=t,fd(this))};ce.Ua=function(t){this.g&&(this.response=t,fd(this))};ce.ga=function(){this.g&&fd(this)};function fd(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ic(t)}ce.setRequestHeader=function(t,e){this.v.append(t,e)};ce.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ce.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Ic(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Jm.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var J7=be.JSON.parse;function bt(t){qt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=gD,this.K=this.L=!1}nn(bt,qt);var gD="",Z7=/^https?$/i,eq=["POST","PUT"];ce=bt.prototype;ce.Ka=function(t){this.L=t};ce.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():tb.g(),this.C=this.u?nC(this.u):nC(tb),this.g.onreadystatechange=yn(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){oC(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=be.FormData&&t instanceof be.FormData,!(0<=AN(eq,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{bD(this),0<this.B&&((this.K=tq(this.g))?(this.g.timeout=this.B,this.g.ontimeout=yn(this.qa,this)):this.A=e1(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){oC(this,o)}};function tq(t){return al&&v7()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}ce.qa=function(){typeof W_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,en(this,"timeout"),this.abort(8))};function oC(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,yD(t),Zm(t)}function yD(t){t.D||(t.D=!0,en(t,"complete"),en(t,"error"))}ce.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,en(this,"complete"),en(this,"abort"),Zm(this))};ce.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Zm(this,!0)),bt.X.M.call(this)};ce.Ha=function(){this.s||(this.F||this.v||this.l?vD(this):this.fb())};ce.fb=function(){vD(this)};function vD(t){if(t.h&&typeof W_<"u"&&(!t.C[1]||hi(t)!=4||t.aa()!=2)){if(t.v&&hi(t)==4)e1(t.Ha,0,t);else if(en(t,"readystatechange"),hi(t)==4){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.H).match(sD)[1]||null;if(!i&&be.self&&be.self.location){var o=be.self.location.protocol;i=o.substr(0,o.length-1)}r=!Z7.test(i?i.toLowerCase():"")}n=r}if(n)en(t,"complete"),en(t,"success");else{t.m=6;try{var s=2<hi(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.aa()+"]",yD(t)}}finally{Zm(t)}}}}function Zm(t,e){if(t.g){bD(t);const n=t.g,r=t.C[0]?Jf:null;t.g=null,t.C=null,e||en(t,"ready");try{n.onreadystatechange=r}catch{}}}function bD(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(be.clearTimeout(t.A),t.A=null)}function hi(t){return t.g?t.g.readyState:0}ce.aa=function(){try{return 2<hi(this)?this.g.status:-1}catch{return-1}};ce.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};ce.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),J7(e)}};function sC(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case gD:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}ce.Ea=function(){return this.m};ce.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function wD(t){let e="";return G_(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function a1(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=wD(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ut(t,e,n))}function eu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function _D(t){this.Ca=0,this.i=[],this.j=new qm,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=eu("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=eu("baseRetryDelayMs",5e3,t),this.bb=eu("retryDelaySeedMs",1e4,t),this.$a=eu("forwardChannelMaxRetries",2,t),this.ta=eu("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new cD(t&&t.concurrentRequestLimit),this.Fa=new Q7,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}ce=_D.prototype;ce.ma=8;ce.G=1;function l1(t){if(ED(t),t.G==3){var e=t.U++,n=Ri(t.F);ut(n,"SID",t.I),ut(n,"RID",e),ut(n,"TYPE","terminate"),pd(t,n),e=new cd(t,t.j,e,void 0),e.K=2,e.v=Xm(Ri(n)),n=!1,be.navigator&&be.navigator.sendBeacon&&(n=be.navigator.sendBeacon(e.v.toString(),"")),!n&&be.Image&&(new Image().src=e.v,n=!0),n||(e.g=PD(e.l,null),e.g.da(e.v)),e.F=Date.now(),dd(e)}ID(t)}function eg(t){t.g&&(c1(t),t.g.cancel(),t.g=null)}function ED(t){eg(t),t.u&&(be.clearTimeout(t.u),t.u=null),ip(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&be.clearTimeout(t.m),t.m=null)}function tg(t){dD(t.h)||t.m||(t.m=!0,WN(t.Ja,t),t.C=0)}function nq(t,e){return hD(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Za?0:t.$a)?!1:(t.m=ld(yn(t.Ja,t,e),kD(t,t.C)),t.C++,!0)}ce.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new cd(this,this.j,t,void 0);let o=this.s;if(this.S&&(o?(o=LN(o),$N(o,this.S)):o=this.S),this.o!==null||this.N||(i.H=o,o=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=xD(this,i,e),n=Ri(this.F),ut(n,"RID",t),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),pd(this,n),o&&(this.N?e="headers="+encodeURIComponent(String(wD(o)))+"&"+e:this.o&&a1(n,this.o,o)),i1(this.h,i),this.Ya&&ut(n,"TYPE","init"),this.O?(ut(n,"$req",e),ut(n,"SID","null"),i.Z=!0,rb(i,n,null)):rb(i,n,e),this.G=2}}else this.G==3&&(t?aC(this,t):this.i.length==0||dD(this.h)||aC(this))};function aC(t,e){var n;e?n=e.m:n=t.U++;const r=Ri(t.F);ut(r,"SID",t.I),ut(r,"RID",n),ut(r,"AID",t.T),pd(t,r),t.o&&t.s&&a1(r,t.o,t.s),n=new cd(t,t.j,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=xD(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),i1(t.h,n),rb(n,r,e)}function pd(t,e){t.ia&&G_(t.ia,function(n,r){ut(e,r,n)}),t.l&&oD({},function(n,r){ut(e,r,n)})}function xD(t,e,n){n=Math.min(t.i.length,n);var r=t.l?yn(t.l.Ra,t.l,t):null;e:{var i=t.i;let o=-1;for(;;){const s=["count="+n];o==-1?0<n?(o=i[0].h,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let u=i[l].h;const c=i[l].g;if(u-=o,0>u)o=Math.max(0,i[l].h-100),a=!1;else try{Y7(c,s,"req"+u+"_")}catch{r&&r(c)}}if(a){r=s.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function SD(t){t.g||t.u||(t.Z=1,WN(t.Ia,t),t.A=0)}function u1(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=ld(yn(t.Ia,t),kD(t,t.A)),t.A++,!0)}ce.Ia=function(){if(this.u=null,TD(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=ld(yn(this.eb,this),t)}};ce.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Tn(10),eg(this),TD(this))};function c1(t){t.B!=null&&(be.clearTimeout(t.B),t.B=null)}function TD(t){t.g=new cd(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=Ri(t.sa);ut(e,"RID","rpc"),ut(e,"SID",t.I),ut(e,"CI",t.L?"0":"1"),ut(e,"AID",t.T),ut(e,"TYPE","xmlhttp"),pd(t,e),t.o&&t.s&&a1(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=Xm(Ri(e)),n.s=null,n.P=!0,tD(n,t)}ce.cb=function(){this.v!=null&&(this.v=null,eg(this),u1(this),Tn(19))};function ip(t){t.v!=null&&(be.clearTimeout(t.v),t.v=null)}function CD(t,e){var n=null;if(t.g==e){ip(t),c1(t),t.g=null;var r=2}else if(ob(t.h,e))n=e.D,fD(t.h,e),r=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=Gm(),en(r,new XN(r,n)),tg(t)}else SD(t);else if(i=e.o,i==3||i==0&&0<t.pa||!(r==1&&nq(t,e)||r==2&&u1(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:ms(t,5);break;case 4:ms(t,10);break;case 3:ms(t,6);break;default:ms(t,2)}}}function kD(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function ms(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=yn(t.kb,t);n||(n=new Ss("//www.google.com/images/cleardot.gif"),be.location&&be.location.protocol=="http"||np(n,"https"),Xm(n)),X7(n.toString(),r)}else Tn(2);t.G=0,t.l&&t.l.va(e),ID(t),ED(t)}ce.kb=function(t){t?(this.j.info("Successfully pinged google.com"),Tn(2)):(this.j.info("Failed to ping google.com"),Tn(1))};function ID(t){if(t.G=0,t.la=[],t.l){const e=pD(t.h);(e.length!=0||t.i.length!=0)&&(YT(t.la,e),YT(t.la,t.i),t.h.i.length=0,H_(t.i),t.i.length=0),t.l.ua()}}function RD(t,e,n){var r=n instanceof Ss?Ri(n):new Ss(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),rp(r,r.m);else{var i=be.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Ss(null,void 0);r&&np(o,r),e&&(o.g=e),i&&rp(o,i),n&&(o.l=n),r=o}return n=t.D,e=t.za,n&&e&&ut(r,n,e),ut(r,"VER",t.ma),pd(t,r),r}function PD(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Da&&!t.ra?new bt(new hd({jb:!0})):new bt(t.ra),e.Ka(t.H),e}function OD(){}ce=OD.prototype;ce.xa=function(){};ce.wa=function(){};ce.va=function(){};ce.ua=function(){};ce.Ra=function(){};function op(){if(al&&!(10<=Number(b7)))throw Error("Environmental error: no available transport.")}op.prototype.g=function(t,e){return new Kn(t,e)};function Kn(t,e){qt.call(this),this.g=new _D(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!Zf(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Zf(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Rl(this)}nn(Kn,qt);Kn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;Tn(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=RD(t,null,t.V),tg(t)};Kn.prototype.close=function(){l1(this.g)};Kn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=J_(t),t=n);e.i.push(new G7(e.ab++,t)),e.G==3&&tg(e)};Kn.prototype.M=function(){this.g.l=null,delete this.j,l1(this.g),delete this.g,Kn.X.M.call(this)};function AD(t){n1.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}nn(AD,n1);function ND(){r1.call(this),this.status=1}nn(ND,r1);function Rl(t){this.g=t}nn(Rl,OD);Rl.prototype.xa=function(){en(this.g,"a")};Rl.prototype.wa=function(t){en(this.g,new AD(t))};Rl.prototype.va=function(t){en(this.g,new ND)};Rl.prototype.ua=function(){en(this.g,"b")};op.prototype.createWebChannel=op.prototype.g;Kn.prototype.send=Kn.prototype.u;Kn.prototype.open=Kn.prototype.m;Kn.prototype.close=Kn.prototype.close;Km.NO_ERROR=0;Km.TIMEOUT=8;Km.HTTP_ERROR=6;JN.COMPLETE="complete";ZN.EventType=ud;ud.OPEN="a";ud.CLOSE="b";ud.ERROR="c";ud.MESSAGE="d";qt.prototype.listen=qt.prototype.N;bt.prototype.listenOnce=bt.prototype.O;bt.prototype.getLastError=bt.prototype.Oa;bt.prototype.getLastErrorCode=bt.prototype.Ea;bt.prototype.getStatus=bt.prototype.aa;bt.prototype.getResponseJson=bt.prototype.Sa;bt.prototype.getResponseText=bt.prototype.fa;bt.prototype.send=bt.prototype.da;bt.prototype.setWithCredentials=bt.prototype.Ka;var rq=function(){return new op},iq=function(){return Gm()},zy=Km,oq=JN,sq=Ys,lC={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},aq=hd,ah=ZN,lq=bt;const uC="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let un=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pl="9.19.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs=new Dm("@firebase/firestore");function cC(){return Fs.logLevel}function de(t,...e){if(Fs.logLevel<=je.DEBUG){const n=e.map(d1);Fs.debug(`Firestore (${Pl}): ${t}`,...n)}}function Pi(t,...e){if(Fs.logLevel<=je.ERROR){const n=e.map(d1);Fs.error(`Firestore (${Pl}): ${t}`,...n)}}function sp(t,...e){if(Fs.logLevel<=je.WARN){const n=e.map(d1);Fs.warn(`Firestore (${Pl}): ${t}`,...n)}}function d1(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(t="Unexpected state"){const e=`FIRESTORE (${Pl}) INTERNAL ASSERTION FAILED: `+t;throw Pi(e),new Error(e)}function ot(t,e){t||ye()}function Se(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};let ue=class extends Fi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uq{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(un.UNAUTHENTICATED))}shutdown(){}}class cq{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class dq{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new xo;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new xo,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new xo)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ot(typeof r.accessToken=="string"),new DD(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ot(e===null||typeof e=="string"),new un(e)}}let hq=class{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=un.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}};class fq{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new hq(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}let pq=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},mq=class{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=o=>{o.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.T;return this.T=o.token,de("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?i(o):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ot(typeof n.token=="string"),this.T=n.token,new pq(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gq(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=gq(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Be(t,e){return t<e?-1:t>e?1:0}function ll(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ue(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Mt.fromMillis(Date.now())}static fromDate(e){return Mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Mt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.timestamp=e}static fromTimestamp(e){return new we(e)}static min(){return new we(new Mt(0,0))}static max(){return new we(new Mt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,n,r){n===void 0?n=0:n>e.length&&ye(),r===void 0?r=e.length-n:r>e.length-n&&ye(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Rc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Rc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class rt extends Rc{construct(e,n,r){return new rt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ue(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new rt(n)}static emptyPath(){return new rt([])}}const yq=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pn extends Rc{construct(e,n,r){return new pn(e,n,r)}static isValidIdentifier(e){return yq.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new pn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ue(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ue(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ue(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ue(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pn(n)}static emptyPath(){return new pn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.path=e}static fromPath(e){return new fe(rt.fromString(e))}static fromName(e){return new fe(rt.fromString(e).popFirst(5))}static empty(){return new fe(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new rt(e.slice()))}}function vq(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=we.fromTimestamp(r===1e9?new Mt(n+1,0):new Mt(n,r));return new $o(i,fe.empty(),e)}function bq(t){return new $o(t.readTime,t.key,-1)}class $o{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new $o(we.min(),fe.empty(),-1)}static max(){return new $o(we.max(),fe.empty(),-1)}}function wq(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=fe.comparator(t.documentKey,e.documentKey),n!==0?n:Be(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _q="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Eq{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function md(t){if(t.code!==H.FAILED_PRECONDITION||t.message!==_q)throw t;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ye(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Y((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Y?n:Y.resolve(n)}catch(n){return Y.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.reject(n)}static resolve(e){return new Y((n,r)=>{n(e)})}static reject(e){return new Y((n,r)=>{r(e)})}static waitFor(e){return new Y((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=Y.resolve(!1);for(const r of e)n=n.next(i=>i?Y.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new Y((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new Y((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function gd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}h1.ct=-1;function ng(t){return t==null}function ap(t){return t===0&&1/t==-1/0}function xq(t){return typeof t=="number"&&Number.isInteger(t)&&!ap(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ol(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function LD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n){this.comparator=e,this.root=n||Xt.EMPTY}insert(e,n){return new Ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new Ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lh(this.root,e,this.comparator,!1)}getReverseIterator(){return new lh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lh(this.root,e,this.comparator,!0)}}class lh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Xt.RED,this.left=i??Xt.EMPTY,this.right=o??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Xt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Xt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ye();const e=this.left.check();if(e!==this.right.check())throw ye();return e+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1;Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw ye()}get value(){throw ye()}get color(){throw ye()}get left(){throw ye()}get right(){throw ye()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Xt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.comparator=e,this.data=new Ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new hC(this.data.getIterator())}getIteratorFrom(e){return new hC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Lt(this.comparator);return n.data=e,n}}class hC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e){this.fields=e,e.sort(pn.comparator)}static empty(){return new Er([])}unionWith(e){let n=new Lt(pn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Er(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ll(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sq extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Sq("Invalid base64 string: "+i):i}}(e);return new _n(n)}static fromUint8Array(e){const n=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new _n(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_n.EMPTY_BYTE_STRING=new _n("");const Tq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fo(t){if(ot(!!t),typeof t=="string"){let e=0;const n=Tq.exec(t);if(ot(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:It(t.seconds),nanos:It(t.nanos)}}function It(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ul(t){return typeof t=="string"?_n.fromBase64String(t):_n.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $D(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function FD(t){const e=t.mapValue.fields.__previous_value__;return $D(e)?FD(e):e}function Pc(t){const e=Fo(t.mapValue.fields.__local_write_time__.timestampValue);return new Mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cq{constructor(e,n,r,i,o,s,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class Oc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Oc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Oc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function js(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$D(t)?4:kq(t)?9007199254740991:10:ye()}function ti(t,e){if(t===e)return!0;const n=js(t);if(n!==js(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Pc(t).isEqual(Pc(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=Fo(r.timestampValue),s=Fo(i.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return ul(r.bytesValue).isEqual(ul(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return It(r.geoPointValue.latitude)===It(i.geoPointValue.latitude)&&It(r.geoPointValue.longitude)===It(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return It(r.integerValue)===It(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=It(r.doubleValue),s=It(i.doubleValue);return o===s?ap(o)===ap(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return ll(t.arrayValue.values||[],e.arrayValue.values||[],ti);case 10:return function(r,i){const o=r.mapValue.fields||{},s=i.mapValue.fields||{};if(dC(o)!==dC(s))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(s[a]===void 0||!ti(o[a],s[a])))return!1;return!0}(t,e);default:return ye()}}function Ac(t,e){return(t.values||[]).find(n=>ti(n,e))!==void 0}function cl(t,e){if(t===e)return 0;const n=js(t),r=js(e);if(n!==r)return Be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Be(t.booleanValue,e.booleanValue);case 2:return function(i,o){const s=It(i.integerValue||i.doubleValue),a=It(o.integerValue||o.doubleValue);return s<a?-1:s>a?1:s===a?0:isNaN(s)?isNaN(a)?0:-1:1}(t,e);case 3:return fC(t.timestampValue,e.timestampValue);case 4:return fC(Pc(t),Pc(e));case 5:return Be(t.stringValue,e.stringValue);case 6:return function(i,o){const s=ul(i),a=ul(o);return s.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const s=i.split("/"),a=o.split("/");for(let l=0;l<s.length&&l<a.length;l++){const u=Be(s[l],a[l]);if(u!==0)return u}return Be(s.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const s=Be(It(i.latitude),It(o.latitude));return s!==0?s:Be(It(i.longitude),It(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const s=i.values||[],a=o.values||[];for(let l=0;l<s.length&&l<a.length;++l){const u=cl(s[l],a[l]);if(u)return u}return Be(s.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===uh.mapValue&&o===uh.mapValue)return 0;if(i===uh.mapValue)return 1;if(o===uh.mapValue)return-1;const s=i.fields||{},a=Object.keys(s),l=o.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const d=Be(a[c],u[c]);if(d!==0)return d;const h=cl(s[a[c]],l[u[c]]);if(h!==0)return h}return Be(a.length,u.length)}(t.mapValue,e.mapValue);default:throw ye()}}function fC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Be(t,e);const n=Fo(t),r=Fo(e),i=Be(n.seconds,r.seconds);return i!==0?i:Be(n.nanos,r.nanos)}function dl(t){return sb(t)}function sb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Fo(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ul(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,fe.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",o=!0;for(const s of r.values||[])o?o=!1:i+=",",i+=sb(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let o="{",s=!0;for(const a of i)s?s=!1:o+=",",o+=`${a}:${sb(r.fields[a])}`;return o+"}"}(t.mapValue):ye();var e,n}function pC(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ab(t){return!!t&&"integerValue"in t}function f1(t){return!!t&&"arrayValue"in t}function mC(t){return!!t&&"nullValue"in t}function gC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Qh(t){return!!t&&"mapValue"in t}function Nu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ol(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Nu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Nu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function kq(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.value=e}static empty(){return new nr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Qh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nu(n)}setAll(e){let n=pn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Nu(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Qh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ti(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Qh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ol(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new nr(Nu(this.value))}}function jD(t){const e=[];return Ol(t.fields,(n,r)=>{const i=new pn([n]);if(Qh(r)){const o=jD(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Er(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new dn(e,0,we.min(),we.min(),we.min(),nr.empty(),0)}static newFoundDocument(e,n,r,i){return new dn(e,1,n,we.min(),r,i,0)}static newNoDocument(e,n){return new dn(e,2,n,we.min(),we.min(),nr.empty(),0)}static newUnknownDocument(e,n){return new dn(e,3,n,we.min(),we.min(),nr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,n){this.position=e,this.inclusive=n}}function yC(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=fe.comparator(fe.fromName(s.referenceValue),n.key):r=cl(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function vC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ti(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,n="asc"){this.field=e,this.dir=n}}function Iq(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{}class Pt extends UD{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Pq(e,n,r):n==="array-contains"?new Nq(e,r):n==="in"?new Dq(e,r):n==="not-in"?new Mq(e,r):n==="array-contains-any"?new Lq(e,r):new Pt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Oq(e,r):new Aq(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(cl(n,this.value)):n!==null&&js(this.value)===js(n)&&this.matchesComparison(cl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Rr extends UD{constructor(e,n){super(),this.filters=e,this.op=n,this.ht=null}static create(e,n){return new Rr(e,n)}matches(e){return VD(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(n=>n.isInequality());return e!==null?e.field:null}lt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function VD(t){return t.op==="and"}function BD(t){return Rq(t)&&VD(t)}function Rq(t){for(const e of t.filters)if(e instanceof Rr)return!1;return!0}function lb(t){if(t instanceof Pt)return t.field.canonicalString()+t.op.toString()+dl(t.value);if(BD(t))return t.filters.map(e=>lb(e)).join(",");{const e=t.filters.map(n=>lb(n)).join(",");return`${t.op}(${e})`}}function zD(t,e){return t instanceof Pt?function(n,r){return r instanceof Pt&&n.op===r.op&&n.field.isEqual(r.field)&&ti(n.value,r.value)}(t,e):t instanceof Rr?function(n,r){return r instanceof Rr&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,o,s)=>i&&zD(o,r.filters[s]),!0):!1}(t,e):void ye()}function WD(t){return t instanceof Pt?function(e){return`${e.field.canonicalString()} ${e.op} ${dl(e.value)}`}(t):t instanceof Rr?function(e){return e.op.toString()+" {"+e.getFilters().map(WD).join(" ,")+"}"}(t):"Filter"}class Pq extends Pt{constructor(e,n,r){super(e,n,r),this.key=fe.fromName(r.referenceValue)}matches(e){const n=fe.comparator(e.key,this.key);return this.matchesComparison(n)}}class Oq extends Pt{constructor(e,n){super(e,"in",n),this.keys=HD("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Aq extends Pt{constructor(e,n){super(e,"not-in",n),this.keys=HD("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function HD(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>fe.fromName(r.referenceValue))}class Nq extends Pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return f1(n)&&Ac(n.arrayValue,this.value)}}class Dq extends Pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ac(this.value.arrayValue,n)}}class Mq extends Pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ac(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ac(this.value.arrayValue,n)}}class Lq extends Pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!f1(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ac(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $q{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ft=null}}function bC(t,e=null,n=[],r=[],i=null,o=null,s=null){return new $q(t,e,n,r,i,o,s)}function p1(t){const e=Se(t);if(e.ft===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>lb(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),ng(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>dl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>dl(r)).join(",")),e.ft=n}return e.ft}function m1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Iq(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!zD(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!vC(t.startAt,e.startAt)&&vC(t.endAt,e.endAt)}function ub(t){return fe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.dt=null,this.wt=null,this.startAt,this.endAt}}function Fq(t,e,n,r,i,o,s,a){return new yd(t,e,n,r,i,o,s,a)}function g1(t){return new yd(t)}function wC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function qD(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function y1(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function GD(t){return t.collectionGroup!==null}function za(t){const e=Se(t);if(e.dt===null){e.dt=[];const n=y1(e),r=qD(e);if(n!==null&&r===null)n.isKeyField()||e.dt.push(new Du(n)),e.dt.push(new Du(pn.keyField(),"asc"));else{let i=!1;for(const o of e.explicitOrderBy)e.dt.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Du(pn.keyField(),o))}}}return e.dt}function Oi(t){const e=Se(t);if(!e.wt)if(e.limitType==="F")e.wt=bC(e.path,e.collectionGroup,za(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const o of za(e)){const s=o.dir==="desc"?"asc":"desc";n.push(new Du(o.field,s))}const r=e.endAt?new lp(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new lp(e.startAt.position,e.startAt.inclusive):null;e.wt=bC(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.wt}function cb(t,e){e.getFirstInequalityField(),y1(t);const n=t.filters.concat([e]);return new yd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function db(t,e,n){return new yd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function rg(t,e){return m1(Oi(t),Oi(e))&&t.limitType===e.limitType}function KD(t){return`${p1(Oi(t))}|lt:${t.limitType}`}function hb(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>WD(r)).join(", ")}]`),ng(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>dl(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>dl(r)).join(",")),`Target(${n})`}(Oi(t))}; limitType=${t.limitType})`}function ig(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):fe.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of za(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,o,s){const a=yC(i,o,s);return i.inclusive?a<=0:a<0}(n.startAt,za(n),r)||n.endAt&&!function(i,o,s){const a=yC(i,o,s);return i.inclusive?a>=0:a>0}(n.endAt,za(n),r))}(t,e)}function jq(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function QD(t){return(e,n)=>{let r=!1;for(const i of za(t)){const o=Uq(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Uq(t,e,n){const r=t.field.isKeyField()?fe.comparator(e.key,n.key):function(i,o,s){const a=o.data.field(i),l=s.data.field(i);return a!==null&&l!==null?cl(a,l):ye()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ye()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ol(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return LD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vq=new Ft(fe.comparator);function Ai(){return Vq}const YD=new Ft(fe.comparator);function gu(...t){let e=YD;for(const n of t)e=e.insert(n.key,n);return e}function XD(t){let e=YD;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function gs(){return Mu()}function JD(){return Mu()}function Mu(){return new Al(t=>t.toString(),(t,e)=>t.isEqual(e))}const Bq=new Ft(fe.comparator),zq=new Lt(fe.comparator);function Ie(...t){let e=zq;for(const n of t)e=e.add(n);return e}const Wq=new Lt(Be);function ZD(){return Wq}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eM(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ap(e)?"-0":e}}function tM(t){return{integerValue:""+t}}function Hq(t,e){return xq(e)?tM(e):eM(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(){this._=void 0}}function qq(t,e,n){return t instanceof up?function(r,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Nc?rM(t,e):t instanceof Dc?iM(t,e):function(r,i){const o=nM(r,i),s=_C(o)+_C(r._t);return ab(o)&&ab(r._t)?tM(s):eM(r.serializer,s)}(t,e)}function Gq(t,e,n){return t instanceof Nc?rM(t,e):t instanceof Dc?iM(t,e):n}function nM(t,e){return t instanceof cp?ab(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class up extends og{}class Nc extends og{constructor(e){super(),this.elements=e}}function rM(t,e){const n=oM(e);for(const r of t.elements)n.some(i=>ti(i,r))||n.push(r);return{arrayValue:{values:n}}}class Dc extends og{constructor(e){super(),this.elements=e}}function iM(t,e){let n=oM(e);for(const r of t.elements)n=n.filter(i=>!ti(i,r));return{arrayValue:{values:n}}}class cp extends og{constructor(e,n){super(),this.serializer=e,this._t=n}}function _C(t){return It(t.integerValue||t.doubleValue)}function oM(t){return f1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Kq(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Nc&&r instanceof Nc||n instanceof Dc&&r instanceof Dc?ll(n.elements,r.elements,ti):n instanceof cp&&r instanceof cp?ti(n._t,r._t):n instanceof up&&r instanceof up}(t.transform,e.transform)}class Qq{constructor(e,n){this.version=e,this.transformResults=n}}class Yr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Yr}static exists(e){return new Yr(void 0,e)}static updateTime(e){return new Yr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class sg{}function sM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new v1(t.key,Yr.none()):new vd(t.key,t.data,Yr.none());{const n=t.data,r=nr.empty();let i=new Lt(pn.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Xs(t.key,r,new Er(i.toArray()),Yr.none())}}function Yq(t,e,n){t instanceof vd?function(r,i,o){const s=r.value.clone(),a=xC(r.fieldTransforms,i,o.transformResults);s.setAll(a),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,n):t instanceof Xs?function(r,i,o){if(!Yh(r.precondition,i))return void i.convertToUnknownDocument(o.version);const s=xC(r.fieldTransforms,i,o.transformResults),a=i.data;a.setAll(aM(r)),a.setAll(s),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Lu(t,e,n,r){return t instanceof vd?function(i,o,s,a){if(!Yh(i.precondition,o))return s;const l=i.value.clone(),u=SC(i.fieldTransforms,a,o);return l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Xs?function(i,o,s,a){if(!Yh(i.precondition,o))return s;const l=SC(i.fieldTransforms,a,o),u=o.data;return u.setAll(aM(i)),u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),s===null?null:s.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,o,s){return Yh(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(t,e,n)}function Xq(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=nM(r.transform,i||null);o!=null&&(n===null&&(n=nr.empty()),n.set(r.field,o))}return n||null}function EC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&ll(n,r,(i,o)=>Kq(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class vd extends sg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Xs extends sg{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function aM(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function xC(t,e,n){const r=new Map;ot(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Gq(s,a,n[i]))}return r}function SC(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,qq(o,s,e))}return r}class v1 extends sg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Jq extends sg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zq{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Yq(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Lu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Lu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=JD();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=sM(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(we.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ie())}isEqual(e){return this.batchId===e.batchId&&ll(this.mutations,e.mutations,(n,r)=>EC(n,r))&&ll(this.baseMutations,e.baseMutations,(n,r)=>EC(n,r))}}class b1{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ot(e.mutations.length===r.length);let i=Bq;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new b1(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eG{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tG{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt,Ae;function nG(t){switch(t){default:return ye();case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0}}function lM(t){if(t===void 0)return Pi("GRPC error has no .code"),H.UNKNOWN;switch(t){case Tt.OK:return H.OK;case Tt.CANCELLED:return H.CANCELLED;case Tt.UNKNOWN:return H.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return H.INTERNAL;case Tt.UNAVAILABLE:return H.UNAVAILABLE;case Tt.UNAUTHENTICATED:return H.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case Tt.NOT_FOUND:return H.NOT_FOUND;case Tt.ALREADY_EXISTS:return H.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return H.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case Tt.ABORTED:return H.ABORTED;case Tt.OUT_OF_RANGE:return H.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return H.UNIMPLEMENTED;case Tt.DATA_LOSS:return H.DATA_LOSS;default:return ye()}}(Ae=Tt||(Tt={}))[Ae.OK=0]="OK",Ae[Ae.CANCELLED=1]="CANCELLED",Ae[Ae.UNKNOWN=2]="UNKNOWN",Ae[Ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ae[Ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ae[Ae.NOT_FOUND=5]="NOT_FOUND",Ae[Ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ae[Ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ae[Ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ae[Ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ae[Ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ae[Ae.ABORTED=10]="ABORTED",Ae[Ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ae[Ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ae[Ae.INTERNAL=13]="INTERNAL",Ae[Ae.UNAVAILABLE=14]="UNAVAILABLE",Ae[Ae.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return ch}static getOrCreateInstance(){return ch===null&&(ch=new w1),ch}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let ch=null;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,bd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ag(we.min(),i,ZD(),Ai(),Ie())}}class bd{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new bd(r,n,Ie(),Ie(),Ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n,r,i){this.It=e,this.removedTargetIds=n,this.key=r,this.Tt=i}}class uM{constructor(e,n){this.targetId=e,this.Et=n}}class cM{constructor(e,n,r=_n.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class TC{constructor(){this.At=0,this.Rt=kC(),this.vt=_n.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}get current(){return this.bt}get resumeToken(){return this.vt}get Vt(){return this.At!==0}get St(){return this.Pt}Dt(e){e.approximateByteSize()>0&&(this.Pt=!0,this.vt=e)}Ct(){let e=Ie(),n=Ie(),r=Ie();return this.Rt.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ye()}}),new bd(this.vt,this.bt,e,n,r)}xt(){this.Pt=!1,this.Rt=kC()}Nt(e,n){this.Pt=!0,this.Rt=this.Rt.insert(e,n)}kt(e){this.Pt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}$t(){this.At-=1}Mt(){this.Pt=!0,this.bt=!0}}class rG{constructor(e){this.Ft=e,this.Bt=new Map,this.Lt=Ai(),this.qt=CC(),this.Ut=new Lt(Be)}Kt(e){for(const n of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(n,e.Tt):this.Qt(n,e.key,e.Tt);for(const n of e.removedTargetIds)this.Qt(n,e.key,e.Tt)}zt(e){this.forEachTarget(e,n=>{const r=this.jt(n);switch(e.state){case 0:this.Wt(n)&&r.Dt(e.resumeToken);break;case 1:r.$t(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.$t(),r.Vt||this.removeTarget(n);break;case 3:this.Wt(n)&&(r.Mt(),r.Dt(e.resumeToken));break;case 4:this.Wt(n)&&(this.Ht(n),r.Dt(e.resumeToken));break;default:ye()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Bt.forEach((r,i)=>{this.Wt(i)&&n(i)})}Jt(e){var n;const r=e.targetId,i=e.Et.count,o=this.Yt(r);if(o){const s=o.target;if(ub(s))if(i===0){const a=new fe(s.path);this.Qt(r,a,dn.newNoDocument(a,we.min()))}else ot(i===1);else{const a=this.Zt(r);a!==i&&(this.Ht(r),this.Ut=this.Ut.add(r),(n=w1.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch({localCacheCount:a,existenceFilterCount:e.Et.count}))}}}Xt(e){const n=new Map;this.Bt.forEach((o,s)=>{const a=this.Yt(s);if(a){if(o.current&&ub(a.target)){const l=new fe(a.target.path);this.Lt.get(l)!==null||this.te(s,l)||this.Qt(s,l,dn.newNoDocument(l,e))}o.St&&(n.set(s,o.Ct()),o.xt())}});let r=Ie();this.qt.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Yt(l);return!u||u.purpose===2||(a=!1,!1)}),a&&(r=r.add(o))}),this.Lt.forEach((o,s)=>s.setReadTime(e));const i=new ag(e,n,this.Ut,this.Lt,r);return this.Lt=Ai(),this.qt=CC(),this.Ut=new Lt(Be),i}Gt(e,n){if(!this.Wt(e))return;const r=this.te(e,n.key)?2:0;this.jt(e).Nt(n.key,r),this.Lt=this.Lt.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ee(n.key).add(e))}Qt(e,n,r){if(!this.Wt(e))return;const i=this.jt(e);this.te(e,n)?i.Nt(n,1):i.kt(n),this.qt=this.qt.insert(n,this.ee(n).delete(e)),r&&(this.Lt=this.Lt.insert(n,r))}removeTarget(e){this.Bt.delete(e)}Zt(e){const n=this.jt(e).Ct();return this.Ft.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.jt(e).Ot()}jt(e){let n=this.Bt.get(e);return n||(n=new TC,this.Bt.set(e,n)),n}ee(e){let n=this.qt.get(e);return n||(n=new Lt(Be),this.qt=this.qt.insert(e,n)),n}Wt(e){const n=this.Yt(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}Yt(e){const n=this.Bt.get(e);return n&&n.Vt?null:this.Ft.ne(e)}Ht(e){this.Bt.set(e,new TC),this.Ft.getRemoteKeysForTarget(e).forEach(n=>{this.Qt(e,n,null)})}te(e,n){return this.Ft.getRemoteKeysForTarget(e).has(n)}}function CC(){return new Ft(fe.comparator)}function kC(){return new Ft(fe.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iG=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),oG=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),sG=(()=>({and:"AND",or:"OR"}))();class aG{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function dp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function lG(t,e){return dp(t,e.toTimestamp())}function Xr(t){return ot(!!t),we.fromTimestamp(function(e){const n=Fo(e);return new Mt(n.seconds,n.nanos)}(t))}function _1(t,e){return function(n){return new rt(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function hM(t){const e=rt.fromString(t);return ot(gM(e)),e}function fb(t,e){return _1(t.databaseId,e.path)}function Wy(t,e){const n=hM(e);if(n.get(1)!==t.databaseId.projectId)throw new ue(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ue(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new fe(fM(n))}function pb(t,e){return _1(t.databaseId,e)}function uG(t){const e=hM(t);return e.length===4?rt.emptyPath():fM(e)}function mb(t){return new rt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fM(t){return ot(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function IC(t,e,n){return{name:fb(t,e),fields:n.value.mapValue.fields}}function cG(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ye()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,u){return l.useProto3Json?(ot(u===void 0||typeof u=="string"),_n.fromBase64String(u||"")):(ot(u===void 0||u instanceof Uint8Array),_n.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){const u=l.code===void 0?H.UNKNOWN:lM(l.code);return new ue(u,l.message||"")}(s);n=new cM(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Wy(t,r.document.name),o=Xr(r.document.updateTime),s=r.document.createTime?Xr(r.document.createTime):we.min(),a=new nr({mapValue:{fields:r.document.fields}}),l=dn.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Xh(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Wy(t,r.document),o=r.readTime?Xr(r.readTime):we.min(),s=dn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Xh([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Wy(t,r.document),o=r.removedTargetIds||[];n=new Xh([],o,i,null)}else{if(!("filter"in e))return ye();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,o=new tG(i),s=r.targetId;n=new uM(s,o)}}return n}function dG(t,e){let n;if(e instanceof vd)n={update:IC(t,e.key,e.value)};else if(e instanceof v1)n={delete:fb(t,e.key)};else if(e instanceof Xs)n={update:IC(t,e.key,e.data),updateMask:wG(e.fieldMask)};else{if(!(e instanceof Jq))return ye();n={verify:fb(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const s=o.transform;if(s instanceof up)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Nc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Dc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof cp)return{fieldPath:o.field.canonicalString(),increment:s._t};throw ye()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:lG(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ye()}(t,e.precondition)),n}function hG(t,e){return t&&t.length>0?(ot(e!==void 0),t.map(n=>function(r,i){let o=r.updateTime?Xr(r.updateTime):Xr(i);return o.isEqual(we.min())&&(o=Xr(i)),new Qq(o,r.transformResults||[])}(n,e))):[]}function fG(t,e){return{documents:[pb(t,e.path)]}}function pG(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=pb(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=pb(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return mM(Rr.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:ua(c.field),direction:yG(c.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=function(l,u){return l.useProto3Json||ng(u)?u:{value:u}}(t,e.limit);var a;return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function mG(t){let e=uG(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ot(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(c){const d=pM(c);return d instanceof Rr&&BD(d)?d.getFilters():[d]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(c=>function(d){return new Du(ca(d.field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(c)));let a=null;n.limit&&(a=function(c){let d;return d=typeof c=="object"?c.value:c,ng(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(c){const d=!!c.before,h=c.values||[];return new lp(h,d)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const d=!c.before,h=c.values||[];return new lp(h,d)}(n.endAt)),Fq(e,i,s,o,a,"F",l,u)}function gG(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ye()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function pM(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=ca(e.unaryFilter.field);return Pt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=ca(e.unaryFilter.field);return Pt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ca(e.unaryFilter.field);return Pt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ca(e.unaryFilter.field);return Pt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ye()}}(t):t.fieldFilter!==void 0?function(e){return Pt.create(ca(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ye()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Rr.create(e.compositeFilter.filters.map(n=>pM(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return ye()}}(e.compositeFilter.op))}(t):ye()}function yG(t){return iG[t]}function vG(t){return oG[t]}function bG(t){return sG[t]}function ua(t){return{fieldPath:t.canonicalString()}}function ca(t){return pn.fromServerFormat(t.fieldPath)}function mM(t){return t instanceof Pt?function(e){if(e.op==="=="){if(gC(e.value))return{unaryFilter:{field:ua(e.field),op:"IS_NAN"}};if(mC(e.value))return{unaryFilter:{field:ua(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(gC(e.value))return{unaryFilter:{field:ua(e.field),op:"IS_NOT_NAN"}};if(mC(e.value))return{unaryFilter:{field:ua(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ua(e.field),op:vG(e.op),value:e.value}}}(t):t instanceof Rr?function(e){const n=e.getFilters().map(r=>mM(r));return n.length===1?n[0]:{compositeFilter:{op:bG(e.op),filters:n}}}(t):ye()}function wG(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function gM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,n,r,i,o=we.min(),s=we.min(),a=_n.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a}withSequenceNumber(e){return new Ts(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _G{constructor(e){this.se=e}}function EG(t){const e=mG({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?db(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xG{constructor(){this.He=new SG}addToCollectionParentIndex(e,n){return this.He.add(n),Y.resolve()}getCollectionParents(e,n){return Y.resolve(this.He.getEntries(n))}addFieldIndex(e,n){return Y.resolve()}deleteFieldIndex(e,n){return Y.resolve()}getDocumentsMatchingTarget(e,n){return Y.resolve(null)}getIndexType(e,n){return Y.resolve(0)}getFieldIndexes(e,n){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,n){return Y.resolve($o.min())}getMinOffsetFromCollectionGroup(e,n){return Y.resolve($o.min())}updateCollectionGroup(e,n,r){return Y.resolve()}updateIndexEntries(e,n){return Y.resolve()}}class SG{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Lt(rt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Lt(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e){this.Rn=e}next(){return this.Rn+=2,this.Rn}static vn(){return new hl(0)}static bn(){return new hl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TG{constructor(){this.changes=new Al(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Y.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CG{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kG{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Lu(r.mutation,i,Er.empty(),Mt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ie()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ie()){const i=gs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=gu();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=gs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ie()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Ai();const s=Mu(),a=Mu();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Xs)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),Lu(c.mutation,u,c.mutation.getFieldMask(),Mt.now())):s.set(u.key,Er.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new CG(c,(d=s.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Mu();let i=new Ft((s,a)=>s-a),o=Ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Er.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||Ie()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=JD();c.forEach(h=>{if(!o.has(h)){const f=sM(n.get(h),r.get(h));f!==null&&d.set(h,f),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,d))}return Y.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return fe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):GD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):Y.resolve(gs());let a=-1,l=o;return s.next(u=>Y.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(c)?Y.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Ie())).next(c=>({batchId:a,changes:XD(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new fe(n)).next(r=>{let i=gu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let o=gu();return this.indexManager.getCollectionParents(e,i).next(s=>Y.forEach(s,a=>{const l=function(u,c){return new yd(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,d)=>{o=o.insert(c,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(o=>{i.forEach((a,l)=>{const u=l.getKey();o.get(u)===null&&(o=o.insert(u,dn.newInvalidDocument(u)))});let s=gu();return o.forEach((a,l)=>{const u=i.get(a);u!==void 0&&Lu(u.mutation,l,Er.empty(),Mt.now()),ig(n,l)&&(s=s.insert(a,l))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IG{constructor(e){this.serializer=e,this.Zn=new Map,this.Xn=new Map}getBundleMetadata(e,n){return Y.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:Xr(r.createTime)}),Y.resolve()}getNamedQuery(e,n){return Y.resolve(this.Xn.get(n))}saveNamedQuery(e,n){return this.Xn.set(n.name,function(r){return{name:r.name,query:EG(r.bundledQuery),readTime:Xr(r.readTime)}}(n)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RG{constructor(){this.overlays=new Ft(fe.comparator),this.ts=new Map}getOverlay(e,n){return Y.resolve(this.overlays.get(n))}getOverlays(e,n){const r=gs();return Y.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.re(e,n,o)}),Y.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ts.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.ts.delete(r)),Y.resolve()}getOverlaysForCollection(e,n,r){const i=gs(),o=n.length+1,s=new fe(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Y.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Ft((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=gs(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=gs(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return Y.resolve(a)}re(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.ts.get(i.largestBatchId).delete(r.key);this.ts.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new eG(n,r));let o=this.ts.get(n);o===void 0&&(o=Ie(),this.ts.set(n,o)),this.ts.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(){this.es=new Lt(Ut.ns),this.ss=new Lt(Ut.rs)}isEmpty(){return this.es.isEmpty()}addReference(e,n){const r=new Ut(e,n);this.es=this.es.add(r),this.ss=this.ss.add(r)}os(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.us(new Ut(e,n))}cs(e,n){e.forEach(r=>this.removeReference(r,n))}hs(e){const n=new fe(new rt([])),r=new Ut(n,e),i=new Ut(n,e+1),o=[];return this.ss.forEachInRange([r,i],s=>{this.us(s),o.push(s.key)}),o}ls(){this.es.forEach(e=>this.us(e))}us(e){this.es=this.es.delete(e),this.ss=this.ss.delete(e)}fs(e){const n=new fe(new rt([])),r=new Ut(n,e),i=new Ut(n,e+1);let o=Ie();return this.ss.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Ut(e,0),r=this.es.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ut{constructor(e,n){this.key=e,this.ds=n}static ns(e,n){return fe.comparator(e.key,n.key)||Be(e.ds,n.ds)}static rs(e,n){return Be(e.ds,n.ds)||fe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PG{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this._s=new Lt(Ut.ns)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Zq(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this._s=this._s.add(new Ut(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Y.resolve(s)}lookupMutationBatch(e,n){return Y.resolve(this.gs(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ys(r),o=i<0?0:i;return Y.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ut(n,0),i=new Ut(n,Number.POSITIVE_INFINITY),o=[];return this._s.forEachInRange([r,i],s=>{const a=this.gs(s.ds);o.push(a)}),Y.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Lt(Be);return n.forEach(i=>{const o=new Ut(i,0),s=new Ut(i,Number.POSITIVE_INFINITY);this._s.forEachInRange([o,s],a=>{r=r.add(a.ds)})}),Y.resolve(this.ps(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;fe.isDocumentKey(o)||(o=o.child(""));const s=new Ut(new fe(o),0);let a=new Lt(Be);return this._s.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.ds)),!0)},s),Y.resolve(this.ps(a))}ps(e){const n=[];return e.forEach(r=>{const i=this.gs(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ot(this.Is(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this._s;return Y.forEach(n.mutations,i=>{const o=new Ut(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this._s=r})}En(e){}containsKey(e,n){const r=new Ut(n,0),i=this._s.firstAfterOrEqual(r);return Y.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}Is(e,n){return this.ys(e)}ys(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}gs(e){const n=this.ys(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OG{constructor(e){this.Ts=e,this.docs=new Ft(fe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Ts(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Y.resolve(r?r.document.mutableCopy():dn.newInvalidDocument(n))}getEntries(e,n){let r=Ai();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():dn.newInvalidDocument(i))}),Y.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Ai();const s=n.path,a=new fe(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||wq(bq(c),r)<=0||(i.has(c.key)||ig(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return Y.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ye()}Es(e,n){return Y.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new AG(this)}getSize(e){return Y.resolve(this.size)}}class AG extends TG{constructor(e){super(),this.Jn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Jn.addEntry(e,i)):this.Jn.removeEntry(r)}),Y.waitFor(n)}getFromCache(e,n){return this.Jn.getEntry(e,n)}getAllFromCache(e,n){return this.Jn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NG{constructor(e){this.persistence=e,this.As=new Al(n=>p1(n),m1),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.Rs=0,this.vs=new E1,this.targetCount=0,this.bs=hl.vn()}forEachTarget(e,n){return this.As.forEach((r,i)=>n(i)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.Rs)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Rs&&(this.Rs=n),Y.resolve()}Sn(e){this.As.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.bs=new hl(n),this.highestTargetId=n),e.sequenceNumber>this.Rs&&(this.Rs=e.sequenceNumber)}addTargetData(e,n){return this.Sn(n),this.targetCount+=1,Y.resolve()}updateTargetData(e,n){return this.Sn(n),Y.resolve()}removeTargetData(e,n){return this.As.delete(n.target),this.vs.hs(n.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.As.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.As.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Y.waitFor(o).next(()=>i)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,n){const r=this.As.get(n)||null;return Y.resolve(r)}addMatchingKeys(e,n,r){return this.vs.os(n,r),Y.resolve()}removeMatchingKeys(e,n,r){this.vs.cs(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),Y.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.vs.hs(n),Y.resolve()}getMatchingKeysForTargetId(e,n){const r=this.vs.fs(n);return Y.resolve(r)}containsKey(e,n){return Y.resolve(this.vs.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DG{constructor(e,n){this.Ps={},this.overlays={},this.Vs=new h1(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=e(this),this.Ds=new NG(this),this.indexManager=new xG,this.remoteDocumentCache=function(r){return new OG(r)}(r=>this.referenceDelegate.Cs(r)),this.serializer=new _G(n),this.xs=new IG(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ss=!1,Promise.resolve()}get started(){return this.Ss}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new RG,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Ps[e.toKey()];return r||(r=new PG(n,this.referenceDelegate),this.Ps[e.toKey()]=r),r}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.xs}runTransaction(e,n,r){de("MemoryPersistence","Starting transaction:",e);const i=new MG(this.Vs.next());return this.referenceDelegate.Ns(),r(i).next(o=>this.referenceDelegate.ks(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Os(e,n){return Y.or(Object.values(this.Ps).map(r=>()=>r.containsKey(e,n)))}}class MG extends Eq{constructor(e){super(),this.currentSequenceNumber=e}}class x1{constructor(e){this.persistence=e,this.$s=new E1,this.Ms=null}static Fs(e){return new x1(e)}get Bs(){if(this.Ms)return this.Ms;throw ye()}addReference(e,n,r){return this.$s.addReference(r,n),this.Bs.delete(r.toString()),Y.resolve()}removeReference(e,n,r){return this.$s.removeReference(r,n),this.Bs.add(r.toString()),Y.resolve()}markPotentiallyOrphaned(e,n){return this.Bs.add(n.toString()),Y.resolve()}removeTarget(e,n){this.$s.hs(n.targetId).forEach(i=>this.Bs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Bs.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ns(){this.Ms=new Set}ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.Bs,r=>{const i=fe.fromPath(r);return this.Ls(e,i).next(o=>{o||n.removeEntry(i,we.min())})}).next(()=>(this.Ms=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ls(e,n).next(r=>{r?this.Bs.delete(n.toString()):this.Bs.add(n.toString())})}Cs(e){return 0}Ls(e,n){return Y.or([()=>Y.resolve(this.$s.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Os(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Vi=r,this.Si=i}static Di(e,n){let r=Ie(),i=Ie();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new S1(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LG{constructor(){this.Ci=!1}initialize(e,n){this.xi=e,this.indexManager=n,this.Ci=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ni(e,n).next(o=>o||this.ki(e,n,i,r)).next(o=>o||this.Oi(e,n))}Ni(e,n){if(wC(n))return Y.resolve(null);let r=Oi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=db(n,null,"F"),r=Oi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Ie(...o);return this.xi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.$i(n,a);return this.Mi(n,u,s,l.readTime)?this.Ni(e,db(n,null,"F")):this.Fi(e,u,n,l)}))})))}ki(e,n,r,i){return wC(n)||i.isEqual(we.min())?this.Oi(e,n):this.xi.getDocuments(e,r).next(o=>{const s=this.$i(n,o);return this.Mi(n,s,r,i)?this.Oi(e,n):(cC()<=je.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),hb(n)),this.Fi(e,s,n,vq(i,-1)))})}$i(e,n){let r=new Lt(QD(e));return n.forEach((i,o)=>{ig(e,o)&&(r=r.add(o))}),r}Mi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Oi(e,n){return cC()<=je.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",hb(n)),this.xi.getDocumentsMatchingQuery(e,n,$o.min())}Fi(e,n,r,i){return this.xi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $G{constructor(e,n,r,i){this.persistence=e,this.Bi=n,this.serializer=i,this.Li=new Ft(Be),this.qi=new Al(o=>p1(o),m1),this.Ui=new Map,this.Ki=e.getRemoteDocumentCache(),this.Ds=e.getTargetCache(),this.xs=e.getBundleCache(),this.Gi(r)}Gi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kG(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Li))}}function FG(t,e,n,r){return new $G(t,e,n,r)}async function yM(t,e){const n=Se(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Gi(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Ie();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Qi:u,removedBatchIds:s,addedBatchIds:a}))})})}function jG(t,e){const n=Se(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Ki.newChangeBuffer({trackRemovals:!0});return function(s,a,l,u){const c=l.batch,d=c.keys();let h=Y.resolve();return d.forEach(f=>{h=h.next(()=>u.getEntry(a,f)).next(p=>{const m=l.docVersions.get(f);ot(m!==null),p.version.compareTo(m)<0&&(c.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),u.addEntry(p)))})}),h.next(()=>s.mutationQueue.removeMutationBatch(a,c))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let a=Ie();for(let l=0;l<s.mutationResults.length;++l)s.mutationResults[l].transformResults.length>0&&(a=a.add(s.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function vM(t){const e=Se(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ds.getLastRemoteSnapshotVersion(n))}function UG(t,e){const n=Se(t),r=e.snapshotVersion;let i=n.Li;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Ki.newChangeBuffer({trackRemovals:!0});i=n.Li;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.Ds.removeMatchingKeys(o,c.removedDocuments,d).next(()=>n.Ds.addMatchingKeys(o,c.addedDocuments,d)));let f=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.has(d)?f=f.withResumeToken(_n.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(d,f),function(p,m,b){return p.resumeToken.approximateByteSize()===0||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(h,f,c)&&a.push(n.Ds.updateTargetData(o,f))});let l=Ai(),u=Ie();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(VG(o,s,e.documentUpdates).next(c=>{l=c.zi,u=c.ji})),!r.isEqual(we.min())){const c=n.Ds.getLastRemoteSnapshotVersion(o).next(d=>n.Ds.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return Y.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.Li=i,o))}function VG(t,e,n){let r=Ie(),i=Ie();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Ai();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(we.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):de("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{zi:s,ji:i}})}function BG(t,e){const n=Se(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function zG(t,e){const n=Se(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ds.getTargetData(r,e).next(o=>o?(i=o,Y.resolve(i)):n.Ds.allocateTargetId(r).next(s=>(i=new Ts(e,s,0,r.currentSequenceNumber),n.Ds.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Li.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Li=n.Li.insert(r.targetId,r),n.qi.set(e,r.targetId)),r})}async function gb(t,e,n){const r=Se(t),i=r.Li.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!gd(s))throw s;de("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.Li=r.Li.remove(e),r.qi.delete(i.target)}function RC(t,e,n){const r=Se(t);let i=we.min(),o=Ie();return r.persistence.runTransaction("Execute query","readonly",s=>function(a,l,u){const c=Se(a),d=c.qi.get(u);return d!==void 0?Y.resolve(c.Li.get(d)):c.Ds.getTargetData(l,u)}(r,s,Oi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ds.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Bi.getDocumentsMatchingQuery(s,e,n?i:we.min(),n?o:Ie())).next(a=>(WG(r,jq(e),a),{documents:a,Wi:o})))}function WG(t,e,n){let r=t.Ui.get(e)||we.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Ui.set(e,r)}class PC{constructor(){this.activeTargetIds=ZD()}tr(e){this.activeTargetIds=this.activeTargetIds.add(e)}er(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class HG{constructor(){this.Br=new PC,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Br.tr(e),this.Lr[e]||"not-current"}updateQueryState(e,n,r){this.Lr[e]=n}removeLocalQueryTarget(e){this.Br.er(e)}isLocalQueryTarget(e){return this.Br.activeTargetIds.has(e)}clearQueryState(e){delete this.Lr[e]}getAllActiveQueryTargets(){return this.Br.activeTargetIds}isActiveQueryTarget(e){return this.Br.activeTargetIds.has(e)}start(){return this.Br=new PC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qG{qr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(){this.Ur=()=>this.Kr(),this.Gr=()=>this.Qr(),this.zr=[],this.jr()}qr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}Kr(){de("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Qr(){de("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dh=null;function Hy(){return dh===null?dh=268435456+Math.round(2147483648*Math.random()):dh++,"0x"+dh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KG{constructor(e){this.Wr=e.Wr,this.Hr=e.Hr}Jr(e){this.Yr=e}Zr(e){this.Xr=e}onMessage(e){this.eo=e}close(){this.Hr()}send(e){this.Wr(e)}no(){this.Yr()}so(e){this.Xr(e)}io(e){this.eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn="WebChannelConnection";class QG extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.ro=n+"://"+e.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get uo(){return!1}co(e,n,r,i,o){const s=Hy(),a=this.ao(e,n);de("RestConnection",`Sending RPC '${e}' ${s}:`,a,r);const l={};return this.ho(l,i,o),this.lo(e,a,l,r).then(u=>(de("RestConnection",`Received RPC '${e}' ${s}: `,u),u),u=>{throw sp("RestConnection",`RPC '${e}' ${s} failed with error: `,u,"url: ",a,"request:",r),u})}fo(e,n,r,i,o,s){return this.co(e,n,r,i,o)}ho(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Pl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}ao(e,n){const r=GG[e];return`${this.ro}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,n,r,i){const o=Hy();return new Promise((s,a)=>{const l=new lq;l.setWithCredentials(!0),l.listenOnce(oq.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case zy.NO_ERROR:const c=l.getResponseJson();de(sn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case zy.TIMEOUT:de(sn,`RPC '${e}' ${o} timed out`),a(new ue(H.DEADLINE_EXCEEDED,"Request time out"));break;case zy.HTTP_ERROR:const d=l.getStatus();if(de(sn,`RPC '${e}' ${o} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h==null?void 0:h.error;if(f&&f.status&&f.message){const p=function(m){const b=m.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(b)>=0?b:H.UNKNOWN}(f.status);a(new ue(p,f.message))}else a(new ue(H.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ue(H.UNAVAILABLE,"Connection failed."));break;default:ye()}}finally{de(sn,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);de(sn,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}wo(e,n,r){const i=Hy(),o=[this.ro,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=rq(),a=iq(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new aq({})),this.ho(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=o.join("");de(sn,`Creating RPC '${e}' stream ${i}: ${u}`,l);const c=s.createWebChannel(u,l);let d=!1,h=!1;const f=new KG({Wr:m=>{h?de(sn,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(d||(de(sn,`Opening RPC '${e}' stream ${i} transport.`),c.open(),d=!0),de(sn,`RPC '${e}' stream ${i} sending:`,m),c.send(m))},Hr:()=>c.close()}),p=(m,b,g)=>{m.listen(b,y=>{try{g(y)}catch(v){setTimeout(()=>{throw v},0)}})};return p(c,ah.EventType.OPEN,()=>{h||de(sn,`RPC '${e}' stream ${i} transport opened.`)}),p(c,ah.EventType.CLOSE,()=>{h||(h=!0,de(sn,`RPC '${e}' stream ${i} transport closed`),f.so())}),p(c,ah.EventType.ERROR,m=>{h||(h=!0,sp(sn,`RPC '${e}' stream ${i} transport errored:`,m),f.so(new ue(H.UNAVAILABLE,"The operation could not be completed")))}),p(c,ah.EventType.MESSAGE,m=>{var b;if(!h){const g=m.data[0];ot(!!g);const y=g,v=y.error||((b=y[0])===null||b===void 0?void 0:b.error);if(v){de(sn,`RPC '${e}' stream ${i} received error:`,v);const _=v.status;let S=function(I){const R=Tt[I];if(R!==void 0)return lM(R)}(_),C=v.message;S===void 0&&(S=H.INTERNAL,C="Unknown error status: "+_+" with message "+v.message),h=!0,f.so(new ue(S,C)),c.close()}else de(sn,`RPC '${e}' stream ${i} received:`,g),f.io(g)}}),p(a,sq.STAT_EVENT,m=>{m.stat===lC.PROXY?de(sn,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===lC.NOPROXY&&de(sn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{f.no()},0),f}}function qy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(t){return new aG(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Ws=e,this.timerId=n,this._o=r,this.mo=i,this.yo=o,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&de("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Io=this.Ws.enqueueAfterDelay(this.timerId,i,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}vo(){this.Io!==null&&(this.Io.skipDelay(),this.Io=null)}cancel(){this.Io!==null&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(e,n,r,i,o,s,a,l){this.Ws=e,this.bo=r,this.Po=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new bM(e,n)}xo(){return this.state===1||this.state===5||this.No()}No(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.ko()}async stop(){this.xo()&&await this.close(0)}Oo(){this.state=0,this.Co.reset()}$o(){this.No()&&this.So===null&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,()=>this.Mo()))}Fo(e){this.Bo(),this.stream.send(e)}async Mo(){if(this.No())return this.close(0)}Bo(){this.So&&(this.So.cancel(),this.So=null)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}async close(e,n){this.Bo(),this.Lo(),this.Co.cancel(),this.Vo++,e!==4?this.Co.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(Pi(n.toString()),Pi("Using maximum backoff delay to prevent overloading the backend."),this.Co.Eo()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.qo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(n)}qo(){}auth(){this.state=1;const e=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Vo===n&&this.Ko(r,i)},r=>{e(()=>{const i=new ue(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Go(i)})})}Ko(e,n){const r=this.Uo(this.Vo);this.stream=this.Qo(e,n),this.stream.Jr(()=>{r(()=>(this.state=2,this.Do=this.Ws.enqueueAfterDelay(this.Po,1e4,()=>(this.No()&&(this.state=3),Promise.resolve())),this.listener.Jr()))}),this.stream.Zr(i=>{r(()=>this.Go(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}ko(){this.state=5,this.Co.Ao(async()=>{this.state=0,this.start()})}Go(e){return de("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return n=>{this.Ws.enqueueAndForget(()=>this.Vo===e?n():(de("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class YG extends wM{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}Qo(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.Co.reset();const n=cG(this.serializer,e),r=function(i){if(!("targetChange"in i))return we.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?we.min():o.readTime?Xr(o.readTime):we.min()}(e);return this.listener.zo(n,r)}jo(e){const n={};n.database=mb(this.serializer),n.addTarget=function(i,o){let s;const a=o.target;return s=ub(a)?{documents:fG(i,a)}:{query:pG(i,a)},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?s.resumeToken=dM(i,o.resumeToken):o.snapshotVersion.compareTo(we.min())>0&&(s.readTime=dp(i,o.snapshotVersion.toTimestamp())),s}(this.serializer,e);const r=gG(this.serializer,e);r&&(n.labels=r),this.Fo(n)}Wo(e){const n={};n.database=mb(this.serializer),n.removeTarget=e,this.Fo(n)}}class XG extends wM{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.Ho=!1}get Jo(){return this.Ho}start(){this.Ho=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Ho&&this.Yo([])}Qo(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(ot(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Ho){this.Co.reset();const n=hG(e.writeResults,e.commitTime),r=Xr(e.commitTime);return this.listener.Zo(r,n)}return ot(!e.writeResults||e.writeResults.length===0),this.Ho=!0,this.listener.Xo()}tu(){const e={};e.database=mb(this.serializer),this.Fo(e)}Yo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>dG(this.serializer,r))};this.Fo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JG extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.eu=!1}nu(){if(this.eu)throw new ue(H.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,n,r){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.co(e,n,r,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ue(H.UNKNOWN,i.toString())})}fo(e,n,r,i){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.fo(e,n,r,o,s,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ue(H.UNKNOWN,o.toString())})}terminate(){this.eu=!0}}class ZG{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}ou(){this.su===0&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.iu=null,this.cu("Backend didn't respond within 10 seconds."),this.uu("Offline"),Promise.resolve())))}au(e){this.state==="Online"?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.uu("Offline")))}set(e){this.hu(),this.su=0,e==="Online"&&(this.ru=!1),this.uu(e)}uu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}cu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ru?(Pi(n),this.ru=!1):de("OnlineStateTracker",n)}hu(){this.iu!==null&&(this.iu.cancel(),this.iu=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eK{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=o,this._u.qr(s=>{r.enqueueAndForget(async()=>{Js(this)&&(de("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=Se(a);l.du.add(4),await wd(l),l.mu.set("Unknown"),l.du.delete(4),await ug(l)}(this))})}),this.mu=new ZG(r,i)}}async function ug(t){if(Js(t))for(const e of t.wu)await e(!0)}async function wd(t){for(const e of t.wu)await e(!1)}function _M(t,e){const n=Se(t);n.fu.has(e.targetId)||(n.fu.set(e.targetId,e),k1(n)?C1(n):Nl(n).No()&&T1(n,e))}function EM(t,e){const n=Se(t),r=Nl(n);n.fu.delete(e),r.No()&&xM(n,e),n.fu.size===0&&(r.No()?r.$o():Js(n)&&n.mu.set("Unknown"))}function T1(t,e){t.gu.Ot(e.targetId),Nl(t).jo(e)}function xM(t,e){t.gu.Ot(e),Nl(t).Wo(e)}function C1(t){t.gu=new rG({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>t.fu.get(e)||null}),Nl(t).start(),t.mu.ou()}function k1(t){return Js(t)&&!Nl(t).xo()&&t.fu.size>0}function Js(t){return Se(t).du.size===0}function SM(t){t.gu=void 0}async function tK(t){t.fu.forEach((e,n)=>{T1(t,e)})}async function nK(t,e){SM(t),k1(t)?(t.mu.au(e),C1(t)):t.mu.set("Unknown")}async function rK(t,e,n){if(t.mu.set("Online"),e instanceof cM&&e.state===2&&e.cause)try{await async function(r,i){const o=i.cause;for(const s of i.targetIds)r.fu.has(s)&&(await r.remoteSyncer.rejectListen(s,o),r.fu.delete(s),r.gu.removeTarget(s))}(t,e)}catch(r){de("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await hp(t,r)}else if(e instanceof Xh?t.gu.Kt(e):e instanceof uM?t.gu.Jt(e):t.gu.zt(e),!n.isEqual(we.min()))try{const r=await vM(t.localStore);n.compareTo(r)>=0&&await function(i,o){const s=i.gu.Xt(o);return s.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.fu.get(l);u&&i.fu.set(l,u.withResumeToken(a.resumeToken,o))}}),s.targetMismatches.forEach(a=>{const l=i.fu.get(a);if(!l)return;i.fu.set(a,l.withResumeToken(_n.EMPTY_BYTE_STRING,l.snapshotVersion)),xM(i,a);const u=new Ts(l.target,a,1,l.sequenceNumber);T1(i,u)}),i.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){de("RemoteStore","Failed to raise snapshot:",r),await hp(t,r)}}async function hp(t,e,n){if(!gd(e))throw e;t.du.add(1),await wd(t),t.mu.set("Offline"),n||(n=()=>vM(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{de("RemoteStore","Retrying IndexedDB access"),await n(),t.du.delete(1),await ug(t)})}function TM(t,e){return e().catch(n=>hp(t,n,e))}async function cg(t){const e=Se(t),n=jo(e);let r=e.lu.length>0?e.lu[e.lu.length-1].batchId:-1;for(;iK(e);)try{const i=await BG(e.localStore,r);if(i===null){e.lu.length===0&&n.$o();break}r=i.batchId,oK(e,i)}catch(i){await hp(e,i)}CM(e)&&kM(e)}function iK(t){return Js(t)&&t.lu.length<10}function oK(t,e){t.lu.push(e);const n=jo(t);n.No()&&n.Jo&&n.Yo(e.mutations)}function CM(t){return Js(t)&&!jo(t).xo()&&t.lu.length>0}function kM(t){jo(t).start()}async function sK(t){jo(t).tu()}async function aK(t){const e=jo(t);for(const n of t.lu)e.Yo(n.mutations)}async function lK(t,e,n){const r=t.lu.shift(),i=b1.from(r,e,n);await TM(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await cg(t)}async function uK(t,e){e&&jo(t).Jo&&await async function(n,r){if(i=r.code,nG(i)&&i!==H.ABORTED){const o=n.lu.shift();jo(n).Oo(),await TM(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,r)),await cg(n)}var i}(t,e),CM(t)&&kM(t)}async function AC(t,e){const n=Se(t);n.asyncQueue.verifyOperationInProgress(),de("RemoteStore","RemoteStore received new credentials");const r=Js(n);n.du.add(3),await wd(n),r&&n.mu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.du.delete(3),await ug(n)}async function cK(t,e){const n=Se(t);e?(n.du.delete(2),await ug(n)):e||(n.du.add(2),await wd(n),n.mu.set("Unknown"))}function Nl(t){return t.yu||(t.yu=function(e,n,r){const i=Se(e);return i.nu(),new YG(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Jr:tK.bind(null,t),Zr:nK.bind(null,t),zo:rK.bind(null,t)}),t.wu.push(async e=>{e?(t.yu.Oo(),k1(t)?C1(t):t.mu.set("Unknown")):(await t.yu.stop(),SM(t))})),t.yu}function jo(t){return t.pu||(t.pu=function(e,n,r){const i=Se(e);return i.nu(),new XG(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Jr:sK.bind(null,t),Zr:uK.bind(null,t),Xo:aK.bind(null,t),Zo:lK.bind(null,t)}),t.wu.push(async e=>{e?(t.pu.Oo(),await cg(t)):(await t.pu.stop(),t.lu.length>0&&(de("RemoteStore",`Stopping write stream with ${t.lu.length} pending writes`),t.lu=[]))})),t.pu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new xo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new I1(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function R1(t,e){if(Pi("AsyncQueue",`${e}: ${t}`),gd(t))return new ue(H.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e){this.comparator=e?(n,r)=>e(n,r)||fe.comparator(n.key,r.key):(n,r)=>fe.comparator(n.key,r.key),this.keyedMap=gu(),this.sortedSet=new Ft(this.comparator)}static emptySet(e){return new Wa(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Wa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Wa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(){this.Iu=new Ft(fe.comparator)}track(e){const n=e.doc.key,r=this.Iu.get(n);r?e.type!==0&&r.type===3?this.Iu=this.Iu.insert(n,e):e.type===3&&r.type!==1?this.Iu=this.Iu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Iu=this.Iu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Iu=this.Iu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Iu=this.Iu.remove(n):e.type===1&&r.type===2?this.Iu=this.Iu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Iu=this.Iu.insert(n,{type:2,doc:e.doc}):ye():this.Iu=this.Iu.insert(n,e)}Tu(){const e=[];return this.Iu.inorderTraversal((n,r)=>{e.push(r)}),e}}class fl{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new fl(e,n,Wa.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dK{constructor(){this.Eu=void 0,this.listeners=[]}}class hK{constructor(){this.queries=new Al(e=>KD(e),rg),this.onlineState="Unknown",this.Au=new Set}}async function IM(t,e){const n=Se(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new dK),i)try{o.Eu=await n.onListen(r)}catch(s){const a=R1(s,`Initialization of query '${hb(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.listeners.push(e),e.Ru(n.onlineState),o.Eu&&e.vu(o.Eu)&&P1(n)}async function RM(t,e){const n=Se(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=o.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function fK(t,e){const n=Se(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.listeners)a.vu(i)&&(r=!0);s.Eu=i}}r&&P1(n)}function pK(t,e,n){const r=Se(t),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(e)}function P1(t){t.Au.forEach(e=>{e.next()})}class PM{constructor(e,n,r){this.query=e,this.bu=n,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new fl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Pu?this.Su(e)&&(this.bu.next(e),n=!0):this.Du(e,this.onlineState)&&(this.Cu(e),n=!0),this.Vu=e,n}onError(e){this.bu.error(e)}Ru(e){this.onlineState=e;let n=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,e)&&(this.Cu(this.Vu),n=!0),n}Du(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.xu||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Su(e){if(e.docChanges.length>0)return!0;const n=this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Cu(e){e=fl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Pu=!0,this.bu.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e){this.key=e}}class AM{constructor(e){this.key=e}}class mK{constructor(e,n){this.query=e,this.Lu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=Ie(),this.mutatedKeys=Ie(),this.Ku=QD(e),this.Gu=new Wa(this.Ku)}get Qu(){return this.Lu}zu(e,n){const r=n?n.ju:new NC,i=n?n.Gu:this.Gu;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),f=ig(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let b=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),b=!0):this.Wu(h,f)||(r.track({type:2,doc:f}),b=!0,(l&&this.Ku(f,l)>0||u&&this.Ku(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),b=!0):h&&!f&&(r.track({type:1,doc:h}),b=!0,(l||u)&&(a=!0)),b&&(f?(s=s.add(f),o=m?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Gu:s,ju:r,Mi:a,mutatedKeys:o}}Wu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const o=e.ju.Tu();o.sort((u,c)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye()}};return f(d)-f(h)}(u.type,c.type)||this.Ku(u.doc,c.doc)),this.Hu(r);const s=n?this.Ju():[],a=this.Uu.size===0&&this.current?1:0,l=a!==this.qu;return this.qu=a,o.length!==0||l?{snapshot:new fl(this.query,e.Gu,i,o,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Yu:s}:{Yu:s}}Ru(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new NC,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}Zu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(n=>this.Lu=this.Lu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Lu=this.Lu.delete(n)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.Uu;this.Uu=Ie(),this.Gu.forEach(r=>{this.Zu(r.key)&&(this.Uu=this.Uu.add(r.key))});const n=[];return e.forEach(r=>{this.Uu.has(r)||n.push(new AM(r))}),this.Uu.forEach(r=>{e.has(r)||n.push(new OM(r))}),n}Xu(e){this.Lu=e.Wi,this.Uu=Ie();const n=this.zu(e.documents);return this.applyChanges(n,!0)}tc(){return fl.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,this.qu===0,this.hasCachedResults)}}class gK{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class yK{constructor(e){this.key=e,this.ec=!1}}class vK{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.nc={},this.sc=new Al(a=>KD(a),rg),this.ic=new Map,this.rc=new Set,this.oc=new Ft(fe.comparator),this.uc=new Map,this.cc=new E1,this.ac={},this.hc=new Map,this.lc=hl.bn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return this.fc===!0}}async function bK(t,e){const n=RK(t);let r,i;const o=n.sc.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.tc();else{const s=await zG(n.localStore,Oi(e));n.isPrimaryClient&&_M(n.remoteStore,s);const a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=await wK(n,e,r,a==="current",s.resumeToken)}return i}async function wK(t,e,n,r,i){t.dc=(d,h,f)=>async function(p,m,b,g){let y=m.view.zu(b);y.Mi&&(y=await RC(p.localStore,m.query,!1).then(({documents:S})=>m.view.zu(S,y)));const v=g&&g.targetChanges.get(m.targetId),_=m.view.applyChanges(y,p.isPrimaryClient,v);return MC(p,m.targetId,_.Yu),_.snapshot}(t,d,h,f);const o=await RC(t.localStore,e,!0),s=new mK(e,o.Wi),a=s.zu(o.documents),l=bd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);MC(t,n,u.Yu);const c=new gK(e,n,s);return t.sc.set(e,c),t.ic.has(n)?t.ic.get(n).push(e):t.ic.set(n,[e]),u.snapshot}async function _K(t,e){const n=Se(t),r=n.sc.get(e),i=n.ic.get(r.targetId);if(i.length>1)return n.ic.set(r.targetId,i.filter(o=>!rg(o,e))),void n.sc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await gb(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),EM(n.remoteStore,r.targetId),yb(n,r.targetId)}).catch(md)):(yb(n,r.targetId),await gb(n.localStore,r.targetId,!0))}async function EK(t,e,n){const r=PK(t);try{const i=await function(o,s){const a=Se(o),l=Mt.now(),u=s.reduce((h,f)=>h.add(f.key),Ie());let c,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=Ai(),p=Ie();return a.Ki.getEntries(h,u).next(m=>{f=m,f.forEach((b,g)=>{g.isValidDocument()||(p=p.add(b))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(m=>{c=m;const b=[];for(const g of s){const y=Xq(g,c.get(g.key).overlayedDocument);y!=null&&b.push(new Xs(g.key,y,jD(y.value.mapValue),Yr.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,b,s)}).next(m=>{d=m;const b=m.applyToLocalDocumentSet(c,p);return a.documentOverlayCache.saveOverlays(h,m.batchId,b)})}).then(()=>({batchId:d.batchId,changes:XD(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,s,a){let l=o.ac[o.currentUser.toKey()];l||(l=new Ft(Be)),l=l.insert(s,a),o.ac[o.currentUser.toKey()]=l}(r,i.batchId,n),await _d(r,i.changes),await cg(r.remoteStore)}catch(i){const o=R1(i,"Failed to persist write");n.reject(o)}}async function NM(t,e){const n=Se(t);try{const r=await UG(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.uc.get(o);s&&(ot(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.ec=!0:i.modifiedDocuments.size>0?ot(s.ec):i.removedDocuments.size>0&&(ot(s.ec),s.ec=!1))}),await _d(n,r,e)}catch(r){await md(r)}}function DC(t,e,n){const r=Se(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.sc.forEach((o,s)=>{const a=s.view.Ru(e);a.snapshot&&i.push(a.snapshot)}),function(o,s){const a=Se(o);a.onlineState=s;let l=!1;a.queries.forEach((u,c)=>{for(const d of c.listeners)d.Ru(s)&&(l=!0)}),l&&P1(a)}(r.eventManager,e),i.length&&r.nc.zo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function xK(t,e,n){const r=Se(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.uc.get(e),o=i&&i.key;if(o){let s=new Ft(fe.comparator);s=s.insert(o,dn.newNoDocument(o,we.min()));const a=Ie().add(o),l=new ag(we.min(),new Map,new Lt(Be),s,a);await NM(r,l),r.oc=r.oc.remove(o),r.uc.delete(e),O1(r)}else await gb(r.localStore,e,!1).then(()=>yb(r,e,n)).catch(md)}async function SK(t,e){const n=Se(t),r=e.batch.batchId;try{const i=await jG(n.localStore,e);MM(n,r,null),DM(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await _d(n,i)}catch(i){await md(i)}}async function TK(t,e,n){const r=Se(t);try{const i=await function(o,s){const a=Se(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,s).next(c=>(ot(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,s)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);MM(r,e,n),DM(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await _d(r,i)}catch(i){await md(i)}}function DM(t,e){(t.hc.get(e)||[]).forEach(n=>{n.resolve()}),t.hc.delete(e)}function MM(t,e,n){const r=Se(t);let i=r.ac[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.ac[r.currentUser.toKey()]=i}}function yb(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ic.get(e))t.sc.delete(r),n&&t.nc.wc(r,n);t.ic.delete(e),t.isPrimaryClient&&t.cc.hs(e).forEach(r=>{t.cc.containsKey(r)||LM(t,r)})}function LM(t,e){t.rc.delete(e.path.canonicalString());const n=t.oc.get(e);n!==null&&(EM(t.remoteStore,n),t.oc=t.oc.remove(e),t.uc.delete(n),O1(t))}function MC(t,e,n){for(const r of n)r instanceof OM?(t.cc.addReference(r.key,e),CK(t,r)):r instanceof AM?(de("SyncEngine","Document no longer in limbo: "+r.key),t.cc.removeReference(r.key,e),t.cc.containsKey(r.key)||LM(t,r.key)):ye()}function CK(t,e){const n=e.key,r=n.path.canonicalString();t.oc.get(n)||t.rc.has(r)||(de("SyncEngine","New document in limbo: "+n),t.rc.add(r),O1(t))}function O1(t){for(;t.rc.size>0&&t.oc.size<t.maxConcurrentLimboResolutions;){const e=t.rc.values().next().value;t.rc.delete(e);const n=new fe(rt.fromString(e)),r=t.lc.next();t.uc.set(r,new yK(n)),t.oc=t.oc.insert(n,r),_M(t.remoteStore,new Ts(Oi(g1(n.path)),r,2,h1.ct))}}async function _d(t,e,n){const r=Se(t),i=[],o=[],s=[];r.sc.isEmpty()||(r.sc.forEach((a,l)=>{s.push(r.dc(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=S1.Di(l.targetId,u);o.push(c)}}))}),await Promise.all(s),r.nc.zo(i),await async function(a,l){const u=Se(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>Y.forEach(l,d=>Y.forEach(d.Vi,h=>u.persistence.referenceDelegate.addReference(c,d.targetId,h)).next(()=>Y.forEach(d.Si,h=>u.persistence.referenceDelegate.removeReference(c,d.targetId,h)))))}catch(c){if(!gd(c))throw c;de("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const d=c.targetId;if(!c.fromCache){const h=u.Li.get(d),f=h.snapshotVersion,p=h.withLastLimboFreeSnapshotVersion(f);u.Li=u.Li.insert(d,p)}}}(r.localStore,o))}async function kK(t,e){const n=Se(t);if(!n.currentUser.isEqual(e)){de("SyncEngine","User change. New user:",e.toKey());const r=await yM(n.localStore,e);n.currentUser=e,function(i,o){i.hc.forEach(s=>{s.forEach(a=>{a.reject(new ue(H.CANCELLED,o))})}),i.hc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await _d(n,r.Qi)}}function IK(t,e){const n=Se(t),r=n.uc.get(e);if(r&&r.ec)return Ie().add(r.key);{let i=Ie();const o=n.ic.get(e);if(!o)return i;for(const s of o){const a=n.sc.get(s);i=i.unionWith(a.view.Qu)}return i}}function RK(t){const e=Se(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=NM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=IK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xK.bind(null,e),e.nc.zo=fK.bind(null,e.eventManager),e.nc.wc=pK.bind(null,e.eventManager),e}function PK(t){const e=Se(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=SK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=TK.bind(null,e),e}class LC{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=lg(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return FG(this.persistence,new LG,e.initialUser,this.serializer)}createPersistence(e){return new DG(x1.Fs,this.serializer)}createSharedClientState(e){return new HG}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class OK{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>DC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=kK.bind(null,this.syncEngine),await cK(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new hK}createDatastore(e){const n=lg(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new QG(i));var i;return function(o,s,a,l){return new JG(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,o=a=>DC(this.syncEngine,a,0),s=OC.D()?new OC:new qG,new eK(n,r,i,o,s);var n,r,i,o,s}createSyncEngine(e,n){return function(r,i,o,s,a,l,u){const c=new vK(r,i,o,s,a,l);return u&&(c.fc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=Se(e);de("RemoteStore","RemoteStore shutting down."),n.du.add(5),await wd(n),n._u.shutdown(),n.mu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.gc(this.observer.next,e)}error(e){this.observer.error?this.gc(this.observer.error,e):Pi("Uncaught Error in snapshot listener:",e.toString())}yc(){this.muted=!0}gc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AK{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=un.UNAUTHENTICATED,this.clientId=MD.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{de("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(de("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ue(H.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=R1(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Gy(t,e){t.asyncQueue.verifyOperationInProgress(),de("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await yM(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function $C(t,e){t.asyncQueue.verifyOperationInProgress();const n=await DK(t);de("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>AC(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>AC(e.remoteStore,o)),t._onlineComponents=e}function NK(t){return t.name==="FirebaseError"?t.code===H.FAILED_PRECONDITION||t.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function DK(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){de("FirestoreClient","Using user provided OfflineComponentProvider");try{await Gy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!NK(n))throw n;sp("Error using user provided cache. Falling back to memory cache: "+n),await Gy(t,new LC)}}else de("FirestoreClient","Using default OfflineComponentProvider"),await Gy(t,new LC);return t._offlineComponents}async function FM(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(de("FirestoreClient","Using user provided OnlineComponentProvider"),await $C(t,t._uninitializedComponentsProvider._online)):(de("FirestoreClient","Using default OnlineComponentProvider"),await $C(t,new OK))),t._onlineComponents}function MK(t){return FM(t).then(e=>e.syncEngine)}async function vb(t){const e=await FM(t),n=e.eventManager;return n.onListen=bK.bind(null,e.syncEngine),n.onUnlisten=_K.bind(null,e.syncEngine),n}function LK(t,e,n={}){const r=new xo;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,s,a,l){const u=new $M({next:d=>{o.enqueueAndForget(()=>RM(i,c)),d.fromCache&&a.source==="server"?l.reject(new ue(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new PM(s,u,{includeMetadataChanges:!0,xu:!0});return IM(i,c)}(await vb(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(t,e,n){if(!n)throw new ue(H.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function $K(t,e,n,r){if(e===!0&&r===!0)throw new ue(H.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function jC(t){if(!fe.isDocumentKey(t))throw new ue(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function UC(t){if(fe.isDocumentKey(t))throw new ue(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function dg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ye()}function So(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ue(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=dg(t);throw new ue(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new ue(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ue(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,$K("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VC({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ue(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ue(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VC(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new uq;switch(n.type){case"firstParty":return new fq(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ue(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=FC.get(e);n&&(de("ComponentProvider","Removing Datastore"),FC.delete(e),n.terminate())}(this),Promise.resolve()}}function FK(t,e,n,r={}){var i;const o=(t=So(t,hg))._getSettings();if(o.host!=="firestore.googleapis.com"&&o.host!==e&&sp("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},o),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let s,a;if(typeof r.mockUserToken=="string")s=r.mockUserToken,a=un.MOCK_USER;else{s=GA(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new ue(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new un(l)}t._authCredentials=new cq(new DD(s,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new To(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wn(this.firestore,e,this._key)}}class Zs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Zs(this.firestore,e,this._query)}}class To extends Zs{constructor(e,n,r){super(e,n,g1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wn(this.firestore,null,new fe(e))}withConverter(e){return new To(this.firestore,e,this._path)}}function Ky(t,e,...n){if(t=kn(t),jM("collection","path",e),t instanceof hg){const r=rt.fromString(e,...n);return UC(r),new To(t,null,r)}{if(!(t instanceof Wn||t instanceof To))throw new ue(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rt.fromString(e,...n));return UC(r),new To(t.firestore,null,r)}}function jK(t,e,...n){if(t=kn(t),arguments.length===1&&(e=MD.A()),jM("doc","path",e),t instanceof hg){const r=rt.fromString(e,...n);return jC(r),new Wn(t,null,new fe(r))}{if(!(t instanceof Wn||t instanceof To))throw new ue(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rt.fromString(e,...n));return jC(r),new Wn(t.firestore,t instanceof To?t.converter:null,new fe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UK{constructor(){this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new bM(this,"async_queue_retry"),this.qc=()=>{const n=qy();n&&de("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Co.vo()};const e=qy();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.qc)}get isShuttingDown(){return this.Oc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Uc(),this.Kc(e)}enterRestrictedMode(e){if(!this.Oc){this.Oc=!0,this.Bc=e||!1;const n=qy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.qc)}}enqueue(e){if(this.Uc(),this.Oc)return new Promise(()=>{});const n=new xo;return this.Kc(()=>this.Oc&&this.Bc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.kc.push(e),this.Gc()))}async Gc(){if(this.kc.length!==0){try{await this.kc[0](),this.kc.shift(),this.Co.reset()}catch(e){if(!gd(e))throw e;de("AsyncQueue","Operation failed with retryable error: "+e)}this.kc.length>0&&this.Co.Ao(()=>this.Gc())}}Kc(e){const n=this.Nc.then(()=>(this.Fc=!0,e().catch(r=>{this.Mc=r,this.Fc=!1;const i=function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),s}(r);throw Pi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Fc=!1,r))));return this.Nc=n,n}enqueueAfterDelay(e,n,r){this.Uc(),this.Lc.indexOf(e)>-1&&(n=0);const i=I1.createAndSchedule(this,e,n,r,o=>this.Qc(o));return this.$c.push(i),i}Uc(){this.Mc&&ye()}verifyOperationInProgress(){}async zc(){let e;do e=this.Nc,await e;while(e!==this.Nc)}jc(e){for(const n of this.$c)if(n.timerId===e)return!0;return!1}Wc(e){return this.zc().then(()=>{this.$c.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.$c)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.zc()})}Hc(e){this.Lc.push(e)}Qc(e){const n=this.$c.indexOf(e);this.$c.splice(n,1)}}function BC(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class pl extends hg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new UK,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||UM(this),this._firestoreClient.terminate()}}function VK(t,e){const n=typeof t=="object"?t:M_(),r=typeof t=="string"?t:e||"(default)",i=Mm(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=HA("firestore");o&&FK(i,...o)}return i}function A1(t){return t._firestoreClient||UM(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function UM(t){var e,n,r;const i=t._freezeSettings(),o=function(s,a,l,u){return new Cq(s,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new AK(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ml(_n.fromBase64String(e))}catch(n){throw new ue(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ml(_n.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BK=/^__.*__$/;class zK{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Xs(e,this.data,this.fieldMask,n,this.fieldTransforms):new vd(e,this.data,n,this.fieldTransforms)}}function BM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye()}}class M1{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Jc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Yc(){return this.settings.Yc}Zc(e){return new M1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Xc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Zc({path:r,ta:!1});return i.ea(e),i}na(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Zc({path:r,ta:!1});return i.Jc(),i}sa(e){return this.Zc({path:void 0,ta:!0})}ia(e){return fp(e,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Jc(){if(this.path)for(let e=0;e<this.path.length;e++)this.ea(this.path.get(e))}ea(e){if(e.length===0)throw this.ia("Document fields must not be empty");if(BM(this.Yc)&&BK.test(e))throw this.ia('Document fields cannot begin and end with "__"')}}class WK{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||lg(e)}ua(e,n,r,i=!1){return new M1({Yc:e,methodName:n,oa:r,path:pn.emptyPath(),ta:!1,ra:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zM(t){const e=t._freezeSettings(),n=lg(t._databaseId);return new WK(t._databaseId,!!e.ignoreUndefinedProperties,n)}function HK(t,e,n,r,i,o={}){const s=t.ua(o.merge||o.mergeFields?2:0,e,n,i);qM("Data must be an object, but it was:",s,r);const a=WM(r,s);let l,u;if(o.merge)l=new Er(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const d of o.mergeFields){const h=GK(e,d,n);if(!s.contains(h))throw new ue(H.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);QK(c,h)||c.push(h)}l=new Er(c),u=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=s.fieldTransforms;return new zK(new nr(a),l,u)}function qK(t,e,n,r=!1){return L1(n,t.ua(r?4:3,e))}function L1(t,e){if(HM(t=kn(t)))return qM("Unsupported field value:",e,t),WM(t,e);if(t instanceof VM)return function(n,r){if(!BM(r.Yc))throw r.ia(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ia(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ta&&e.Yc!==4)throw e.ia("Nested arrays are not supported");return function(n,r){const i=[];let o=0;for(const s of n){let a=L1(s,r.sa(o));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),o++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=kn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Hq(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Mt.fromDate(n);return{timestampValue:dp(r.serializer,i)}}if(n instanceof Mt){const i=new Mt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:dp(r.serializer,i)}}if(n instanceof D1)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ml)return{bytesValue:dM(r.serializer,n._byteString)};if(n instanceof Wn){const i=r.databaseId,o=n.firestore._databaseId;if(!o.isEqual(i))throw r.ia(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:_1(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ia(`Unsupported field value: ${dg(n)}`)}(t,e)}function WM(t,e){const n={};return LD(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ol(t,(r,i)=>{const o=L1(i,e.Xc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function HM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Mt||t instanceof D1||t instanceof ml||t instanceof Wn||t instanceof VM)}function qM(t,e,n){if(!HM(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=dg(n);throw r==="an object"?e.ia(t+" a custom object"):e.ia(t+" "+r)}}function GK(t,e,n){if((e=kn(e))instanceof N1)return e._internalPath;if(typeof e=="string")return GM(t,e);throw fp("Field path arguments must be of type string or ",t,!1,void 0,n)}const KK=new RegExp("[~\\*/\\[\\]]");function GM(t,e,n){if(e.search(KK)>=0)throw fp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new N1(...e.split("."))._internalPath}catch{throw fp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function fp(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new ue(H.INVALID_ARGUMENT,a+t+l)}function QK(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new YK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field($1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class YK extends KM{data(){return super.data()}}function $1(t,e){return typeof e=="string"?GM(t,e):e instanceof N1?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ue(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class F1{}class XK extends F1{}function zC(t,e,...n){let r=[];e instanceof F1&&r.push(e),r=r.concat(n),function(i){const o=i.filter(a=>a instanceof j1).length,s=i.filter(a=>a instanceof fg).length;if(o>1||o>0&&s>0)throw new ue(H.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class fg extends XK{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new fg(e,n,r)}_apply(e){const n=this._parse(e);return YM(e._query,n),new Zs(e.firestore,e.converter,cb(e._query,n))}_parse(e){const n=zM(e.firestore);return function(i,o,s,a,l,u,c){let d;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new ue(H.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){HC(c,u);const h=[];for(const f of c)h.push(WC(a,i,f));d={arrayValue:{values:h}}}else d=WC(a,i,c)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||HC(c,u),d=qK(s,o,c,u==="in"||u==="not-in");return Pt.create(l,u,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function JK(t,e,n){const r=e,i=$1("where",t);return fg._create(i,r,n)}class j1 extends F1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new j1(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Rr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let o=r;const s=i.getFlattenedFilters();for(const a of s)YM(o,a),o=cb(o,a)}(e._query,n),new Zs(e.firestore,e.converter,cb(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function WC(t,e,n){if(typeof(n=kn(n))=="string"){if(n==="")throw new ue(H.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!GD(e)&&n.indexOf("/")!==-1)throw new ue(H.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(rt.fromString(n));if(!fe.isDocumentKey(r))throw new ue(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return pC(t,new fe(r))}if(n instanceof Wn)return pC(t,n._key);throw new ue(H.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dg(n)}.`)}function HC(t,e){if(!Array.isArray(t)||t.length===0)throw new ue(H.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function YM(t,e){if(e.isInequality()){const r=y1(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new ue(H.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const o=qD(t);o!==null&&ZK(t,i,o)}const n=function(r,i){for(const o of r)for(const s of o.getFlattenedFilters())if(i.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ue(H.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(H.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function ZK(t,e,n){if(!n.isEqual(e))throw new ue(H.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class eQ{convertValue(e,n="none"){switch(js(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ul(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ye()}}convertObject(e,n){const r={};return Ol(e.fields,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new D1(It(e.latitude),It(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=FD(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Pc(e));default:return null}}convertTimestamp(e){const n=Fo(e);return new Mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=rt.fromString(e);ot(gM(r));const i=new Oc(r.get(1),r.get(3)),o=new fe(r.popFirst(5));return i.isEqual(n)||Pi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tQ(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class XM extends KM{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Jh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field($1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Jh extends XM{data(e={}){return super.data(e)}}class JM{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new yu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Jh(this._firestore,this._userDataWriter,r.key,r,new yu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(s=>{const a=new Jh(r._firestore,r._userDataWriter,s.doc.key,s.doc,new yu(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter);return s.doc,{type:"added",doc:a,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(s=>i||s.type!==3).map(s=>{const a=new Jh(r._firestore,r._userDataWriter,s.doc.key,s.doc,new yu(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return s.type!==0&&(l=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),u=o.indexOf(s.doc.key)),{type:nQ(s.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function nQ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye()}}class U1 extends eQ{constructor(e){super(),this.firestore=e}convertBytes(e){return new ml(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wn(this.firestore,null,n)}}function rQ(t){t=So(t,Zs);const e=So(t.firestore,pl),n=A1(e),r=new U1(e);return QM(t._query),LK(n,t._query).then(i=>new JM(e,r,t,i))}function iQ(t){return ZM(So(t.firestore,pl),[new v1(t._key,Yr.none())])}function oQ(t,e){const n=So(t.firestore,pl),r=jK(t),i=tQ(t.converter,e);return ZM(n,[HK(zM(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Yr.exists(!1))]).then(()=>r)}function sQ(t,...e){var n,r,i;t=kn(t);let o={includeMetadataChanges:!1},s=0;typeof e[s]!="object"||BC(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(BC(e[s])){const d=e[s];e[s]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[s+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[s+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(t instanceof Wn)u=So(t.firestore,pl),c=g1(t._key.path),l={next:d=>{e[s]&&e[s](aQ(u,t,d))},error:e[s+1],complete:e[s+2]};else{const d=So(t,Zs);u=So(d.firestore,pl),c=d._query;const h=new U1(u);l={next:f=>{e[s]&&e[s](new JM(u,h,d,f))},error:e[s+1],complete:e[s+2]},QM(t._query)}return function(d,h,f,p){const m=new $M(p),b=new PM(h,m,f);return d.asyncQueue.enqueueAndForget(async()=>IM(await vb(d),b)),()=>{m.yc(),d.asyncQueue.enqueueAndForget(async()=>RM(await vb(d),b))}}(A1(u),c,a,l)}function ZM(t,e){return function(n,r){const i=new xo;return n.asyncQueue.enqueueAndForget(async()=>EK(await MK(n),r,i)),i.promise}(A1(t),e)}function aQ(t,e,n){const r=n.docs.get(e._key),i=new U1(t);return new XM(t,i,e._key,r,new yu(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){Pl=n})(kl),Ls(new Lo("firestore",(n,{instanceIdentifier:r,options:i})=>{const o=n.getProvider("app").getImmediate(),s=new pl(new dq(n.getProvider("auth-internal")),new mq(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new ue(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Oc(a.options.projectId,l)}(o,r),o);return i=Object.assign({useFetchStreams:e},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),Gr(uC,"3.10.0",t),Gr(uC,"3.10.0","esm2017")})();const qC="@firebase/database",GC="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eL="";function lQ(t){eL=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uQ{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Jt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:wc(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cQ{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return ji(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new uQ(e)}}catch{}return new cQ},ys=tL("localStorage"),bb=tL("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha=new Dm("@firebase/database"),dQ=function(){let t=1;return function(){return t++}}(),nL=function(t){const e=rW(t),n=new J8;n.update(e);const r=n.digest();return P_.encodeByteArray(r)},Ed=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Ed.apply(null,r):typeof r=="object"?e+=Jt(r):e+=r,e+=" "}return e};let Cs=null,KC=!0;const hQ=function(t,e){te(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Ha.logLevel=je.VERBOSE,Cs=Ha.log.bind(Ha),e&&bb.set("logging_enabled",!0)):typeof t=="function"?Cs=t:(Cs=null,bb.remove("logging_enabled"))},hn=function(...t){if(KC===!0&&(KC=!1,Cs===null&&bb.get("logging_enabled")===!0&&hQ(!0)),Cs){const e=Ed.apply(null,t);Cs(e)}},xd=function(t){return function(...e){hn(t,...e)}},wb=function(...t){const e="FIREBASE INTERNAL ERROR: "+Ed(...t);Ha.error(e)},Ni=function(...t){const e=`FIREBASE FATAL ERROR: ${Ed(...t)}`;throw Ha.error(e),new Error(e)},Hn=function(...t){const e="FIREBASE WARNING: "+Ed(...t);Ha.warn(e)},fQ=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Hn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},rL=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},pQ=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},gl="[MIN_NAME]",Us="[MAX_NAME]",Dl=function(t,e){if(t===e)return 0;if(t===gl||e===Us)return-1;if(e===gl||t===Us)return 1;{const n=QC(t),r=QC(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},mQ=function(t,e){return t===e?0:t<e?-1:1},tu=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Jt(e))},V1=function(t){if(typeof t!="object"||t===null)return Jt(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Jt(e[r]),n+=":",n+=V1(t[e[r]]);return n+="}",n},iL=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function ur(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const oL=function(t){te(!rL(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,o,s,a,l;t===0?(o=0,s=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);for(l=e;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(c.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},gQ=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},yQ=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},vQ=new RegExp("^-?(0*)\\d{1,10}$"),bQ=-2147483648,wQ=2147483647,QC=function(t){if(vQ.test(t)){const e=Number(t);if(e>=bQ&&e<=wQ)return e}return null},Sd=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Hn("Exception was thrown by user callback.",n),e},Math.floor(0))}},_Q=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},$u=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EQ{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Hn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xQ{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(hn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Hn(e)}}class qa{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}qa.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1="5",sL="v",aL="s",lL="r",uL="f",cL=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,dL="ls",hL="p",_b="ac",fL="websocket",pL="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(e,n,r,i,o=!1,s="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ys.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ys.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function SQ(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function gL(t,e,n){te(typeof e=="string","typeof type must == string"),te(typeof n=="object","typeof params must == object");let r;if(e===fL)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===pL)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);SQ(t)&&(n.ns=t.namespace);const i=[];return ur(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TQ{constructor(){this.counters_={}}incrementCounter(e,n=1){ji(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return L8(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy={},Yy={};function z1(t){const e=t.toString();return Qy[e]||(Qy[e]=new TQ),Qy[e]}function CQ(t,e){const n=t.toString();return Yy[n]||(Yy[n]=e()),Yy[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kQ{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Sd(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC="start",IQ="close",RQ="pLPCommand",PQ="pRTLPCB",yL="id",vL="pw",bL="ser",OQ="cb",AQ="seg",NQ="ts",DQ="d",MQ="dframe",wL=1870,_L=30,LQ=wL-_L,$Q=25e3,FQ=3e4;class ka{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=xd(e),this.stats_=z1(n),this.urlFn=l=>(this.appCheckToken&&(l[_b]=this.appCheckToken),gL(n,pL,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new kQ(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(FQ)),pQ(()=>{if(this.isClosed_)return;this.scriptTagHolder=new W1((...o)=>{const[s,a,l,u,c]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===YC)this.id=a,this.password=l;else if(s===IQ)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[YC]="t",r[bL]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[OQ]=this.scriptTagHolder.uniqueCallbackIdentifier),r[sL]=B1,this.transportSessionId&&(r[aL]=this.transportSessionId),this.lastSessionId&&(r[dL]=this.lastSessionId),this.applicationId&&(r[hL]=this.applicationId),this.appCheckToken&&(r[_b]=this.appCheckToken),typeof location<"u"&&location.hostname&&cL.test(location.hostname)&&(r[lL]=uL);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ka.forceAllow_=!0}static forceDisallow(){ka.forceDisallow_=!0}static isAvailable(){return ka.forceAllow_?!0:!ka.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!gQ()&&!yQ()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Jt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=BA(n),i=iL(r,LQ);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[MQ]="t",r[yL]=e,r[vL]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Jt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class W1{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=dQ(),window[RQ+this.uniqueCallbackIdentifier]=e,window[PQ+this.uniqueCallbackIdentifier]=n,this.myIFrame=W1.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){hn("frame writing exception"),a.stack&&hn(a.stack),hn(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||hn("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[yL]=this.myID,e[vL]=this.myPW,e[bL]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+_L+r.length<=wL;){const s=this.pendingSegs.shift();r=r+"&"+AQ+i+"="+s.seg+"&"+NQ+i+"="+s.ts+"&"+DQ+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor($Q)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{hn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jQ=16384,UQ=45e3;let pp=null;typeof MozWebSocket<"u"?pp=MozWebSocket:typeof WebSocket<"u"&&(pp=WebSocket);class _r{constructor(e,n,r,i,o,s,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=xd(this.connId),this.stats_=z1(n),this.connURL=_r.connectionURL_(n,s,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,o){const s={};return s[sL]=B1,typeof location<"u"&&location.hostname&&cL.test(location.hostname)&&(s[lL]=uL),n&&(s[aL]=n),r&&(s[dL]=r),i&&(s[_b]=i),o&&(s[hL]=o),gL(e,fL,s)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ys.set("previous_websocket_failure",!0);try{let r;QA(),this.mySock=new pp(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){_r.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&pp!==null&&!_r.forceDisallow_}static previouslyFailed(){return ys.isInMemoryStorage||ys.get("previous_websocket_failure")===!0}markConnectionHealthy(){ys.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=wc(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(te(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Jt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=iL(n,jQ);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(UQ))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}_r.responsesRequiredToBeHealthy=2;_r.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[ka,_r]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=_r&&_r.isAvailable();let r=n&&!_r.previouslyFailed();if(e.webSocketOnly&&(n||Hn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[_r];else{const i=this.transports_=[];for(const o of Mc.ALL_TRANSPORTS)o&&o.isAvailable()&&i.push(o);Mc.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Mc.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VQ=6e4,BQ=5e3,zQ=10*1024,WQ=100*1024,Xy="t",XC="d",HQ="s",JC="r",qQ="e",ZC="o",ek="a",tk="n",nk="p",GQ="h";class KQ{constructor(e,n,r,i,o,s,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=xd("c:"+this.id+":"),this.transportManager_=new Mc(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=$u(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>WQ?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>zQ?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Xy in e){const n=e[Xy];n===ek?this.upgradeIfSecondaryHealthy_():n===JC?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===ZC&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=tu("t",e),r=tu("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:nk,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:ek,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:tk,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=tu("t",e),r=tu("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=tu(Xy,e);if(XC in e){const r=e[XC];if(n===GQ){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===tk){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===HQ?this.onConnectionShutdown_(r):n===JC?this.onReset_(r):n===qQ?wb("Server Error: "+r):n===ZC?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):wb("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),B1!==r&&Hn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),$u(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(VQ))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):$u(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(BQ))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:nk,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ys.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e){this.allowedEvents_=e,this.listeners_={},te(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){te(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp extends xL{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!N_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new mp}getInitialEvent(e){return te(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk=32,ik=768;class st{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Qe(){return new st("")}function De(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Uo(t){return t.pieces_.length-t.pieceNum_}function nt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new st(t.pieces_,e)}function SL(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function QQ(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function TL(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function CL(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new st(e,0)}function zt(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof st)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new st(n,0)}function Oe(t){return t.pieceNum_>=t.pieces_.length}function or(t,e){const n=De(t),r=De(e);if(n===null)return e;if(n===r)return or(nt(t),nt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function kL(t,e){if(Uo(t)!==Uo(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function xr(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Uo(t)>Uo(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class YQ{constructor(e,n){this.errorPrefix_=n,this.parts_=TL(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Nm(this.parts_[r]);IL(this)}}function XQ(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Nm(e),IL(t)}function JQ(t){const e=t.parts_.pop();t.byteLength_-=Nm(e),t.parts_.length>0&&(t.byteLength_-=1)}function IL(t){if(t.byteLength_>ik)throw new Error(t.errorPrefix_+"has a key path longer than "+ik+" bytes ("+t.byteLength_+").");if(t.parts_.length>rk)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+rk+") or object contains a cycle "+rs(t))}function rs(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1 extends xL{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new H1}getInitialEvent(e){return te(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu=1e3,ZQ=60*5*1e3,ok=30*1e3,eY=1.3,tY=3e4,nY="server_kill",sk=3;class vi extends EL{constructor(e,n,r,i,o,s,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=o,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=vi.nextPersistentConnectionId_++,this.log_=xd("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=nu,this.maxReconnectDelay_=ZQ,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!QA())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");H1.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&mp.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,o={r:i,a:e,b:n};this.log_(Jt(o)),te(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new A_,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:s=>{const a=s.d;s.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(e,n,r,i){this.initConnection_();const o=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+o),this.listens.has(s)||this.listens.set(s,new Map),te(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),te(!this.listens.get(s).has(o),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(s).set(o,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const o={p:r},s="q";e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(s,o,a=>{const l=a.d,u=a.s;vi.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&ji(e,"w")){const r=ol(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();Hn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||X8(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=ok)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=Y8(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const o=i.s,s=i.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,s))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),te(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const o={p:e},s="n";i&&(o.q=r,o.t=i),this.sendRequest(s,o)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const o={p:n,d:r};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,s=>{i&&setTimeout(()=>{i(s.s,s.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,o){this.initConnection_();const s={p:n,d:r};o!==void 0&&(s.h=o),this.outstandingPuts_.push({action:e,request:s,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(o.s,o.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Jt(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):wb("Unrecognized action received from server: "+Jt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){te(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=nu,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=nu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>tY&&(this.reconnectDelay_=nu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*eY)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+vi.nextConnectionId_++,o=this.lastSessionId;let s=!1,a=null;const l=function(){a?a.close():(s=!0,r())},u=function(d){te(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);s?hn("getToken() completed but was canceled"):(hn("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new KQ(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,f=>{Hn(f+" ("+this.repoInfo_.toString()+")"),this.interrupt(nY)},o))}catch(d){this.log_("Failed to get token: "+d),s||(this.repoInfo_.nodeAdmin&&Hn(d),l())}}}interrupt(e){hn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){hn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Vv(this.interruptReasons_)&&(this.reconnectDelay_=nu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(o=>V1(o)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new st(e).toString();let i;if(this.listens.has(r)){const o=this.listens.get(r);i=o.get(n),o.delete(n),o.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){hn("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=sk&&(this.reconnectDelay_=ok,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){hn("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=sk&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+eL.replace(/\./g,"-")]=1,N_()?e["framework.cordova"]=1:KA()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=mp.getInstance().currentlyOnline();return Vv(this.interruptReasons_)&&e}}vi.nextPersistentConnectionId_=0;vi.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Me(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Me(gl,e),i=new Me(gl,n);return this.compare(r,i)!==0}minPost(){return Me.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hh;class RL extends pg{static get __EMPTY_NODE(){return hh}static set __EMPTY_NODE(e){hh=e}compare(e,n){return Dl(e.name,n.name)}isDefinedOn(e){throw Tl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Me.MIN}maxPost(){return new Me(Us,hh)}makePost(e,n){return te(typeof e=="string","KeyIndex indexValue must always be a string."),new Me(e,hh)}toString(){return".key"}}const Ga=new RL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?r(e.key,n):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Bt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Bt.RED,this.left=i??Dn.EMPTY_NODE,this.right=o??Dn.EMPTY_NODE}copy(e,n,r,i,o){return new Bt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return o<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Dn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Dn.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Bt.RED=!0;Bt.BLACK=!1;class rY{copy(e,n,r,i,o){return this}insert(e,n,r){return new Bt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Dn{constructor(e,n=Dn.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Dn(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Bt.BLACK,null,null))}remove(e){return new Dn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Bt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new fh(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new fh(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new fh(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new fh(this.root_,null,this.comparator_,!0,e)}}Dn.EMPTY_NODE=new rY;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iY(t,e){return Dl(t.name,e.name)}function q1(t,e){return Dl(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eb;function oY(t){Eb=t}const PL=function(t){return typeof t=="number"?"number:"+oL(t):"string:"+t},OL=function(t){if(t.isLeafNode()){const e=t.val();te(typeof e=="string"||typeof e=="number"||typeof e=="object"&&ji(e,".sv"),"Priority must be a string or number.")}else te(t===Eb||t.isEmpty(),"priority of unexpected type.");te(t===Eb||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ak;class jt{constructor(e,n=jt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,te(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),OL(this.priorityNode_)}static set __childrenNodeConstructor(e){ak=e}static get __childrenNodeConstructor(){return ak}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new jt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:jt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Oe(e)?this:De(e)===".priority"?this.priorityNode_:jt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:jt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=De(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(te(r!==".priority"||Uo(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,jt.__childrenNodeConstructor.EMPTY_NODE.updateChild(nt(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+PL(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=oL(this.value_):e+=this.value_,this.lazyHash_=nL(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===jt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof jt.__childrenNodeConstructor?-1:(te(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=jt.VALUE_TYPE_ORDER.indexOf(n),o=jt.VALUE_TYPE_ORDER.indexOf(r);return te(i>=0,"Unknown leaf type: "+n),te(o>=0,"Unknown leaf type: "+r),i===o?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}jt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AL,NL;function sY(t){AL=t}function aY(t){NL=t}class lY extends pg{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?Dl(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Me.MIN}maxPost(){return new Me(Us,new jt("[PRIORITY-POST]",NL))}makePost(e,n){const r=AL(e);return new Me(n,new jt("[PRIORITY-POST]",r))}toString(){return".priority"}}const gn=new lY;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uY=Math.log(2);class cY{constructor(e){const n=o=>parseInt(Math.log(o)/uY,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const gp=function(t,e,n,r){t.sort(e);const i=function(l,u){const c=u-l;let d,h;if(c===0)return null;if(c===1)return d=t[l],h=n?n(d):d,new Bt(h,d.node,Bt.BLACK,null,null);{const f=parseInt(c/2,10)+l,p=i(l,f),m=i(f+1,u);return d=t[f],h=n?n(d):d,new Bt(h,d.node,Bt.BLACK,p,m)}},o=function(l){let u=null,c=null,d=t.length;const h=function(p,m){const b=d-p,g=d;d-=p;const y=i(b+1,g),v=t[b],_=n?n(v):v;f(new Bt(_,v.node,m,null,y))},f=function(p){u?(u.left=p,u=p):(c=p,u=p)};for(let p=0;p<l.count;++p){const m=l.nextBitIsOne(),b=Math.pow(2,l.count-(p+1));m?h(b,Bt.BLACK):(h(b,Bt.BLACK),h(b,Bt.RED))}return c},s=new cY(t.length),a=o(s);return new Dn(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jy;const aa={};class fi{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return te(aa&&gn,"ChildrenNode.ts has not been loaded"),Jy=Jy||new fi({".priority":aa},{".priority":gn}),Jy}get(e){const n=ol(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Dn?n:null}hasIndex(e){return ji(this.indexSet_,e.toString())}addIndex(e,n){te(e!==Ga,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=n.getIterator(Me.Wrap);let s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=gp(r,e.getCompare()):a=aa;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=a,new fi(c,u)}addToIndexes(e,n){const r=Hf(this.indexes_,(i,o)=>{const s=ol(this.indexSet_,o);if(te(s,"Missing index implementation for "+o),i===aa)if(s.isDefinedOn(e.node)){const a=[],l=n.getIterator(Me.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),gp(a,s.getCompare())}else return aa;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new Me(e.name,a))),l.insert(e,e.node)}});return new fi(r,this.indexSet_)}removeFromIndexes(e,n){const r=Hf(this.indexes_,i=>{if(i===aa)return i;{const o=n.get(e.name);return o?i.remove(new Me(e.name,o)):i}});return new fi(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ru;class ze{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&OL(this.priorityNode_),this.children_.isEmpty()&&te(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ru||(ru=new ze(new Dn(q1),null,fi.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ru}updatePriority(e){return this.children_.isEmpty()?this:new ze(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?ru:n}}getChild(e){const n=De(e);return n===null?this:this.getImmediateChild(n).getChild(nt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(te(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Me(e,n);let i,o;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));const s=i.isEmpty()?ru:this.priorityNode_;return new ze(i,s,o)}}updateChild(e,n){const r=De(e);if(r===null)return n;{te(De(e)!==".priority"||Uo(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(nt(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,o=!0;if(this.forEachChild(gn,(s,a)=>{n[s]=a.val(e),r++,o&&ze.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1}),!e&&o&&i<2*r){const s=[];for(const a in n)s[a]=n[a];return s}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+PL(this.getPriority().val())+":"),this.forEachChild(gn,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":nL(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const o=i.getPredecessorKey(new Me(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Me(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Me(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Me.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)<0;)i.getNext(),o=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Me.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)>0;)i.getNext(),o=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Td?-1:0}withIndex(e){if(e===Ga||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new ze(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Ga||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(gn),i=n.getIterator(gn);let o=r.getNext(),s=i.getNext();for(;o&&s;){if(o.name!==s.name||!o.node.equals(s.node))return!1;o=r.getNext(),s=i.getNext()}return o===null&&s===null}else return!1;else return!1}}resolveIndex_(e){return e===Ga?null:this.indexMap_.get(e.toString())}}ze.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class dY extends ze{constructor(){super(new Dn(q1),ze.EMPTY_NODE,fi.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ze.EMPTY_NODE}isEmpty(){return!1}}const Td=new dY;Object.defineProperties(Me,{MIN:{value:new Me(gl,ze.EMPTY_NODE)},MAX:{value:new Me(Us,Td)}});RL.__EMPTY_NODE=ze.EMPTY_NODE;jt.__childrenNodeConstructor=ze;oY(Td);aY(Td);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hY=!0;function fn(t,e=null){if(t===null)return ze.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),te(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new jt(n,fn(e))}if(!(t instanceof Array)&&hY){const n=[];let r=!1;if(ur(t,(s,a)=>{if(s.substring(0,1)!=="."){const l=fn(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Me(s,l)))}}),n.length===0)return ze.EMPTY_NODE;const o=gp(n,iY,s=>s.name,q1);if(r){const s=gp(n,gn.getCompare());return new ze(o,fn(e),new fi({".priority":s},{".priority":gn}))}else return new ze(o,fn(e),fi.Default)}else{let n=ze.EMPTY_NODE;return ur(t,(r,i)=>{if(ji(t,r)&&r.substring(0,1)!=="."){const o=fn(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(fn(e))}}sY(fn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fY extends pg{constructor(e){super(),this.indexPath_=e,te(!Oe(e)&&De(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?Dl(e.name,n.name):o}makePost(e,n){const r=fn(e),i=ze.EMPTY_NODE.updateChild(this.indexPath_,r);return new Me(n,i)}maxPost(){const e=ze.EMPTY_NODE.updateChild(this.indexPath_,Td);return new Me(Us,e)}toString(){return TL(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pY extends pg{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Dl(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Me.MIN}maxPost(){return Me.MAX}makePost(e,n){const r=fn(e);return new Me(n,r)}toString(){return".value"}}const mY=new pY;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gY(t){return{type:"value",snapshotNode:t}}function yY(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function vY(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function lk(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function bY(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=gn}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return te(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return te(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:gl}hasEnd(){return this.endSet_}getIndexEndValue(){return te(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return te(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Us}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return te(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===gn}copy(){const e=new G1;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function uk(t){const e={};if(t.isDefault())return e;let n;if(t.index_===gn?n="$priority":t.index_===mY?n="$value":t.index_===Ga?n="$key":(te(t.index_ instanceof fY,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Jt(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Jt(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Jt(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Jt(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Jt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function ck(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==gn&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp extends EL{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=xd("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(te(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const s=yp.getListenId_(e,r),a={};this.listens_[s]=a;const l=uk(e._queryParams);this.restRequest_(o+".json",l,(u,c)=>{let d=c;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(o,d,!1,r),ol(this.listens_,s)===a){let h;u?u===401?h="permission_denied":h="rest_error:"+u:h="ok",i(h,null)}})}unlisten(e,n){const r=yp.getListenId_(e,n);delete this.listens_[r]}get(e){const n=uk(e._queryParams),r=e._path.toString(),i=new A_;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Cl(n);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=wc(a.responseText)}catch{Hn("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Hn("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wY{constructor(){this.rootNode_=ze.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(){return{value:null,children:new Map}}function DL(t,e,n){if(Oe(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=De(e);t.children.has(r)||t.children.set(r,vp());const i=t.children.get(r);e=nt(e),DL(i,e,n)}}function xb(t,e,n){t.value!==null?n(e,t.value):_Y(t,(r,i)=>{const o=new st(e.toString()+"/"+r);xb(i,o,n)})}function _Y(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EY{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&ur(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk=10*1e3,xY=30*1e3,SY=5*60*1e3;class TY{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new EY(e);const r=dk+(xY-dk)*Math.random();$u(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;ur(e,(i,o)=>{o>0&&ji(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),$u(this.reportStats_.bind(this),Math.floor(Math.random()*2*SY))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zr;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(zr||(zr={}));function ML(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function LL(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function $L(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=zr.ACK_USER_WRITE,this.source=ML()}operationForChild(e){if(Oe(this.path)){if(this.affectedTree.value!=null)return te(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new st(e));return new bp(Qe(),n,this.revert)}}else return te(De(this.path)===e,"operationForChild called for unrelated child."),new bp(nt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=zr.OVERWRITE}operationForChild(e){return Oe(this.path)?new Vs(this.source,Qe(),this.snap.getImmediateChild(e)):new Vs(this.source,nt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=zr.MERGE}operationForChild(e){if(Oe(this.path)){const n=this.children.subtree(new st(e));return n.isEmpty()?null:n.value?new Vs(this.source,Qe(),n.value):new Lc(this.source,Qe(),n)}else return te(De(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Lc(this.source,nt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Oe(e))return this.isFullyInitialized()&&!this.filtered_;const n=De(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function CY(t,e,n,r){const i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(bY(s.childName,s.snapshotNode))}),iu(t,i,"child_removed",e,r,n),iu(t,i,"child_added",e,r,n),iu(t,i,"child_moved",o,r,n),iu(t,i,"child_changed",e,r,n),iu(t,i,"value",e,r,n),i}function iu(t,e,n,r,i,o){const s=r.filter(a=>a.type===n);s.sort((a,l)=>IY(t,a,l)),s.forEach(a=>{const l=kY(t,a,o);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function kY(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function IY(t,e,n){if(e.childName==null||n.childName==null)throw Tl("Should only compare child_ events.");const r=new Me(e.childName,e.snapshotNode),i=new Me(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(t,e){return{eventCache:t,serverCache:e}}function Fu(t,e,n,r){return FL(new K1(e,n,r),t.serverCache)}function jL(t,e,n,r){return FL(t.eventCache,new K1(e,n,r))}function Sb(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Bs(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zy;const RY=()=>(Zy||(Zy=new Dn(mQ)),Zy);class tt{constructor(e,n=RY()){this.value=e,this.children=n}static fromObject(e){let n=new tt(null);return ur(e,(r,i)=>{n=n.set(new st(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Qe(),value:this.value};if(Oe(e))return null;{const r=De(e),i=this.children.get(r);if(i!==null){const o=i.findRootMostMatchingPathAndValue(nt(e),n);return o!=null?{path:zt(new st(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Oe(e))return this;{const n=De(e),r=this.children.get(n);return r!==null?r.subtree(nt(e)):new tt(null)}}set(e,n){if(Oe(e))return new tt(n,this.children);{const r=De(e),o=(this.children.get(r)||new tt(null)).set(nt(e),n),s=this.children.insert(r,o);return new tt(this.value,s)}}remove(e){if(Oe(e))return this.children.isEmpty()?new tt(null):new tt(null,this.children);{const n=De(e),r=this.children.get(n);if(r){const i=r.remove(nt(e));let o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new tt(null):new tt(this.value,o)}else return this}}get(e){if(Oe(e))return this.value;{const n=De(e),r=this.children.get(n);return r?r.get(nt(e)):null}}setTree(e,n){if(Oe(e))return n;{const r=De(e),o=(this.children.get(r)||new tt(null)).setTree(nt(e),n);let s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new tt(this.value,s)}}fold(e){return this.fold_(Qe(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(zt(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Qe(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Oe(e))return null;{const o=De(e),s=this.children.get(o);return s?s.findOnPath_(nt(e),zt(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Qe(),n)}foreachOnPath_(e,n,r){if(Oe(e))return this;{this.value&&r(n,this.value);const i=De(e),o=this.children.get(i);return o?o.foreachOnPath_(nt(e),zt(n,i),r):new tt(null)}}foreach(e){this.foreach_(Qe(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(zt(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e){this.writeTree_=e}static empty(){return new Cr(new tt(null))}}function ju(t,e,n){if(Oe(e))return new Cr(new tt(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let o=r.value;const s=or(i,e);return o=o.updateChild(s,n),new Cr(t.writeTree_.set(i,o))}else{const i=new tt(n),o=t.writeTree_.setTree(e,i);return new Cr(o)}}}function hk(t,e,n){let r=t;return ur(n,(i,o)=>{r=ju(r,zt(e,i),o)}),r}function fk(t,e){if(Oe(e))return Cr.empty();{const n=t.writeTree_.setTree(e,new tt(null));return new Cr(n)}}function Tb(t,e){return ea(t,e)!=null}function ea(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(or(n.path,e)):null}function pk(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(gn,(r,i)=>{e.push(new Me(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Me(r,i.value))}),e}function Co(t,e){if(Oe(e))return t;{const n=ea(t,e);return n!=null?new Cr(new tt(n)):new Cr(t.writeTree_.subtree(e))}}function Cb(t){return t.writeTree_.isEmpty()}function yl(t,e){return UL(Qe(),t.writeTree_,e)}function UL(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(te(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=UL(zt(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(zt(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VL(t,e){return qL(e,t)}function PY(t,e,n,r,i){te(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=ju(t.visibleWrites,e,n)),t.lastWriteId=r}function OY(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function AY(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);te(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){const a=t.allWrites[s];a.visible&&(s>=n&&NY(a,r.path)?i=!1:xr(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return DY(t),!0;if(r.snap)t.visibleWrites=fk(t.visibleWrites,r.path);else{const a=r.children;ur(a,l=>{t.visibleWrites=fk(t.visibleWrites,zt(r.path,l))})}return!0}else return!1}function NY(t,e){if(t.snap)return xr(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&xr(zt(t.path,n),e))return!0;return!1}function DY(t){t.visibleWrites=BL(t.allWrites,MY,Qe()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function MY(t){return t.visible}function BL(t,e,n){let r=Cr.empty();for(let i=0;i<t.length;++i){const o=t[i];if(e(o)){const s=o.path;let a;if(o.snap)xr(n,s)?(a=or(n,s),r=ju(r,a,o.snap)):xr(s,n)&&(a=or(s,n),r=ju(r,Qe(),o.snap.getChild(a)));else if(o.children){if(xr(n,s))a=or(n,s),r=hk(r,a,o.children);else if(xr(s,n))if(a=or(s,n),Oe(a))r=hk(r,Qe(),o.children);else{const l=ol(o.children,De(a));if(l){const u=l.getChild(nt(a));r=ju(r,Qe(),u)}}}else throw Tl("WriteRecord should have .snap or .children")}}return r}function zL(t,e,n,r,i){if(!r&&!i){const o=ea(t.visibleWrites,e);if(o!=null)return o;{const s=Co(t.visibleWrites,e);if(Cb(s))return n;if(n==null&&!Tb(s,Qe()))return null;{const a=n||ze.EMPTY_NODE;return yl(s,a)}}}else{const o=Co(t.visibleWrites,e);if(!i&&Cb(o))return n;if(!i&&n==null&&!Tb(o,Qe()))return null;{const s=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(xr(u.path,e)||xr(e,u.path))},a=BL(t.allWrites,s,e),l=n||ze.EMPTY_NODE;return yl(a,l)}}}function LY(t,e,n){let r=ze.EMPTY_NODE;const i=ea(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(gn,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){const o=Co(t.visibleWrites,e);return n.forEachChild(gn,(s,a)=>{const l=yl(Co(o,new st(s)),a);r=r.updateImmediateChild(s,l)}),pk(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{const o=Co(t.visibleWrites,e);return pk(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function $Y(t,e,n,r,i){te(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=zt(e,n);if(Tb(t.visibleWrites,o))return null;{const s=Co(t.visibleWrites,o);return Cb(s)?i.getChild(n):yl(s,i.getChild(n))}}function FY(t,e,n,r){const i=zt(e,n),o=ea(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){const s=Co(t.visibleWrites,i);return yl(s,r.getNode().getImmediateChild(n))}else return null}function jY(t,e){return ea(t.visibleWrites,e)}function UY(t,e,n,r,i,o,s){let a;const l=Co(t.visibleWrites,e),u=ea(l,Qe());if(u!=null)a=u;else if(n!=null)a=yl(l,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){const c=[],d=s.getCompare(),h=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let f=h.getNext();for(;f&&c.length<i;)d(f,r)!==0&&c.push(f),f=h.getNext();return c}else return[]}function VY(){return{visibleWrites:Cr.empty(),allWrites:[],lastWriteId:-1}}function kb(t,e,n,r){return zL(t.writeTree,t.treePath,e,n,r)}function WL(t,e){return LY(t.writeTree,t.treePath,e)}function mk(t,e,n,r){return $Y(t.writeTree,t.treePath,e,n,r)}function wp(t,e){return jY(t.writeTree,zt(t.treePath,e))}function BY(t,e,n,r,i,o){return UY(t.writeTree,t.treePath,e,n,r,i,o)}function Q1(t,e,n){return FY(t.writeTree,t.treePath,e,n)}function HL(t,e){return qL(zt(t.treePath,e),t.writeTree)}function qL(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zY{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;te(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),te(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,lk(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,vY(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,yY(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,lk(r,e.snapshotNode,i.oldSnap));else throw Tl("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WY{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const GL=new WY;class Y1{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new K1(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Q1(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Bs(this.viewCache_),o=BY(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}}function HY(t,e){te(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),te(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function qY(t,e,n,r,i){const o=new zY;let s,a;if(n.type===zr.OVERWRITE){const u=n;u.source.fromUser?s=Ib(t,e,u.path,u.snap,r,i,o):(te(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!Oe(u.path),s=_p(t,e,u.path,u.snap,r,i,a,o))}else if(n.type===zr.MERGE){const u=n;u.source.fromUser?s=KY(t,e,u.path,u.children,r,i,o):(te(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),s=Rb(t,e,u.path,u.children,r,i,a,o))}else if(n.type===zr.ACK_USER_WRITE){const u=n;u.revert?s=XY(t,e,u.path,r,i,o):s=QY(t,e,u.path,u.affectedTree,r,i,o)}else if(n.type===zr.LISTEN_COMPLETE)s=YY(t,e,n.path,r,o);else throw Tl("Unknown operation type: "+n.type);const l=o.getChanges();return GY(e,s,l),{viewCache:s,changes:l}}function GY(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Sb(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(gY(Sb(e)))}}function KL(t,e,n,r,i,o){const s=e.eventCache;if(wp(r,n)!=null)return e;{let a,l;if(Oe(n))if(te(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=Bs(e),c=u instanceof ze?u:ze.EMPTY_NODE,d=WL(r,c);a=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{const u=kb(r,Bs(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,o)}else{const u=De(n);if(u===".priority"){te(Uo(n)===1,"Can't have a priority with additional path components");const c=s.getNode();l=e.serverCache.getNode();const d=mk(r,n,c,l);d!=null?a=t.filter.updatePriority(c,d):a=s.getNode()}else{const c=nt(n);let d;if(s.isCompleteForChild(u)){l=e.serverCache.getNode();const h=mk(r,n,s.getNode(),l);h!=null?d=s.getNode().getImmediateChild(u).updateChild(c,h):d=s.getNode().getImmediateChild(u)}else d=Q1(r,u,e.serverCache);d!=null?a=t.filter.updateChild(s.getNode(),u,d,c,i,o):a=s.getNode()}}return Fu(e,a,s.isFullyInitialized()||Oe(n),t.filter.filtersNodes())}}function _p(t,e,n,r,i,o,s,a){const l=e.serverCache;let u;const c=s?t.filter:t.filter.getIndexedFilter();if(Oe(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),f,null)}else{const f=De(n);if(!l.isCompleteForPath(n)&&Uo(n)>1)return e;const p=nt(n),b=l.getNode().getImmediateChild(f).updateChild(p,r);f===".priority"?u=c.updatePriority(l.getNode(),b):u=c.updateChild(l.getNode(),f,b,p,GL,null)}const d=jL(e,u,l.isFullyInitialized()||Oe(n),c.filtersNodes()),h=new Y1(i,d,o);return KL(t,d,n,i,h,a)}function Ib(t,e,n,r,i,o,s){const a=e.eventCache;let l,u;const c=new Y1(i,e,o);if(Oe(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,s),l=Fu(e,u,!0,t.filter.filtersNodes());else{const d=De(n);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=Fu(e,u,a.isFullyInitialized(),a.isFiltered());else{const h=nt(n),f=a.getNode().getImmediateChild(d);let p;if(Oe(h))p=r;else{const m=c.getCompleteChild(d);m!=null?SL(h)===".priority"&&m.getChild(CL(h)).isEmpty()?p=m:p=m.updateChild(h,r):p=ze.EMPTY_NODE}if(f.equals(p))l=e;else{const m=t.filter.updateChild(a.getNode(),d,p,h,c,s);l=Fu(e,m,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function gk(t,e){return t.eventCache.isCompleteForChild(e)}function KY(t,e,n,r,i,o,s){let a=e;return r.foreach((l,u)=>{const c=zt(n,l);gk(e,De(c))&&(a=Ib(t,a,c,u,i,o,s))}),r.foreach((l,u)=>{const c=zt(n,l);gk(e,De(c))||(a=Ib(t,a,c,u,i,o,s))}),a}function yk(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Rb(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;Oe(n)?u=r:u=new tt(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((d,h)=>{if(c.hasChild(d)){const f=e.serverCache.getNode().getImmediateChild(d),p=yk(t,f,h);l=_p(t,l,new st(d),p,i,o,s,a)}}),u.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!c.hasChild(d)&&!f){const p=e.serverCache.getNode().getImmediateChild(d),m=yk(t,p,h);l=_p(t,l,new st(d),m,i,o,s,a)}}),l}function QY(t,e,n,r,i,o,s){if(wp(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(Oe(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return _p(t,e,n,l.getNode().getChild(n),i,o,a,s);if(Oe(n)){let u=new tt(null);return l.getNode().forEachChild(Ga,(c,d)=>{u=u.set(new st(c),d)}),Rb(t,e,n,u,i,o,a,s)}else return e}else{let u=new tt(null);return r.foreach((c,d)=>{const h=zt(n,c);l.isCompleteForPath(h)&&(u=u.set(c,l.getNode().getChild(h)))}),Rb(t,e,n,u,i,o,a,s)}}function YY(t,e,n,r,i){const o=e.serverCache,s=jL(e,o.getNode(),o.isFullyInitialized()||Oe(n),o.isFiltered());return KL(t,s,n,r,GL,i)}function XY(t,e,n,r,i,o){let s;if(wp(r,n)!=null)return e;{const a=new Y1(r,e,i),l=e.eventCache.getNode();let u;if(Oe(n)||De(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=kb(r,Bs(e));else{const d=e.serverCache.getNode();te(d instanceof ze,"serverChildren would be complete if leaf node"),c=WL(r,d)}c=c,u=t.filter.updateFullNode(l,c,o)}else{const c=De(n);let d=Q1(r,c,e.serverCache);d==null&&e.serverCache.isCompleteForChild(c)&&(d=l.getImmediateChild(c)),d!=null?u=t.filter.updateChild(l,c,d,nt(n),a,o):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(l,c,ze.EMPTY_NODE,nt(n),a,o):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=kb(r,Bs(e)),s.isLeafNode()&&(u=t.filter.updateFullNode(u,s,o)))}return s=e.serverCache.isFullyInitialized()||wp(r,Qe())!=null,Fu(e,u,s,t.filter.filtersNodes())}}function JY(t,e){const n=Bs(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Oe(e)&&!n.getImmediateChild(De(e)).isEmpty())?n.getChild(e):null}function vk(t,e,n,r){e.type===zr.MERGE&&e.source.queryId!==null&&(te(Bs(t.viewCache_),"We should always have a full cache before handling merges"),te(Sb(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,o=qY(t.processor_,i,e,n,r);return HY(t.processor_,o.viewCache),te(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,ZY(t,o.changes,o.viewCache.eventCache.getNode(),null)}function ZY(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return CY(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bk;function eX(t){te(!bk,"__referenceConstructor has already been defined"),bk=t}function X1(t,e,n,r){const i=e.source.queryId;if(i!==null){const o=t.views.get(i);return te(o!=null,"SyncTree gave us an op for an invalid query."),vk(o,e,n,r)}else{let o=[];for(const s of t.views.values())o=o.concat(vk(s,e,n,r));return o}}function J1(t,e){let n=null;for(const r of t.views.values())n=n||JY(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wk;function tX(t){te(!wk,"__referenceConstructor has already been defined"),wk=t}class _k{constructor(e){this.listenProvider_=e,this.syncPointTree_=new tt(null),this.pendingWriteTree_=VY(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function nX(t,e,n,r,i){return PY(t.pendingWriteTree_,e,n,r,i),i?gg(t,new Vs(ML(),e,n)):[]}function Ia(t,e,n=!1){const r=OY(t.pendingWriteTree_,e);if(AY(t.pendingWriteTree_,e)){let o=new tt(null);return r.snap!=null?o=o.set(Qe(),!0):ur(r.children,s=>{o=o.set(new st(s),!0)}),gg(t,new bp(r.path,o,n))}else return[]}function mg(t,e,n){return gg(t,new Vs(LL(),e,n))}function rX(t,e,n){const r=tt.fromObject(n);return gg(t,new Lc(LL(),e,r))}function iX(t,e,n,r){const i=JL(t,r);if(i!=null){const o=ZL(i),s=o.path,a=o.queryId,l=or(s,e),u=new Vs($L(a),l,n);return e2(t,s,u)}else return[]}function oX(t,e,n,r){const i=JL(t,r);if(i){const o=ZL(i),s=o.path,a=o.queryId,l=or(s,e),u=tt.fromObject(n),c=new Lc($L(a),l,u);return e2(t,s,c)}else return[]}function QL(t,e,n){const i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{const l=or(s,e),u=J1(a,l);if(u)return u});return zL(i,e,o,n,!0)}function gg(t,e){return YL(e,t.syncPointTree_,null,VL(t.pendingWriteTree_,Qe()))}function YL(t,e,n,r){if(Oe(t.path))return XL(t,e,n,r);{const i=e.get(Qe());n==null&&i!=null&&(n=J1(i,Qe()));let o=[];const s=De(t.path),a=t.operationForChild(s),l=e.children.get(s);if(l&&a){const u=n?n.getImmediateChild(s):null,c=HL(r,s);o=o.concat(YL(a,l,u,c))}return i&&(o=o.concat(X1(i,t,r,n))),o}}function XL(t,e,n,r){const i=e.get(Qe());n==null&&i!=null&&(n=J1(i,Qe()));let o=[];return e.children.inorderTraversal((s,a)=>{const l=n?n.getImmediateChild(s):null,u=HL(r,s),c=t.operationForChild(s);c&&(o=o.concat(XL(c,a,l,u)))}),i&&(o=o.concat(X1(i,t,r,n))),o}function JL(t,e){return t.tagToQueryMap.get(e)}function ZL(t){const e=t.indexOf("$");return te(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new st(t.substr(0,e))}}function e2(t,e,n){const r=t.syncPointTree_.get(e);te(r,"Missing sync point for query tag that we're tracking");const i=VL(t.pendingWriteTree_,e);return X1(r,n,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Z1(n)}node(){return this.node_}}class eE{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=zt(this.path_,e);return new eE(this.syncTree_,n)}node(){return QL(this.syncTree_,this.path_)}}const sX=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Ek=function(t,e,n){if(!t||typeof t!="object")return t;if(te(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return aX(t[".sv"],e,n);if(typeof t[".sv"]=="object")return lX(t[".sv"],e);te(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},aX=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:te(!1,"Unexpected server value: "+t)}},lX=function(t,e,n){t.hasOwnProperty("increment")||te(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&te(!1,"Unexpected increment value: "+r);const i=e.node();if(te(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return typeof s!="number"?r:s+r},uX=function(t,e,n,r){return tE(e,new eE(n,t),r)},cX=function(t,e,n){return tE(t,new Z1(e),n)};function tE(t,e,n){const r=t.getPriority().val(),i=Ek(r,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const s=t,a=Ek(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new jt(a,fn(i)):t}else{const s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new jt(i))),s.forEachChild(gn,(a,l)=>{const u=tE(l,e.getImmediateChild(a),n);u!==l&&(o=o.updateImmediateChild(a,u))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function rE(t,e){let n=e instanceof st?e:new st(e),r=t,i=De(n);for(;i!==null;){const o=ol(r.node.children,i)||{children:{},childCount:0};r=new nE(i,r,o),n=nt(n),i=De(n)}return r}function Ml(t){return t.node.value}function t2(t,e){t.node.value=e,Pb(t)}function n2(t){return t.node.childCount>0}function dX(t){return Ml(t)===void 0&&!n2(t)}function yg(t,e){ur(t.node.children,(n,r)=>{e(new nE(n,t,r))})}function r2(t,e,n,r){n&&!r&&e(t),yg(t,i=>{r2(i,e,!0,r)}),n&&r&&e(t)}function hX(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Cd(t){return new st(t.parent===null?t.name:Cd(t.parent)+"/"+t.name)}function Pb(t){t.parent!==null&&fX(t.parent,t.name,t)}function fX(t,e,n){const r=dX(n),i=ji(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Pb(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Pb(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pX=/[\[\].#$\/\u0000-\u001F\u007F]/,mX=/[\[\].#$\u0000-\u001F\u007F]/,e0=10*1024*1024,i2=function(t){return typeof t=="string"&&t.length!==0&&!pX.test(t)},gX=function(t){return typeof t=="string"&&t.length!==0&&!mX.test(t)},yX=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),gX(t)},o2=function(t,e,n){const r=n instanceof st?new YQ(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+rs(r));if(typeof e=="function")throw new Error(t+"contains a function "+rs(r)+" with contents = "+e.toString());if(rL(e))throw new Error(t+"contains "+e.toString()+" "+rs(r));if(typeof e=="string"&&e.length>e0/3&&Nm(e)>e0)throw new Error(t+"contains a string greater than "+e0+" utf8 bytes "+rs(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(ur(e,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!i2(s)))throw new Error(t+" contains an invalid key ("+s+") "+rs(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);XQ(r,s),o2(t,a,r),JQ(r)}),i&&o)throw new Error(t+' contains ".value" child '+rs(r)+" in addition to actual children.")}},vX=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!i2(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!yX(n))throw new Error(nW(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bX{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function wX(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],o=i.getPath();n!==null&&!kL(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function ta(t,e,n){wX(t,n),_X(t,r=>xr(r,e)||xr(e,r))}function _X(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const o=i.path;e(o)?(EX(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function EX(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Cs&&hn("event: "+n.toString()),Sd(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xX="repo_interrupt",SX=25;class TX{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new bX,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=vp(),this.transactionQueueTree_=new nE,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function CX(t,e,n){if(t.stats_=z1(t.repoInfo_),t.forceRestClient_||_Q())t.server_=new yp(t.repoInfo_,(r,i,o,s)=>{xk(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Sk(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Jt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new vi(t.repoInfo_,e,(r,i,o,s)=>{xk(t,r,i,o,s)},r=>{Sk(t,r)},r=>{IX(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=CQ(t.repoInfo_,()=>new TY(t.stats_,t.server_)),t.infoData_=new wY,t.infoSyncTree_=new _k({startListening:(r,i,o,s)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=mg(t.infoSyncTree_,r._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),iE(t,"connected",!1),t.serverSyncTree_=new _k({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,l)=>{const u=s(a,l);ta(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function kX(t){const n=t.infoData_.getNode(new st(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function s2(t){return sX({timestamp:kX(t)})}function xk(t,e,n,r,i){t.dataUpdateCount++;const o=new st(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){const l=Hf(n,u=>fn(u));s=oX(t.serverSyncTree_,o,l,i)}else{const l=fn(n);s=iX(t.serverSyncTree_,o,l,i)}else if(r){const l=Hf(n,u=>fn(u));s=rX(t.serverSyncTree_,o,l)}else{const l=fn(n);s=mg(t.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=sE(t,o)),ta(t.eventQueue_,a,s)}function Sk(t,e){iE(t,"connected",e),e===!1&&PX(t)}function IX(t,e){ur(e,(n,r)=>{iE(t,n,r)})}function iE(t,e,n){const r=new st("/.info/"+e),i=fn(n);t.infoData_.updateSnapshot(r,i);const o=mg(t.infoSyncTree_,r,i);ta(t.eventQueue_,r,o)}function RX(t){return t.nextWriteId_++}function PX(t){a2(t,"onDisconnectEvents");const e=s2(t),n=vp();xb(t.onDisconnect_,Qe(),(i,o)=>{const s=uX(i,o,t.serverSyncTree_,e);DL(n,i,s)});let r=[];xb(n,Qe(),(i,o)=>{r=r.concat(mg(t.serverSyncTree_,i,o));const s=DX(t,i);sE(t,s)}),t.onDisconnect_=vp(),ta(t.eventQueue_,Qe(),r)}function OX(t){t.persistentConnection_&&t.persistentConnection_.interrupt(xX)}function a2(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),hn(n,...e)}function l2(t,e,n){return QL(t.serverSyncTree_,e,n)||ze.EMPTY_NODE}function oE(t,e=t.transactionQueueTree_){if(e||vg(t,e),Ml(e)){const n=c2(t,e);te(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&AX(t,Cd(e),n)}else n2(e)&&yg(e,n=>{oE(t,n)})}function AX(t,e,n){const r=n.map(u=>u.currentWriteId),i=l2(t,e,r);let o=i;const s=i.hash();for(let u=0;u<n.length;u++){const c=n[u];te(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=or(e,c.path);o=o.updateChild(d,c.currentOutputSnapshotRaw)}const a=o.val(!0),l=e;t.server_.put(l.toString(),a,u=>{a2(t,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,c=c.concat(Ia(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();vg(t,rE(t.transactionQueueTree_,e)),oE(t,t.transactionQueueTree_),ta(t.eventQueue_,e,c);for(let h=0;h<d.length;h++)Sd(d[h])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Hn("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}sE(t,e)}},s)}function sE(t,e){const n=u2(t,e),r=Cd(n),i=c2(t,n);return NX(t,i,r),r}function NX(t,e,n){if(e.length===0)return;const r=[];let i=[];const s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=or(n,l.path);let c=!1,d;if(te(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,d=l.abortReason,i=i.concat(Ia(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=SX)c=!0,d="maxretry",i=i.concat(Ia(t.serverSyncTree_,l.currentWriteId,!0));else{const h=l2(t,l.path,s);l.currentInputSnapshot=h;const f=e[a].update(h.val());if(f!==void 0){o2("transaction failed: Data returned ",f,l.path);let p=fn(f);typeof f=="object"&&f!=null&&ji(f,".priority")||(p=p.updatePriority(h.getPriority()));const b=l.currentWriteId,g=s2(t),y=cX(p,h,g);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=y,l.currentWriteId=RX(t),s.splice(s.indexOf(b),1),i=i.concat(nX(t.serverSyncTree_,l.path,y,l.currentWriteId,l.applyLocally)),i=i.concat(Ia(t.serverSyncTree_,b,!0))}else c=!0,d="nodata",i=i.concat(Ia(t.serverSyncTree_,l.currentWriteId,!0))}ta(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}vg(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Sd(r[a]);oE(t,t.transactionQueueTree_)}function u2(t,e){let n,r=t.transactionQueueTree_;for(n=De(e);n!==null&&Ml(r)===void 0;)r=rE(r,n),e=nt(e),n=De(e);return r}function c2(t,e){const n=[];return d2(t,e,n),n.sort((r,i)=>r.order-i.order),n}function d2(t,e,n){const r=Ml(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);yg(e,i=>{d2(t,i,n)})}function vg(t,e){const n=Ml(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,t2(e,n.length>0?n:void 0)}yg(e,r=>{vg(t,r)})}function DX(t,e){const n=Cd(u2(t,e)),r=rE(t.transactionQueueTree_,e);return hX(r,i=>{t0(t,i)}),t0(t,r),r2(r,i=>{t0(t,i)}),n}function t0(t,e){const n=Ml(e);if(n){const r=[];let i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(te(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(te(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(Ia(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?t2(e,void 0):n.length=o+1,ta(t.eventQueue_,Cd(e),i);for(let s=0;s<r.length;s++)Sd(r[s])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MX(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function LX(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Hn(`Invalid query segment '${n}' in query '${t}'`)}return e}const Tk=function(t,e){const n=$X(t),r=n.namespace;n.domain==="firebase.com"&&Ni(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Ni("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||fQ();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new mL(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new st(n.pathString)}},$X=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(c,d)),c<d&&(i=MX(t.substring(c,d)));const h=LX(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(s=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const f=e.slice(0,u);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),o=r}"ns"in h&&(o=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Oe(this._path)?null:SL(this._path)}get ref(){return new Ll(this._repo,this._path)}get _queryIdentifier(){const e=ck(this._queryParams),n=V1(e);return n==="{}"?"default":n}get _queryObject(){return ck(this._queryParams)}isEqual(e){if(e=kn(e),!(e instanceof aE))return!1;const n=this._repo===e._repo,r=kL(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+QQ(this._path)}}class Ll extends aE{constructor(e,n){super(e,n,new G1,!1)}get parent(){const e=CL(this._path);return e===null?null:new Ll(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}eX(Ll);tX(Ll);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FX="FIREBASE_DATABASE_EMULATOR_HOST",Ob={};let jX=!1;function UX(t,e,n,r){t.repoInfo_=new mL(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function VX(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||Ni("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),hn("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=Tk(o,i),a=s.repoInfo,l,u;typeof process<"u"&&process.env&&(u=process.env[FX]),u?(l=!0,o=`http://${u}?ns=${a.namespace}`,s=Tk(o,i),a=s.repoInfo):l=!s.repoInfo.secure;const c=i&&l?new qa(qa.OWNER):new xQ(t.name,t.options,e);vX("Invalid Firebase Database URL",s),Oe(s.path)||Ni("Database URL must point to the root of a Firebase Database (not including a child path).");const d=zX(a,t,c,new EQ(t.name,n));return new WX(d,t)}function BX(t,e){const n=Ob[e];(!n||n[t.key]!==t)&&Ni(`Database ${e}(${t.repoInfo_}) has already been deleted.`),OX(t),delete n[t.key]}function zX(t,e,n,r){let i=Ob[e.name];i||(i={},Ob[e.name]=i);let o=i[t.toURLString()];return o&&Ni("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new TX(t,jX,n,r),i[t.toURLString()]=o,o}class WX{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(CX(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ll(this._repo,Qe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(BX(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Ni("Cannot call "+e+" on a deleted database.")}}function HX(t=M_(),e){const n=Mm(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=HA("database");r&&qX(n,...r)}return n}function qX(t,e,n,r={}){t=kn(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Ni("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Ni('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new qa(qa.OWNER);else if(r.mockUserToken){const s=typeof r.mockUserToken=="string"?r.mockUserToken:GA(r.mockUserToken,t.app.options.projectId);o=new qa(s)}UX(i,e,n,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GX(t){lQ(kl),Ls(new Lo("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return VX(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),Gr(qC,GC,t),Gr(qC,GC,"esm2017")}vi.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};vi.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};GX();const lE=ZA({apiKey:"AIzaSyD__rXQhUQKPbeqaNGIwJ_XoXz8XLQUkMI",authDomain:"music-app-42864.firebaseapp.com",projectId:"music-app-42864",storageBucket:"music-app-42864.appspot.com",messagingSenderId:"298324526046",appId:"1:298324526046:web:ddaeac737583a185ae934f",measurementId:"G-M610PFQ00Q"}),Ep=s7(lE),KX=new ai,ph=VK(lE);HX(lE);const uE=w.createContext(null),QX=({children:t})=>{const[e,n]=w.useState(void 0);w.useEffect(()=>{Ep.onAuthStateChanged(i=>{n(i==null?void 0:i.providerData[0])})},[Ep]);const r=()=>{n(void 0)};return E(uE.Provider,{value:{authCurrent:e,clearAuth:r},children:t})},YX=()=>{const{authCurrent:t,clearAuth:e}=w.useContext(uE);RA();const[n,r]=I_(),i=()=>{Ep.signOut().then(()=>{e()}).catch(s=>{console.log(s)})},o=w.useMemo(()=>E("ul",{className:"mt-5 flex flex-col gap-2",children:r8.map(s=>ne("li",{className:ir("text-white flex justify-center items-center gap-2.5 p-2 hover:bg-primary rounded transition-all duration-200 cursor-pointer",n.get("active")===s.active&&"bg-primary"),onClick:()=>{n.set("active",s.active),r(n)},children:[s.icon,E("span",{className:"text-lg font-semibold hidden lg:block",children:s.name})]},s.id))}),[n]);return ne("div",{className:"w-[100px] lg:w-[300px] h-content bg-[#231B2E] p-5 flex justify-between gap-2.5 flex-col",children:[ne("div",{children:[E("img",{src:"/logo.png",alt:"",className:"cursor-pointer"}),o]}),t&&ne("button",{className:ir("text-white flex justify-center items-center gap-2.5 p-2 bg-primary hover:opacity-80 rounded transition-all duration-200 cursor-pointer"),onClick:i,children:[E(N8,{}),E("span",{className:"text-lg font-semibold hidden lg:block",children:"Logout"})]})]})};function XX(t){return Je({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"}}]})(t)}const bg=IB,kd=uB;var Ab={},JX={get exports(){return Ab},set exports(t){Ab=t}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var o=arguments[i];if(o){var s=typeof o;if(s==="string"||s==="number")r.push(o);else if(Array.isArray(o)){if(o.length){var a=n.apply(null,o);a&&r.push(a)}}else if(s==="object"){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){r.push(o.toString());continue}for(var l in o)e.call(o,l)&&o[l]&&r.push(l)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(JX);const G=Ab;function is(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function Nb(t){if(!is(t))return t;const e={...t};return Object.keys(t).forEach(n=>{e[n]=Nb(t[n])}),e}function ae(t,e){if(is(e)&&Object.keys(e).length===0)return Nb({...t,...e});const n={...t,...e};return is(e)&&is(t)&&Object.keys(e).forEach(r=>{is(e[r])&&r in t&&is(t[r])?n[r]=ae(t[r],e[r]):n[r]=is(e[r])?Nb(e[r]):e[r]}),n}const ZX=()=>typeof window<"u",eJ={accordion:{root:{base:"divide-y divide-gray-200 border-gray-200 dark:divide-gray-700 dark:border-gray-700",flush:{off:"rounded-lg border",on:"border-b"}},content:{base:"py-5 px-5 last:rounded-b-lg dark:bg-gray-900 first:rounded-t-lg"},title:{arrow:{base:"h-6 w-6 shrink-0",open:{off:"",on:"rotate-180"}},base:"flex w-full items-center justify-between first:rounded-t-lg last:rounded-b-lg py-5 px-5 text-left font-medium text-gray-500 dark:text-gray-400",flush:{off:"hover:bg-gray-100 focus:ring-4 focus:ring-gray-200 dark:hover:bg-gray-800 dark:focus:ring-gray-800",on:"!bg-transparent dark:!bg-transparent"},heading:"",open:{off:"",on:"text-gray-900 bg-gray-100 dark:bg-gray-800 dark:text-white"}}},alert:{base:"flex flex-col gap-2 p-4 text-sm",borderAccent:"border-t-4",closeButton:{base:"-mx-1.5 -my-1.5 ml-auto inline-flex h-8 w-8 rounded-lg p-1.5 focus:ring-2",icon:"w-5 h-5",color:{info:"bg-blue-100 text-blue-500 hover:bg-blue-200 focus:ring-blue-400 dark:bg-blue-200 dark:text-blue-600 dark:hover:bg-blue-300",gray:"bg-gray-100 text-gray-500 hover:bg-gray-200 focus:ring-gray-400 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-800 dark:hover:text-white",failure:"bg-red-100 text-red-500 hover:bg-red-200 focus:ring-red-400 dark:bg-red-200 dark:text-red-600 dark:hover:bg-red-300",success:"bg-green-100 text-green-500 hover:bg-green-200 focus:ring-green-400 dark:bg-green-200 dark:text-green-600 dark:hover:bg-green-300",warning:"bg-yellow-100 text-yellow-500 hover:bg-yellow-200 focus:ring-yellow-400 dark:bg-yellow-200 dark:text-yellow-600 dark:hover:bg-yellow-300",red:"bg-red-100 text-red-500 hover:bg-red-200 focus:ring-red-400 dark:bg-red-200 dark:text-red-600 dark:hover:bg-red-300",green:"bg-green-100 text-green-500 hover:bg-green-200 focus:ring-green-400 dark:bg-green-200 dark:text-green-600 dark:hover:bg-green-300",yellow:"bg-yellow-100 text-yellow-500 hover:bg-yellow-200 focus:ring-yellow-400 dark:bg-yellow-200 dark:text-yellow-600 dark:hover:bg-yellow-300",blue:"bg-blue-100 text-blue-500 hover:bg-blue-200 focus:ring-blue-400 dark:bg-blue-200 dark:text-blue-600 dark:hover:bg-blue-300",cyan:"bg-cyan-100 text-cyan-500 hover:bg-cyan-200 focus:ring-cyan-400 dark:bg-cyan-200 dark:text-cyan-600 dark:hover:bg-cyan-300",pink:"bg-pink-100 text-pink-500 hover:bg-pink-200 focus:ring-pink-400 dark:bg-pink-200 dark:text-pink-600 dark:hover:bg-pink-300",lime:"bg-lime-100 text-lime-500 hover:bg-lime-200 focus:ring-lime-400 dark:bg-lime-200 dark:text-lime-600 dark:hover:bg-lime-300",dark:"bg-gray-100 text-gray-500 hover:bg-gray-200 focus:ring-gray-400 dark:bg-gray-200 dark:text-gray-600 dark:hover:bg-gray-300",indigo:"bg-indigo-100 text-indigo-500 hover:bg-indigo-200 focus:ring-indigo-400 dark:bg-indigo-200 dark:text-indigo-600 dark:hover:bg-indigo-300",purple:"bg-purple-100 text-purple-500 hover:bg-purple-200 focus:ring-purple-400 dark:bg-purple-200 dark:text-purple-600 dark:hover:bg-purple-300",teal:"bg-teal-100 text-teal-500 hover:bg-teal-200 focus:ring-teal-400 dark:bg-teal-200 dark:text-teal-600 dark:hover:bg-teal-300",light:"bg-gray-50 text-gray-500 hover:bg-gray-100 focus:ring-gray-200 dark:bg-gray-600 dark:text-gray-200 dark:hover:bg-gray-700 dark:hover:text-white"}},color:{info:"text-blue-700 bg-blue-100 border-blue-500 dark:bg-blue-200 dark:text-blue-800",gray:"text-gray-700 bg-gray-100 border-gray-500 dark:bg-gray-700 dark:text-gray-300",failure:"text-red-700 bg-red-100 border-red-500 dark:bg-red-200 dark:text-red-800",success:"text-green-700 bg-green-100 border-green-500 dark:bg-green-200 dark:text-green-800",warning:"text-yellow-700 bg-yellow-100 border-yellow-500 dark:bg-yellow-200 dark:text-yellow-800",red:"text-red-700 bg-red-100 border-red-500 dark:bg-red-200 dark:text-red-800",green:"text-green-700 bg-green-100 border-green-500 dark:bg-green-200 dark:text-green-800",yellow:"text-yellow-700 bg-yellow-100 border-yellow-500 dark:bg-yellow-200 dark:text-yellow-800",blue:"text-blue-700 bg-blue-100 border-blue-500 dark:bg-blue-200 dark:text-blue-800",cyan:"text-cyan-700 bg-cyan-100 border-cyan-500 dark:bg-cyan-200 dark:text-cyan-800",pink:"text-pink-700 bg-pink-100 border-pink-500 dark:bg-pink-200 dark:text-pink-800",lime:"text-lime-700 bg-lime-100 border-lime-500 dark:bg-lime-200 dark:text-lime-800",dark:"text-gray-200 bg-gray-800 border-gray-600 dark:bg-gray-900 dark:text-gray-300",indigo:"text-indigo-700 bg-indigo-100 border-indigo-500 dark:bg-indigo-200 dark:text-indigo-800",purple:"text-purple-700 bg-purple-100 border-purple-500 dark:bg-purple-200 dark:text-purple-800",teal:"text-teal-700 bg-teal-100 border-teal-500 dark:bg-teal-200 dark:text-teal-800",light:"text-gray-600 bg-gray-50 border-gray-400 dark:bg-gray-500 dark:text-gray-200"},icon:"mr-3 inline h-5 w-5 flex-shrink-0",rounded:"rounded-lg",wrapper:"flex items-center"},avatar:{root:{base:"flex justify-center items-center space-x-4",bordered:"p-1 ring-2",rounded:"!rounded-full",color:{dark:"ring-gray-800 dark:ring-gray-800",failure:"ring-red-500 dark:ring-red-700",gray:"ring-gray-500 dark:ring-gray-400",info:"ring-blue-400 dark:ring-blue-800",light:"ring-gray-300 dark:ring-gray-500",purple:"ring-purple-500 dark:ring-purple-600",success:"ring-green-500 dark:ring-green-500",warning:"ring-yellow-300 dark:ring-yellow-500",pink:"ring-pink-500 dark:ring-pink-500"},img:{off:"rounded relative overflow-hidden bg-gray-100 dark:bg-gray-600",on:"rounded",placeholder:"absolute w-auto h-auto text-gray-400 -bottom-1"},size:{xs:"w-6 h-6",sm:"w-8 h-8",md:"w-10 h-10",lg:"w-20 h-20",xl:"w-36 h-36"},stacked:"ring-2 ring-gray-300 dark:ring-gray-500",statusPosition:{"bottom-left":"-bottom-1 -left-1","bottom-center":"-botton-1 center","bottom-right":"-bottom-1 -right-1","top-left":"-top-1 -left-1","top-center":"-top-1 center","top-right":"-top-1 -right-1","center-right":"center -right-1",center:"center center","center-left":"center -left-1"},status:{away:"bg-yellow-400",base:"absolute h-3.5 w-3.5 rounded-full border-2 border-white dark:border-gray-800",busy:"bg-red-400",offline:"bg-gray-400",online:"bg-green-400"},initials:{text:"font-medium text-gray-600 dark:text-gray-300",base:"inline-flex overflow-hidden relative justify-center items-center bg-gray-100 dark:bg-gray-600"}},group:{base:"flex -space-x-4"},groupCounter:{base:"relative flex items-center justify-center w-10 h-10 text-xs font-medium text-white bg-gray-700 rounded-full ring-2 ring-gray-300 hover:bg-gray-600 dark:ring-gray-500"}},badge:{root:{base:"flex h-fit items-center gap-1 font-semibold",color:{info:"bg-blue-100 text-blue-800 dark:bg-blue-200 dark:text-blue-800 group-hover:bg-blue-200 dark:group-hover:bg-blue-300",gray:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300 group-hover:bg-gray-200 dark:group-hover:bg-gray-600",failure:"bg-red-100 text-red-800 dark:bg-red-200 dark:text-red-900 group-hover:bg-red-200 dark:group-hover:bg-red-300",success:"bg-green-100 text-green-800 dark:bg-green-200 dark:text-green-900 group-hover:bg-green-200 dark:group-hover:bg-green-300",warning:"bg-yellow-100 text-yellow-800 dark:bg-yellow-200 dark:text-yellow-900 group-hover:bg-yellow-200 dark:group-hover:bg-yellow-300",indigo:"bg-indigo-100 text-indigo-800 dark:bg-indigo-200 dark:text-indigo-900 group-hover:bg-indigo-200 dark:group-hover:bg-indigo-300",purple:"bg-purple-100 text-purple-800 dark:bg-purple-200 dark:text-purple-900 group-hover:bg-purple-200 dark:group-hover:bg-purple-300",pink:"bg-pink-100 text-pink-800 dark:bg-pink-200 dark:text-pink-900 group-hover:bg-pink-200 dark:group-hover:bg-pink-300",blue:"bg-blue-100 text-blue-800 dark:bg-blue-200 dark:text-blue-900 group-hover:bg-blue-200 dark:group-hover:bg-blue-300",cyan:"bg-cyan-100 text-cyan-800 dark:bg-cyan-200 dark:text-cyan-900 group-hover:bg-cyan-200 dark:group-hover:bg-cyan-300",dark:"bg-gray-600 text-gray-100 dark:bg-gray-900 dark:text-gray-200 group-hover:bg-gray-500 dark:group-hover:bg-gray-700",light:"bg-gray-200 text-gray-800 dark:bg-gray-400 dark:text-gray-900 group-hover:bg-gray-300 dark:group-hover:bg-gray-500",green:"bg-green-100 text-green-800 dark:bg-green-200 dark:text-green-900 group-hover:bg-green-200 dark:group-hover:bg-green-300",lime:"bg-lime-100 text-lime-800 dark:bg-lime-200 dark:text-lime-900 group-hover:bg-lime-200 dark:group-hover:bg-lime-300",red:"bg-red-100 text-red-800 dark:bg-red-200 dark:text-red-900 group-hover:bg-red-200 dark:group-hover:bg-red-300",teal:"bg-teal-100 text-teal-800 dark:bg-teal-200 dark:text-teal-900 group-hover:bg-teal-200 dark:group-hover:bg-teal-300",yellow:"bg-yellow-100 text-yellow-800 dark:bg-yellow-200 dark:text-yellow-900 group-hover:bg-yellow-200 dark:group-hover:bg-yellow-300"},href:"group",size:{xs:"p-1 text-xs",sm:"p-1.5 text-sm"}},icon:{off:"rounded px-2 py-0.5",on:"rounded-full p-1.5",size:{xs:"w-3 h-3",sm:"w-3.5 h-3.5"}}},breadcrumb:{root:{base:"",list:"flex items-center"},item:{base:"group flex items-center",chevron:"mx-1 h-6 w-6 text-gray-400 group-first:hidden md:mx-2",href:{off:"flex items-center text-sm font-medium text-gray-500 dark:text-gray-400",on:"flex items-center text-sm font-medium text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white"},icon:"mr-2 h-4 w-4"}},button:{base:"group flex h-min items-center justify-center p-0.5 text-center font-medium focus:z-10",fullSized:"w-full",color:{dark:"text-white bg-gray-800 border border-transparent hover:bg-gray-900 focus:ring-4 focus:ring-gray-300 disabled:hover:bg-gray-800 dark:bg-gray-800 dark:hover:bg-gray-700 dark:focus:ring-gray-800 dark:border-gray-700 dark:disabled:hover:bg-gray-800",failure:"text-white bg-red-700 border border-transparent hover:bg-red-800 focus:ring-4 focus:ring-red-300 disabled:hover:bg-red-800 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900 dark:disabled:hover:bg-red-600",gray:"text-gray-900 bg-white border border-gray-200 hover:bg-gray-100 hover:text-blue-700 disabled:hover:bg-white focus:ring-blue-700 focus:text-blue-700 dark:bg-transparent dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700 focus:ring-2 dark:disabled:hover:bg-gray-800",info:"text-white bg-blue-700 border border-transparent hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 disabled:hover:bg-blue-700 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 dark:disabled:hover:bg-blue-600",light:"text-gray-900 bg-white border border-gray-300 hover:bg-gray-100 focus:ring-4 focus:ring-blue-300 disabled:hover:bg-white dark:bg-gray-600 dark:text-white dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-700 dark:focus:ring-gray-700",purple:"text-white bg-purple-700 border border-transparent hover:bg-purple-800 focus:ring-4 focus:ring-purple-300 disabled:hover:bg-purple-700 dark:bg-purple-600 dark:hover:bg-purple-700 dark:focus:ring-purple-900 dark:disabled:hover:bg-purple-600",success:"text-white bg-green-700 border border-transparent hover:bg-green-800 focus:ring-4 focus:ring-green-300 disabled:hover:bg-green-700 dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800 dark:disabled:hover:bg-green-600",warning:"text-white bg-yellow-400 border border-transparent hover:bg-yellow-500 focus:ring-4 focus:ring-yellow-300 disabled:hover:bg-yellow-400 dark:focus:ring-yellow-900 dark:disabled:hover:bg-yellow-400",blue:"text-blue-900 bg-white border border-blue-300 hover:bg-blue-100 focus:ring-4 focus:ring-blue-300 disabled:hover:bg-white dark:bg-blue-600 dark:text-white dark:border-blue-600 dark:hover:bg-blue-700 dark:hover:border-blue-700 dark:focus:ring-blue-700",cyan:"text-cyan-900 bg-white border border-cyan-300 hover:bg-cyan-100 focus:ring-4 focus:ring-cyan-300 disabled:hover:bg-white dark:bg-cyan-600 dark:text-white dark:border-cyan-600 dark:hover:bg-cyan-700 dark:hover:border-cyan-700 dark:focus:ring-cyan-700",green:"text-green-900 bg-white border border-green-300 hover:bg-green-100 focus:ring-4 focus:ring-green-300 disabled:hover:bg-white dark:bg-green-600 dark:text-white dark:border-green-600 dark:hover:bg-green-700 dark:hover:border-green-700 dark:focus:ring-green-700",indigo:"text-indigo-900 bg-white border border-indigo-300 hover:bg-indigo-100 focus:ring-4 focus:ring-indigo-300 disabled:hover:bg-white dark:bg-indigo-600 dark:text-white dark:border-indigo-600 dark:hover:bg-indigo-700 dark:hover:border-indigo-700 dark:focus:ring-indigo-700",lime:"text-lime-900 bg-white border border-lime-300 hover:bg-lime-100 focus:ring-4 focus:ring-lime-300 disabled:hover:bg-white dark:bg-lime-600 dark:text-white dark:border-lime-600 dark:hover:bg-lime-700 dark:hover:border-lime-700 dark:focus:ring-lime-700",pink:"text-pink-900 bg-white border border-pink-300 hover:bg-pink-100 focus:ring-4 focus:ring-pink-300 disabled:hover:bg-white dark:bg-pink-600 dark:text-white dark:border-pink-600 dark:hover:bg-pink-700 dark:hover:border-pink-700 dark:focus:ring-pink-700",red:"text-red-900 bg-white border border-red-300 hover:bg-red-100 focus:ring-4 focus:ring-red-300 disabled:hover:bg-white dark:bg-red-600 dark:text-white dark:border-red-600 dark:hover:bg-red-700 dark:hover:border-red-700 dark:focus:ring-red-700",teal:"text-teal-900 bg-white border border-teal-300 hover:bg-teal-100 focus:ring-4 focus:ring-teal-300 disabled:hover:bg-white dark:bg-teal-600 dark:text-white dark:border-teal-600 dark:hover:bg-teal-700 dark:hover:border-teal-700 dark:focus:ring-teal-700",yellow:"text-yellow-900 bg-white border border-yellow-300 hover:bg-yellow-100 focus:ring-4 focus:ring-yellow-300 disabled:hover:bg-white dark:bg-yellow-600 dark:text-white dark:border-yellow-600 dark:hover:bg-yellow-700 dark:hover:border-yellow-700 dark:focus:ring-yellow-700"},disabled:"cursor-not-allowed opacity-50",gradient:{cyan:"text-white bg-gradient-to-r from-cyan-400 via-cyan-500 to-cyan-600 hover:bg-gradient-to-br focus:ring-4 focus:ring-cyan-300 dark:focus:ring-cyan-800",failure:"text-white bg-gradient-to-r from-red-400 via-red-500 to-red-600 hover:bg-gradient-to-br focus:ring-4 focus:ring-red-300 dark:focus:ring-red-800",info:"text-white bg-gradient-to-r from-blue-500 via-blue-600 to-blue-700 hover:bg-gradient-to-br focus:ring-4 focus:ring-blue-300 dark:focus:ring-blue-800 ",lime:"text-gray-900 bg-gradient-to-r from-lime-200 via-lime-400 to-lime-500 hover:bg-gradient-to-br focus:ring-4 focus:ring-lime-300 dark:focus:ring-lime-800",pink:"text-white bg-gradient-to-r from-pink-400 via-pink-500 to-pink-600 hover:bg-gradient-to-br focus:ring-4 focus:ring-pink-300 dark:focus:ring-pink-800",purple:"text-white bg-gradient-to-r from-purple-500 via-purple-600 to-purple-700 hover:bg-gradient-to-br focus:ring-4 focus:ring-purple-300 dark:focus:ring-purple-800",success:"text-white bg-gradient-to-r from-green-400 via-green-500 to-green-600 hover:bg-gradient-to-br focus:ring-4 focus:ring-green-300 dark:focus:ring-green-800",teal:"text-white bg-gradient-to-r from-teal-400 via-teal-500 to-teal-600 hover:bg-gradient-to-br focus:ring-4 focus:ring-teal-300 dark:focus:ring-teal-800"},gradientDuoTone:{cyanToBlue:"text-white bg-gradient-to-r from-cyan-500 to-blue-500 hover:bg-gradient-to-bl focus:ring-4 focus:ring-cyan-300 dark:focus:ring-cyan-800",greenToBlue:"text-white bg-gradient-to-br from-green-400 to-blue-600 hover:bg-gradient-to-bl focus:ring-4 focus:ring-green-200 dark:focus:ring-green-800",pinkToOrange:"text-white bg-gradient-to-br from-pink-500 to-orange-400 hover:bg-gradient-to-bl focus:ring-4 focus:ring-pink-200 dark:focus:ring-pink-800",purpleToBlue:"text-white bg-gradient-to-br from-purple-600 to-blue-500 hover:bg-gradient-to-bl focus:ring-4 focus:ring-blue-300 dark:focus:ring-blue-800",purpleToPink:"text-white bg-gradient-to-r from-purple-500 to-pink-500 hover:bg-gradient-to-l focus:ring-4 focus:ring-purple-200 dark:focus:ring-purple-800",redToYellow:"text-gray-900 bg-gradient-to-r from-red-200 via-red-300 to-yellow-200 hover:bg-gradient-to-bl focus:ring-4 focus:ring-red-100 dark:focus:ring-red-400",tealToLime:"text-gray-900 bg-gradient-to-r from-teal-200 to-lime-200 hover:bg-gradient-to-l hover:from-teal-200 hover:to-lime-200 hover:!text-gray-900 focus:ring-4 focus:ring-lime-200 dark:focus:ring-teal-700"},inner:{base:"flex items-center",position:{none:"",start:"rounded-r-none",middle:"!rounded-none",end:"rounded-l-none"},outline:"border border-transparent"},label:"ml-2 inline-flex h-4 w-4 items-center justify-center rounded-full bg-blue-200 text-xs font-semibold text-blue-800",outline:{color:{gray:"border border-gray-900 dark:border-white",default:"border-0",light:""},off:"",on:"flex justify-center bg-white text-gray-900 transition-all duration-75 ease-in group-hover:bg-opacity-0 group-hover:text-inherit dark:bg-gray-900 dark:text-white w-full",pill:{off:"rounded-md",on:"rounded-full"}},pill:{off:"rounded-lg",on:"rounded-full"},size:{xs:"text-xs px-2 py-1",sm:"text-sm px-3 py-1.5",md:"text-sm px-4 py-2",lg:"text-base px-5 py-2.5",xl:"text-base px-6 py-3"}},buttonGroup:{base:"inline-flex",position:{none:"focus:!ring-2",start:"rounded-r-none",middle:"!rounded-none border-l-0 pl-0",end:"rounded-l-none border-l-0 pl-0"}},card:{root:{base:"flex rounded-lg border border-gray-200 bg-white shadow-md dark:border-gray-700 dark:bg-gray-800",children:"flex h-full flex-col justify-center gap-4 p-6",horizontal:{off:"flex-col",on:"flex-col md:max-w-xl md:flex-row"},href:"hover:bg-gray-100 dark:hover:bg-gray-700"},img:{base:"",horizontal:{off:"rounded-t-lg",on:"h-96 w-full rounded-t-lg object-cover md:h-auto md:w-48 md:rounded-none md:rounded-l-lg"}}},carousel:{root:{base:"relative h-full w-full",leftControl:"absolute top-0 left-0 flex h-full items-center justify-center px-4 focus:outline-none",rightControl:"absolute top-0 right-0 flex h-full items-center justify-center px-4 focus:outline-none"},indicators:{active:{off:"bg-white/50 hover:bg-white dark:bg-gray-800/50 dark:hover:bg-gray-800",on:"bg-white dark:bg-gray-800"},base:"h-3 w-3 rounded-full",wrapper:"absolute bottom-5 left-1/2 flex -translate-x-1/2 space-x-3"},item:{base:"absolute top-1/2 left-1/2 block w-full -translate-x-1/2 -translate-y-1/2",wrapper:"w-full flex-shrink-0 transform cursor-grab snap-center"},control:{base:"inline-flex h-8 w-8 items-center justify-center rounded-full bg-white/30 group-hover:bg-white/50 group-focus:outline-none group-focus:ring-4 group-focus:ring-white dark:bg-gray-800/30 dark:group-hover:bg-gray-800/60 dark:group-focus:ring-gray-800/70 sm:h-10 sm:w-10",icon:"h-5 w-5 text-white dark:text-gray-800 sm:h-6 sm:w-6"},scrollContainer:{base:"flex h-full snap-mandatory overflow-y-hidden overflow-x-scroll scroll-smooth rounded-lg",snap:"snap-x"}},checkbox:{root:{base:"h-4 w-4 rounded border border-gray-300 bg-gray-100 focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:ring-offset-gray-800 dark:focus:ring-blue-600"}},darkThemeToggle:{root:{base:"rounded-lg p-2.5 text-sm text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-700",icon:"h-5 w-5"}},dropdown:{arrowIcon:"ml-2 h-4 w-4",content:"py-1",floating:{animation:"transition-opacity",arrow:{base:"absolute z-10 h-2 w-2 rotate-45",style:{dark:"bg-gray-900 dark:bg-gray-700",light:"bg-white",auto:"bg-white dark:bg-gray-700"},placement:"-4px"},base:"z-10 w-fit rounded divide-y divide-gray-100 shadow",content:"py-1 text-sm text-gray-700 dark:text-gray-200",divider:"my-1 h-px bg-gray-100 dark:bg-gray-600",header:"block py-2 px-4 text-sm text-gray-700 dark:text-gray-200",hidden:"invisible opacity-0",item:{base:"flex items-center justify-start py-2 px-4 text-sm text-gray-700 cursor-pointer hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-600 dark:hover:text-white",icon:"mr-2 h-4 w-4"},style:{dark:"bg-gray-900 text-white dark:bg-gray-700",light:"border border-gray-200 bg-white text-gray-900",auto:"border border-gray-200 bg-white text-gray-900 dark:border-none dark:bg-gray-700 dark:text-white"},target:"w-fit"},inlineWrapper:"flex items-center"},fileInput:{root:{base:"flex"},field:{base:"relative w-full",input:{base:"rounded-lg overflow-hidden block w-full border disabled:cursor-not-allowed disabled:opacity-50",sizes:{sm:"sm:text-xs",md:"text-sm",lg:"sm:text-md"},colors:{gray:"bg-gray-50 border-gray-300 text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",info:"border-blue-500 bg-blue-50 text-blue-900 placeholder-blue-700 focus:border-blue-500 focus:ring-blue-500 dark:border-blue-400 dark:bg-blue-100 dark:focus:border-blue-500 dark:focus:ring-blue-500",failure:"border-red-500 bg-red-50 text-red-900 placeholder-red-700 focus:border-red-500 focus:ring-red-500 dark:border-red-400 dark:bg-red-100 dark:focus:border-red-500 dark:focus:ring-red-500",warning:"border-yellow-500 bg-yellow-50 text-yellow-900 placeholder-yellow-700 focus:border-yellow-500 focus:ring-yellow-500 dark:border-yellow-400 dark:bg-yellow-100 dark:focus:border-yellow-500 dark:focus:ring-yellow-500",success:"border-green-500 bg-green-50 text-green-900 placeholder-green-700 focus:border-green-500 focus:ring-green-500 dark:border-green-400 dark:bg-green-100 dark:focus:border-green-500 dark:focus:ring-green-500"}}}},footer:{root:{base:"w-full rounded-lg bg-white shadow dark:bg-gray-800 md:flex md:items-center md:justify-between",container:"w-full p-6",bgDark:"bg-gray-800"},groupLink:{base:"flex flex-wrap text-sm text-gray-500 dark:text-white",link:{base:"last:mr-0 md:mr-6",href:"hover:underline"},col:"flex-col space-y-4"},icon:{base:"text-gray-500 dark:hover:text-white",size:"h-5 w-5"},title:{base:"mb-6 text-sm font-semibold uppercase text-gray-500 dark:text-white"},divider:{base:"w-full my-6 border-gray-200 sm:mx-auto dark:border-gray-700 lg:my-8"},copyright:{base:"text-sm text-gray-500 dark:text-gray-400 sm:text-center",href:"ml-1 hover:underline",span:"ml-1"},brand:{base:"mb-4 flex items-center sm:mb-0",img:"mr-3 h-8",span:"self-center whitespace-nowrap text-2xl font-semibold text-gray-800 dark:text-white"}},helperText:{root:{base:"mt-2 text-sm",colors:{gray:"text-gray-500 dark:text-gray-400",info:"text-blue-700 dark:text-blue-800",success:"text-green-600 dark:text-green-500",failure:"text-red-600 dark:text-red-500",warning:"text-yellow-500 dark:text-yellow-600"}}},label:{root:{base:"text-sm font-medium",disabled:"opacity-50",colors:{default:"text-gray-900 dark:text-gray-300",info:"text-blue-500 dark:text-blue-600",failure:"text-red-700 dark:text-red-500",warning:"text-yellow-500 dark:text-yellow-600",success:"text-green-700 dark:text-green-500"}}},listGroup:{root:{base:"list-none rounded-lg border border-gray-200 bg-white text-sm font-medium text-gray-900 dark:border-gray-600 dark:bg-gray-700 dark:text-white"},item:{base:"flex w-full cursor-pointer border-b border-gray-200 py-2 px-4 first:rounded-t-lg last:rounded-b-lg last:border-b-0 dark:border-gray-600",link:{base:"",active:{off:"hover:bg-gray-100 hover:text-blue-700 focus:text-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-700 dark:border-gray-600 dark:hover:bg-gray-600 dark:hover:text-white dark:focus:text-white dark:focus:ring-gray-500",on:"bg-blue-700 text-white dark:bg-gray-800"},href:{off:"",on:""},icon:"mr-2 h-4 w-4 fill-current"}}},modal:{root:{base:"fixed top-0 right-0 left-0 z-50 h-modal overflow-y-auto overflow-x-hidden md:inset-0 md:h-full",show:{on:"flex bg-gray-900 bg-opacity-50 dark:bg-opacity-80",off:"hidden"},sizes:{sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl","3xl":"max-w-3xl","4xl":"max-w-4xl","5xl":"max-w-5xl","6xl":"max-w-6xl","7xl":"max-w-7xl"},positions:{"top-left":"items-start justify-start","top-center":"items-start justify-center","top-right":"items-start justify-end","center-left":"items-center justify-start",center:"items-center justify-center","center-right":"items-center justify-end","bottom-right":"items-end justify-end","bottom-center":"items-end justify-center","bottom-left":"items-end justify-start"}},content:{base:"relative h-full w-full p-4 md:h-auto",inner:"relative rounded-lg bg-white shadow dark:bg-gray-700"},body:{base:"p-6",popup:"pt-0"},header:{base:"flex items-start justify-between rounded-t dark:border-gray-600 border-b p-5",popup:"!p-2 !border-b-0",title:"text-xl font-medium text-gray-900 dark:text-white",close:{base:"ml-auto inline-flex items-center rounded-lg bg-transparent p-1.5 text-sm text-gray-400 hover:bg-gray-200 hover:text-gray-900 dark:hover:bg-gray-600 dark:hover:text-white",icon:"h-5 w-5"}},footer:{base:"flex items-center space-x-2 rounded-b border-gray-200 p-6 dark:border-gray-600",popup:"border-t"}},navbar:{root:{base:"border-gray-200 bg-white px-2 py-2.5 dark:border-gray-700 dark:bg-gray-800 sm:px-4",rounded:{on:"rounded",off:""},bordered:{on:"border",off:""},inner:{base:"mx-auto flex flex-wrap items-center justify-between",fluid:{on:"",off:"container"}}},brand:{base:"flex items-center"},collapse:{base:"w-full md:block md:w-auto",list:"mt-4 flex flex-col md:mt-0 md:flex-row md:space-x-8 md:text-sm md:font-medium",hidden:{on:"hidden",off:""}},link:{base:"block py-2 pr-4 pl-3 md:p-0",active:{on:"bg-blue-700 text-white dark:text-white md:bg-transparent md:text-blue-700",off:"border-b border-gray-100  text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white md:border-0 md:hover:bg-transparent md:hover:text-blue-700 md:dark:hover:bg-transparent md:dark:hover:text-white"},disabled:{on:"text-gray-400 hover:cursor-not-allowed dark:text-gray-600",off:""}},toggle:{base:"inline-flex items-center rounded-lg p-2 text-sm text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600 md:hidden",icon:"h-6 w-6 shrink-0"}},pagination:{base:"",layout:{table:{base:"text-sm text-gray-700 dark:text-gray-400",span:"font-semibold text-gray-900 dark:text-white"}},pages:{base:"xs:mt-0 mt-2 inline-flex items-center -space-x-px",showIcon:"inline-flex",previous:{base:"ml-0 rounded-l-lg border border-gray-300 bg-white py-2 px-3 leading-tight text-gray-500 hover:bg-gray-100 hover:text-gray-700 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white",icon:"h-5 w-5"},next:{base:"rounded-r-lg border border-gray-300 bg-white py-2 px-3 leading-tight text-gray-500 hover:bg-gray-100 hover:text-gray-700 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white",icon:"h-5 w-5"},selector:{base:"w-12 border border-gray-300 bg-white py-2 leading-tight text-gray-500 hover:bg-gray-100 hover:text-gray-700 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white",active:"bg-blue-50 text-blue-600 hover:bg-blue-100 hover:text-blue-700 dark:border-gray-700 dark:bg-gray-700 dark:text-white"}}},progress:{base:"w-full overflow-hidden rounded-full bg-gray-200 dark:bg-gray-700",label:"mb-1 flex justify-between font-medium dark:text-white",bar:"flex items-center justify-center rounded-full text-center font-medium leading-none text-blue-100 space-x-2",color:{dark:"bg-gray-600 dark:bg-gray-300",blue:"bg-blue-600",red:"bg-red-600 dark:bg-red-500",green:"bg-green-600 dark:bg-green-500",yellow:"bg-yellow-400",indigo:"bg-indigo-600 dark:bg-indigo-500",purple:"bg-purple-600 dark:bg-purple-500"},size:{sm:"h-1.5",md:"h-2.5",lg:"h-4",xl:"h-6"}},radio:{root:{base:"h-4 w-4 border border-gray-300 focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:focus:bg-blue-600 dark:focus:ring-blue-600"}},rangeSlider:{root:{base:"flex"},field:{base:"relative w-full",input:{base:"w-full bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700",sizes:{sm:"h-1 range-sm",md:"h-2",lg:"h-3 range-lg"}}}},rating:{root:{base:"flex items-center"},advanced:{base:"flex items-center",label:"text-sm font-medium text-blue-600 dark:text-blue-500",progress:{base:"mx-4 h-5 w-2/4 rounded bg-gray-200 dark:bg-gray-700",fill:"h-5 rounded bg-yellow-400",label:"text-sm font-medium text-blue-600 dark:text-blue-500"}},star:{empty:"text-gray-300 dark:text-gray-500",filled:"text-yellow-400",sizes:{sm:"w-5 h-5",md:"w-7 h-7",lg:"w-10 h-10"}}},select:{base:"flex",addon:"inline-flex items-center rounded-l-md border border-r-0 border-gray-300 bg-gray-200 px-3 text-sm text-gray-900 dark:border-gray-600 dark:bg-gray-600 dark:text-gray-400",field:{base:"relative w-full",icon:{base:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",svg:"h-5 w-5 text-gray-500 dark:text-gray-400"},select:{base:"block w-full border disabled:cursor-not-allowed disabled:opacity-50",withIcon:{on:"pl-10",off:""},withAddon:{on:"rounded-r-lg",off:"rounded-lg"},withShadow:{on:"shadow-sm dark:shadow-sm-light",off:""},sizes:{sm:"p-2 sm:text-xs",md:"p-2.5 text-sm",lg:"sm:text-md p-4"},colors:{gray:"bg-gray-50 border-gray-300 text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",info:"border-blue-500 bg-blue-50 text-blue-900 placeholder-blue-700 focus:border-blue-500 focus:ring-blue-500 dark:border-blue-400 dark:bg-blue-100 dark:focus:border-blue-500 dark:focus:ring-blue-500",failure:"border-red-500 bg-red-50 text-red-900 placeholder-red-700 focus:border-red-500 focus:ring-red-500 dark:border-red-400 dark:bg-red-100 dark:focus:border-red-500 dark:focus:ring-red-500",warning:"border-yellow-500 bg-yellow-50 text-yellow-900 placeholder-yellow-700 focus:border-yellow-500 focus:ring-yellow-500 dark:border-yellow-400 dark:bg-yellow-100 dark:focus:border-yellow-500 dark:focus:ring-yellow-500",success:"border-green-500 bg-green-50 text-green-900 placeholder-green-700 focus:border-green-500 focus:ring-green-500 dark:border-green-400 dark:bg-green-100 dark:focus:border-green-500 dark:focus:ring-green-500"}}}},textInput:{base:"flex",addon:"inline-flex items-center rounded-l-md border border-r-0 border-gray-300 bg-gray-200 px-3 text-sm text-gray-900 dark:border-gray-600 dark:bg-gray-600 dark:text-gray-400",field:{base:"relative w-full",icon:{base:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",svg:"h-5 w-5 text-gray-500 dark:text-gray-400"},rightIcon:{base:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",svg:"h-5 w-5 text-gray-500 dark:text-gray-400"},input:{base:"block w-full border disabled:cursor-not-allowed disabled:opacity-50",sizes:{sm:"p-2 sm:text-xs",md:"p-2.5 text-sm",lg:"sm:text-md p-4"},colors:{gray:"bg-gray-50 border-gray-300 text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",info:"border-blue-500 bg-blue-50 text-blue-900 placeholder-blue-700 focus:border-blue-500 focus:ring-blue-500 dark:border-blue-400 dark:bg-blue-100 dark:focus:border-blue-500 dark:focus:ring-blue-500",failure:"border-red-500 bg-red-50 text-red-900 placeholder-red-700 focus:border-red-500 focus:ring-red-500 dark:border-red-400 dark:bg-red-100 dark:focus:border-red-500 dark:focus:ring-red-500",warning:"border-yellow-500 bg-yellow-50 text-yellow-900 placeholder-yellow-700 focus:border-yellow-500 focus:ring-yellow-500 dark:border-yellow-400 dark:bg-yellow-100 dark:focus:border-yellow-500 dark:focus:ring-yellow-500",success:"border-green-500 bg-green-50 text-green-900 placeholder-green-700 focus:border-green-500 focus:ring-green-500 dark:border-green-400 dark:bg-green-100 dark:focus:border-green-500 dark:focus:ring-green-500"},withRightIcon:{on:"pr-10",off:""},withIcon:{on:"pl-10",off:""},withAddon:{on:"rounded-r-lg",off:"rounded-lg"},withShadow:{on:"shadow-sm dark:shadow-sm-light",off:""}}}},textarea:{base:"block w-full rounded-lg border disabled:cursor-not-allowed disabled:opacity-50",colors:{gray:"bg-gray-50 border-gray-300 text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",info:"border-blue-500 bg-blue-50 text-blue-900 placeholder-blue-700 focus:border-blue-500 focus:ring-blue-500 dark:border-blue-400 dark:bg-blue-100 dark:focus:border-blue-500 dark:focus:ring-blue-500",failure:"border-red-500 bg-red-50 text-red-900 placeholder-red-700 focus:border-red-500 focus:ring-red-500 dark:border-red-400 dark:bg-red-100 dark:focus:border-red-500 dark:focus:ring-red-500",warning:"border-yellow-500 bg-yellow-50 text-yellow-900 placeholder-yellow-700 focus:border-yellow-500 focus:ring-yellow-500 dark:border-yellow-400 dark:bg-yellow-100 dark:focus:border-yellow-500 dark:focus:ring-yellow-500",success:"border-green-500 bg-green-50 text-green-900 placeholder-green-700 focus:border-green-500 focus:ring-green-500 dark:border-green-400 dark:bg-green-100 dark:focus:border-green-500 dark:focus:ring-green-500"},withShadow:{on:"shadow-sm dark:shadow-sm-light",off:""}},toggleSwitch:{root:{base:"group relative flex items-center rounded-lg focus:outline-none",active:{on:"cursor-pointer",off:"cursor-not-allowed opacity-50"},label:"ml-3 text-sm font-medium text-gray-900 dark:text-gray-300"},toggle:{base:"toggle-bg h-6 w-11 rounded-full border group-focus:ring-4 group-focus:ring-blue-500/25",checked:{on:"after:translate-x-full after:border-white",off:"border-gray-200 bg-gray-200 dark:border-gray-600 dark:bg-gray-700",color:{blue:" bg-blue-700 border-blue-700",dark:"bg-dark-700 border-dark-900",failure:"bg-red-700 border-red-900",gray:"bg-gray-500 border-gray-600",green:"bg-green-600 border-green-700",light:"bg-light-700 border-light-900",red:"bg-red-700 border-red-900",purple:"bg-purple-700 border-purple-900",success:"bg-green-500 border-green-500",yellow:"bg-yellow-400 border-yellow-400",warning:"bg-yellow-600 border-yellow-600",cyan:"bg-cyan-500 border-cyan-500",lime:"bg-lime-400 border-lime-400",indigo:"bg-indigo-400 border-indigo-400",teal:"bg-gradient-to-r from-teal-400 via-teal-500 to-teal-600 hover:bg-gradient-to-br focus:ring-4",info:"bg-blue-600 border-blue-600",pink:"bg-pink-600 border-pink-600"}}}},sidebar:{root:{base:"h-full",collapsed:{on:"w-16",off:"w-64"},inner:"h-full overflow-y-auto overflow-x-hidden rounded bg-white py-4 px-3 dark:bg-gray-800"},collapse:{button:"group flex w-full items-center rounded-lg p-2 text-base font-normal text-gray-900 transition duration-75 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700",icon:{base:"h-6 w-6 text-gray-500 transition duration-75 group-hover:text-gray-900 dark:text-gray-400 dark:group-hover:text-white",open:{off:"",on:"text-gray-900"}},label:{base:"ml-3 flex-1 whitespace-nowrap text-left",icon:"h-6 w-6"},list:"space-y-2 py-2"},cta:{base:"mt-6 rounded-lg p-4",color:{blue:"bg-blue-50 dark:bg-blue-900",dark:"bg-dark-50 dark:bg-dark-900",failure:"bg-red-50 dark:bg-red-900",gray:"bg-alternative-50 dark:bg-alternative-900",green:"bg-green-50 dark:bg-green-900",light:"bg-light-50 dark:bg-light-900",red:"bg-red-50 dark:bg-red-900",purple:"bg-purple-50 dark:bg-purple-900",success:"bg-green-50 dark:bg-green-900",yellow:"bg-yellow-50 dark:bg-yellow-900",warning:"bg-yellow-50 dark:bg-yellow-900"}},item:{base:"flex items-center justify-center rounded-lg p-2 text-base font-normal text-gray-900 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700",active:"bg-gray-100 dark:bg-gray-700",collapsed:{insideCollapse:"group w-full pl-8 transition duration-75",noIcon:"font-bold"},content:{base:"px-3 flex-1 whitespace-nowrap"},icon:{base:"h-6 w-6 flex-shrink-0 text-gray-500 transition duration-75 group-hover:text-gray-900 dark:text-gray-400 dark:group-hover:text-white",active:"text-gray-700 dark:text-gray-100"},label:""},items:"",itemGroup:"mt-4 space-y-2 border-t border-gray-200 pt-4 first:mt-0 first:border-t-0 first:pt-0 dark:border-gray-700",logo:{base:"mb-5 flex items-center pl-2.5",collapsed:{on:"hidden",off:"self-center whitespace-nowrap text-xl font-semibold dark:text-white"},img:"mr-3 h-6 sm:h-7"}},spinner:{base:"inline animate-spin text-gray-200",color:{failure:"fill-red-600",gray:"fill-gray-600",info:"fill-blue-600",pink:"fill-pink-600",purple:"fill-purple-600",success:"fill-green-500",warning:"fill-yellow-400"},light:{off:{base:"dark:text-gray-600",color:{failure:"",gray:"dark:fill-gray-300",info:"",pink:"",purple:"",success:"",warning:""}},on:{base:"",color:{failure:"",gray:"",info:"",pink:"",purple:"",success:"",warning:""}}},size:{xs:"w-3 h-3",sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8",xl:"w-10 h-10"}},tab:{base:"flex flex-col gap-2",tablist:{base:"flex text-center",styles:{default:"flex-wrap border-b border-gray-200 dark:border-gray-700",underline:"flex-wrap -mb-px border-b border-gray-200 dark:border-gray-700",pills:"flex-wrap font-medium text-sm text-gray-500 dark:text-gray-400",fullWidth:"hidden text-sm font-medium rounded-lg divide-x divide-gray-200 shadow sm:flex dark:divide-gray-700 dark:text-gray-400"},tabitem:{base:"flex items-center justify-center p-4 text-sm font-medium first:ml-0 disabled:cursor-not-allowed disabled:text-gray-400 disabled:dark:text-gray-500",styles:{default:{base:"rounded-t-lg",active:{on:"bg-gray-100 text-blue-600 dark:bg-gray-800 dark:text-blue-500",off:"text-gray-500 hover:bg-gray-50 hover:text-gray-600 dark:text-gray-400 dark:hover:bg-gray-800  dark:hover:text-gray-300"}},underline:{base:"rounded-t-lg",active:{on:"text-blue-600 rounded-t-lg border-b-2 border-blue-600 active dark:text-blue-500 dark:border-blue-500",off:"border-b-2 border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-600 dark:text-gray-400 dark:hover:text-gray-300"}},pills:{base:"",active:{on:"rounded-lg bg-blue-600 text-white",off:"rounded-lg hover:text-gray-900 hover:bg-gray-100 dark:hover:bg-gray-800 dark:hover:text-white"}},fullWidth:{base:"ml-2 first:ml-0 w-full first:rounded-l-lg last:rounded-r-lg",active:{on:"inline-block p-4 w-full text-gray-900 bg-gray-100 focus:ring-4 focus:ring-blue-300 active focus:outline-none dark:bg-gray-700 dark:text-white",off:"bg-white hover:text-gray-700 hover:bg-gray-50 focus:ring-4 focus:ring-blue-300 focus:outline-none dark:hover:text-white dark:bg-gray-800 dark:hover:bg-gray-700"}}},icon:"mr-2 h-5 w-5"}},tabpanel:"p-4"},table:{root:{base:"w-full text-left text-sm text-gray-500 dark:text-gray-400",wrapper:"relative overflow-x-auto shadow-md sm:rounded-lg"},cell:{base:"px-6 py-4"},head:{base:"bg-gray-50 text-xs uppercase text-gray-700 dark:bg-gray-700 dark:text-gray-400",cell:{base:"px-6 py-3"}},row:{hovered:"hover:bg-gray-50 dark:hover:bg-gray-600",striped:"odd:bg-white even:bg-gray-50 odd:dark:bg-gray-800 even:dark:bg-gray-700"}},timeline:{root:{direction:{horizontal:"items-base sm:flex",vertical:"relative border-l border-gray-200 dark:border-gray-700"}},item:{root:{horizontal:"relative mb-6 sm:mb-0",vertical:"mb-10 ml-6"},content:{root:{base:"mt-3 sm:pr-8"},body:"mb-4 text-base font-normal text-gray-500 dark:text-gray-400",time:"mb-1 text-sm font-normal leading-none text-gray-400 dark:text-gray-500",title:"text-lg font-semibold text-gray-900 dark:text-white"},point:{horizontal:"flex items-center",line:"hidden h-0.5 w-full bg-gray-200 dark:bg-gray-700 sm:flex",marker:{base:{horizontal:"absolute -left-1.5 h-3 w-3 rounded-full border border-white bg-gray-200 dark:border-gray-900 dark:bg-gray-700",vertical:"absolute -left-1.5 mt-1.5 h-3 w-3 rounded-full border border-white bg-gray-200 dark:border-gray-900 dark:bg-gray-700"},icon:{base:"h-3 w-3 text-blue-600 dark:text-blue-300",wrapper:"absolute -left-3 flex h-6 w-6 items-center justify-center rounded-full bg-blue-200 ring-8 ring-white dark:bg-blue-900 dark:ring-gray-900"}},vertical:""}}},toast:{root:{base:"flex w-full max-w-xs items-center rounded-lg bg-white p-4 text-gray-500 shadow dark:bg-gray-800 dark:text-gray-400",closed:"opacity-0 ease-out",removed:"hidden"},toggle:{base:"-mx-1.5 -my-1.5 ml-auto inline-flex h-8 w-8 rounded-lg bg-white p-1.5 text-gray-400 hover:bg-gray-100 hover:text-gray-900 focus:ring-2 focus:ring-gray-300 dark:bg-gray-800 dark:text-gray-500 dark:hover:bg-gray-700 dark:hover:text-white",icon:"h-5 w-5 shrink-0"}},tooltip:{target:"w-fit",animation:"transition-opacity",arrow:{base:"absolute z-10 h-2 w-2 rotate-45",style:{dark:"bg-gray-900 dark:bg-gray-700",light:"bg-white",auto:"bg-white dark:bg-gray-700"},placement:"-4px"},base:"absolute inline-block z-10 rounded-lg py-2 px-3 text-sm font-medium shadow-sm",hidden:"invisible opacity-0",style:{dark:"bg-gray-900 text-white dark:bg-gray-700",light:"border border-gray-200 bg-white text-gray-900",auto:"border border-gray-200 bg-white text-gray-900 dark:border-none dark:bg-gray-700 dark:text-white"},content:"relative z-20"}},tJ=w.createContext({theme:eJ});function oe(){return w.useContext(tJ)}const h2=w.createContext(void 0);function f2(){const t=w.useContext(h2);if(!t)throw new Error("useAccordionContext should be used within the AccordionPanelContext provider!");return t}const p2=({children:t,className:e,theme:n={},...r})=>{const{isOpen:i}=f2(),o=ae(oe().theme.accordion.content,n);return E("div",{className:G(o.base,e),"data-testid":"flowbite-accordion-content",hidden:!i,...r,children:t})},m2=({children:t,...e})=>{const{alwaysOpen:n}=e,[r,i]=w.useState(e.isOpen),o=n?{...e,isOpen:r,setOpen:()=>i(!r)}:e;return E(h2.Provider,{value:o,children:t})},g2=({as:t="h2",children:e,className:n,theme:r={},...i})=>{const{arrowIcon:o,flush:s,isOpen:a,setOpen:l}=f2(),u=()=>typeof l<"u"&&l(),c=ae(oe().theme.accordion.title,r);return ne("button",{className:G(c.base,c.flush[s?"on":"off"],c.open[a?"on":"off"],n),onClick:u,type:"button",...i,children:[E(t,{className:c.heading,"data-testid":"flowbite-accordion-heading",children:e}),o&&E(o,{"aria-hidden":!0,className:G(c.arrow.base,c.arrow.open[a?"on":"off"]),"data-testid":"flowbite-accordion-arrow"})]})},y2=({alwaysOpen:t=!1,arrowIcon:e=AA,children:n,flush:r=!1,collapseAll:i=!1,className:o,theme:s={},...a})=>{const[l,u]=w.useState(i?-1:0),c=w.useMemo(()=>w.Children.map(n,(h,f)=>w.cloneElement(h,{alwaysOpen:t,arrowIcon:e,flush:r,isOpen:l===f,setOpen:()=>u(f)})),[t,e,n,r,l]),d=ae(oe().theme.accordion.root,s);return E("div",{className:G(d.base,d.flush[r?"on":"off"],o),"data-testid":"flowbite-accordion",...a,children:c})};y2.displayName="Accordion";m2.displayName="Accordion.Panel";g2.displayName="Accordion.Title";p2.displayName="Accordion.Content";Object.assign(y2,{Panel:m2,Title:g2,Content:p2});const v2=({children:t,className:e,theme:n={},...r})=>{const i=ae(oe().theme.avatar.group,n);return E("div",{"data-testid":"avatar-group-element",className:G(i.base,e),...r,children:t})};v2.displayName="Avatar.Group";const b2=({className:t,href:e,theme:n={},total:r,...i})=>{const o=ae(oe().theme.avatar.groupCounter,n);return ne("a",{href:e,className:G(o.base,t),...i,children:["+",r]})};b2.displayName="Avatar.GroupCounter";const w2=({alt:t="",bordered:e=!1,children:n,className:r,color:i="light",img:o,placeholderInitials:s="",rounded:a=!1,size:l="md",stacked:u=!1,status:c,statusPosition:d="top-left",theme:h={},...f})=>{const p=ae(oe().theme.avatar,h),m=G(e&&p.root.bordered,e&&p.root.color[i],a&&p.root.rounded,u&&p.root.stacked,p.root.img.on,p.root.size[l]),b={alt:t,className:G(m,p.root.img.on),"data-testid":"flowbite-avatar-img"};return ne("div",{className:G(p.root.base,r),"data-testid":"flowbite-avatar",...f,children:[ne("div",{className:"relative",children:[o?typeof o=="string"?E("img",{...b,src:o}):o(b):s?E("div",{className:G(p.root.img.off,p.root.initials.base,a&&p.root.rounded,u&&p.root.stacked,e&&p.root.bordered,e&&p.root.color[i],p.root.size[l]),"data-testid":"flowbite-avatar-initials-placeholder",children:E("span",{className:G(p.root.initials.text),"data-testid":"flowbite-avatar-initials-placeholder-text",children:s})}):E("div",{className:G(m,p.root.img.off),"data-testid":"flowbite-avatar-img",children:E("svg",{className:p.root.img.placeholder,fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:E("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),c&&E("span",{"data-testid":"flowbite-avatar-status",className:G(p.root.status.base,p.root.status[c],p.root.statusPosition[d])})]}),n&&E("div",{children:n})]})};w2.displayName="Avatar";const Ck=Object.assign(w2,{Group:v2,Counter:b2}),nJ=({children:t,color:e="info",href:n,icon:r,size:i="xs",className:o,theme:s={},...a})=>{const l=ae(oe().theme.badge,s),u=()=>ne("span",{className:G(l.root.base,l.root.color[e],l.icon[r?"on":"off"],l.root.size[i],o),"data-testid":"flowbite-badge",...a,children:[r&&E(r,{"aria-hidden":!0,className:l.icon.size[i],"data-testid":"flowbite-badge-icon"}),t&&E("span",{children:t})]});return n?E("a",{className:l.root.href,href:n,children:E(u,{})}):E(u,{})},_2=w.forwardRef(({children:t,className:e,href:n,icon:r,theme:i={},...o},s)=>{const a=typeof n<"u",l=a?"a":"span",u=ae(oe().theme.breadcrumb.item,i);return ne("li",{className:G(u.base,e),...o,children:[E(DA,{"aria-hidden":!0,className:u.chevron,"data-testid":"flowbite-breadcrumb-separator"}),ne(l,{ref:s,className:u.href[a?"on":"off"],"data-testid":"flowbite-breadcrumb-item",href:n,children:[r&&E(r,{"aria-hidden":!0,className:u.icon}),t]})]})});_2.displayName="Breadcrumb.Item";const E2=({children:t,className:e,theme:n={},...r})=>{const i=ae(oe().theme.breadcrumb.root,n);return E("nav",{"aria-label":"Breadcrumb",className:G(i.base,e),...r,children:E("ol",{className:i.list,children:t})})};E2.displayName="Breadcrumb";Object.assign(E2,{Item:_2});const x2=({children:t,className:e,outline:n,pill:r,theme:i={},...o})=>{const s=w.useMemo(()=>w.Children.map(t,(l,u)=>w.cloneElement(l,{outline:n,pill:r,positionInGroup:u===0?"start":u===t.length-1?"end":"middle"})),[t,n,r]),a=ae(oe().theme.buttonGroup,i);return E("div",{className:G(a.base,e),role:"group",...o,children:s})};x2.displayName="Button.Group";const S2=w.forwardRef(({children:t,className:e,color:n="info",disabled:r=!1,fullSized:i,gradientDuoTone:o,gradientMonochrome:s,href:a,label:l,outline:u=!1,pill:c=!1,positionInGroup:d="none",size:h="md",theme:f={},...p},m)=>{const{buttonGroup:b,button:g}=ae(oe().theme,f),y=typeof a<"u",v=y?"a":"button",_=p;return E(v,{disabled:r,href:a,type:y?void 0:"button",ref:m,className:G(r&&g.disabled,!o&&!s&&g.color[n],o&&!s&&g.gradientDuoTone[o],!o&&s&&g.gradient[s],b.position[d],u&&(g.outline.color[n]??g.outline.color.default),g.base,g.pill[c?"on":"off"],i&&g.fullSized,e),..._,children:E("span",{className:G(g.inner.base,g.inner.position[d],g.outline[u?"on":"off"],g.outline.pill[u&&c?"on":"off"],g.size[h],u&&!g.outline.color[n]&&g.inner.outline),children:ne(St,{children:[typeof t<"u"&&t,typeof l<"u"&&E("span",{"data-testid":"flowbite-button-label",className:g.label,children:l})]})})})});S2.displayName="Button";const rJ=Object.assign(S2,{Group:x2});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var T2=function(t,e){return(T2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])})(t,e)},iJ,mh,oJ=(function(t){/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var o=arguments[i];if(o){var s=typeof o;if(s==="string"||s==="number")r.push(o);else if(Array.isArray(o)&&o.length){var a=n.apply(null,o);a&&r.push(a)}else if(s==="object")for(var l in o)e.call(o,l)&&o[l]&&r.push(l)}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()}(mh={path:iJ,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(e==null&&mh.path)}},mh.exports),mh.exports);function Db(t,e,n){var r,i,o,s,a;function l(){var c=Date.now()-s;c<e&&c>=0?r=setTimeout(l,e-c):(r=null,n||(a=t.apply(o,i),o=i=null))}e==null&&(e=100);var u=function(){o=this,i=arguments,s=Date.now();var c=n&&!r;return r||(r=setTimeout(l,e)),c&&(a=t.apply(o,i),o=i=null),a};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(a=t.apply(o,i),o=i=null,clearTimeout(r),r=null)},u}Db.debounce=Db;var sJ=Db;(function(t,e){e===void 0&&(e={});var n=e.insertAt;if(t&&typeof document<"u"){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}})(`.indiana-scroll-container {
  overflow: auto; }
  .indiana-scroll-container--dragging {
    scroll-behavior: auto !important; }
    .indiana-scroll-container--dragging > * {
      pointer-events: none;
      cursor: -webkit-grab;
      cursor: grab; }
  .indiana-scroll-container--hide-scrollbars {
    overflow: hidden;
    overflow: -moz-scrollbars-none;
    -ms-overflow-style: none;
    scrollbar-width: none; }
    .indiana-scroll-container--hide-scrollbars::-webkit-scrollbar {
      display: none !important;
      height: 0 !important;
      width: 0 !important;
      background: transparent !important;
      -webkit-appearance: none !important; }
  .indiana-scroll-container--native-scroll {
    overflow: auto; }

.indiana-dragging {
  cursor: -webkit-grab;
  cursor: grab; }
`);var n0,aJ=(n0="indiana-scroll-container",function(t,e){if(!t)return n0;var n;typeof t=="string"?n=t:e=t;var r=n0;return n&&(r+="__"+n),r+(e?Object.keys(e).reduce(function(i,o){var s=e[o];return s&&(i+=" "+(typeof s=="boolean"?r+"--"+o:r+"--"+o+"_"+s)),i},""):"")});(function(t){function e(n){var r=t.call(this,n)||this;return r.onEndScroll=function(){r.scrolling=!1,!r.pressed&&r.started&&r.processEnd()},r.onScroll=function(i){var o=r.container.current;o.scrollLeft===r.scrollLeft&&o.scrollTop===r.scrollTop||(r.scrolling=!0,r.processScroll(i),r.onEndScroll())},r.onTouchStart=function(i){var o=r.props.nativeMobileScroll;if(r.isDraggable(i.target))if(r.internal=!0,o&&r.scrolling)r.pressed=!0;else{var s=i.touches[0];r.processClick(i,s.clientX,s.clientY),!o&&r.props.stopPropagation&&i.stopPropagation()}},r.onTouchEnd=function(i){var o=r.props.nativeMobileScroll;r.pressed&&(!r.started||r.scrolling&&o?r.pressed=!1:r.processEnd(),r.forceUpdate())},r.onTouchMove=function(i){var o=r.props.nativeMobileScroll;if(r.pressed&&(!o||!r.isMobile)){var s=i.touches[0];s&&r.processMove(i,s.clientX,s.clientY),i.preventDefault(),r.props.stopPropagation&&i.stopPropagation()}},r.onMouseDown=function(i){r.isDraggable(i.target)&&r.isScrollable()&&(r.internal=!0,r.props.buttons.indexOf(i.button)!==-1&&(r.processClick(i,i.clientX,i.clientY),i.preventDefault(),r.props.stopPropagation&&i.stopPropagation()))},r.onMouseMove=function(i){r.pressed&&(r.processMove(i,i.clientX,i.clientY),i.preventDefault(),r.props.stopPropagation&&i.stopPropagation())},r.onMouseUp=function(i){r.pressed&&(r.started?r.processEnd():(r.internal=!1,r.pressed=!1,r.forceUpdate(),r.props.onClick&&r.props.onClick(i)),i.preventDefault(),r.props.stopPropagation&&i.stopPropagation())},r.container=ke.createRef(),r.onEndScroll=sJ(r.onEndScroll,300),r.scrolling=!1,r.started=!1,r.pressed=!1,r.internal=!1,r.getRef=r.getRef.bind(r),r}return function(n,r){function i(){this.constructor=n}T2(n,r),n.prototype=r===null?Object.create(r):(i.prototype=r.prototype,new i)}(e,t),e.prototype.componentDidMount=function(){var n=this.props.nativeMobileScroll,r=this.container.current;window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd),r.addEventListener("touchstart",this.onTouchStart,{passive:!1}),r.addEventListener("mousedown",this.onMouseDown,{passive:!1}),n&&(this.isMobile=this.isMobileDevice(),this.isMobile&&this.forceUpdate())},e.prototype.componentWillUnmount=function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},e.prototype.getElement=function(){return this.container.current},e.prototype.isMobileDevice=function(){return window.orientation!==void 0||navigator.userAgent.indexOf("IEMobile")!==-1},e.prototype.isDraggable=function(n){var r=this.props.ignoreElements;if(r){var i=n.closest(r);return i===null||i.contains(this.getElement())}return!0},e.prototype.isScrollable=function(){var n=this.container.current;return n&&(n.scrollWidth>n.clientWidth||n.scrollHeight>n.clientHeight)},e.prototype.processClick=function(n,r,i){var o=this.container.current;this.scrollLeft=o.scrollLeft,this.scrollTop=o.scrollTop,this.clientX=r,this.clientY=i,this.pressed=!0},e.prototype.processStart=function(n){n===void 0&&(n=!0);var r=this.props.onStartScroll;this.started=!0,n&&document.body.classList.add("indiana-dragging"),r&&r({external:!this.internal}),this.forceUpdate()},e.prototype.processScroll=function(n){if(this.started){var r=this.props.onScroll;r&&r({external:!this.internal})}else this.processStart(!1)},e.prototype.processMove=function(n,r,i){var o=this.props,s=o.horizontal,a=o.vertical,l=o.activationDistance,u=o.onScroll,c=this.container.current;this.started?(s&&(c.scrollLeft-=r-this.clientX),a&&(c.scrollTop-=i-this.clientY),u&&u({external:!this.internal}),this.clientX=r,this.clientY=i,this.scrollLeft=c.scrollLeft,this.scrollTop=c.scrollTop):(s&&Math.abs(r-this.clientX)>l||a&&Math.abs(i-this.clientY)>l)&&(this.clientX=r,this.clientY=i,this.processStart())},e.prototype.processEnd=function(){var n=this.props.onEndScroll;this.container.current&&n&&n({external:!this.internal}),this.pressed=!1,this.started=!1,this.scrolling=!1,this.internal=!1,document.body.classList.remove("indiana-dragging"),this.forceUpdate()},e.prototype.getRef=function(n){[this.container,this.props.innerRef].forEach(function(r){r&&(typeof r=="function"?r(n):r.current=n)})},e.prototype.render=function(){var n=this.props,r=n.children,i=n.draggingClassName,o=n.className,s=n.style,a=n.hideScrollbars,l=n.component;return ke.createElement(l,{className:oJ(o,this.pressed&&i,aJ({dragging:this.pressed,"hide-scrollbars":a,"native-scroll":this.isMobile})),style:s,ref:this.getRef,onScroll:this.onScroll},r)},e.defaultProps={nativeMobileScroll:!0,hideScrollbars:!0,activationDistance:10,vertical:!0,horizontal:!0,stopPropagation:!1,style:{},component:"div",buttons:[0]},e})(w.PureComponent);const lJ=w.forwardRef(({className:t,theme:e={},...n},r)=>{const i=ae(oe().theme.checkbox,e);return E("input",{ref:r,type:"checkbox",className:G(i.root.base,t),...n})});lJ.displayName="Checkbox";function uJ(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}function Vr(t){return t.split("-")[1]}function cE(t){return t==="y"?"height":"width"}function bi(t){return t.split("-")[0]}function Id(t){return["top","bottom"].includes(bi(t))?"x":"y"}function kk(t,e,n){let{reference:r,floating:i}=t;const o=r.x+r.width/2-i.width/2,s=r.y+r.height/2-i.height/2,a=Id(e),l=cE(a),u=r[l]/2-i[l]/2,c=a==="x";let d;switch(bi(e)){case"top":d={x:o,y:r.y-i.height};break;case"bottom":d={x:o,y:r.y+r.height};break;case"right":d={x:r.x+r.width,y:s};break;case"left":d={x:r.x-i.width,y:s};break;default:d={x:r.x,y:r.y}}switch(Vr(e)){case"start":d[a]-=u*(n&&c?-1:1);break;case"end":d[a]+=u*(n&&c?-1:1)}return d}const cJ=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let u=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:c,y:d}=kk(u,r,l),h=r,f={},p=0;for(let m=0;m<a.length;m++){const{name:b,fn:g}=a[m],{x:y,y:v,data:_,reset:S}=await g({x:c,y:d,initialPlacement:r,placement:h,strategy:i,middlewareData:f,rects:u,platform:s,elements:{reference:t,floating:e}});c=y??c,d=v??d,f={...f,[b]:{...f[b],..._}},S&&p<=50&&(p++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(u=S.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):S.rects),{x:c,y:d}=kk(u,h,l)),m=-1)}return{x:c,y:d,placement:h,strategy:i,middlewareData:f}};function C2(t){return typeof t!="number"?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(t):{top:t,right:t,bottom:t,left:t}}function xp(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}async function dE(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=e,p=C2(f),m=a[h?d==="floating"?"reference":"floating":d],b=xp(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(m)))==null||n?m:m.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:c,strategy:l})),g=d==="floating"?{...s.floating,x:r,y:i}:s.reference,y=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),v=await(o.isElement==null?void 0:o.isElement(y))&&await(o.getScale==null?void 0:o.getScale(y))||{x:1,y:1},_=xp(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:g,offsetParent:y,strategy:l}):g);return{top:(b.top-_.top+p.top)/v.y,bottom:(_.bottom-b.bottom+p.bottom)/v.y,left:(b.left-_.left+p.left)/v.x,right:(_.right-b.right+p.right)/v.x}}const dJ=Math.min,hJ=Math.max;function Mb(t,e,n){return hJ(t,dJ(e,n))}const Ik=t=>({name:"arrow",options:t,async fn(e){const{element:n,padding:r=0}=t||{},{x:i,y:o,placement:s,rects:a,platform:l,elements:u}=e;if(n==null)return{};const c=C2(r),d={x:i,y:o},h=Id(s),f=cE(h),p=await l.getDimensions(n),m=h==="y",b=m?"top":"left",g=m?"bottom":"right",y=m?"clientHeight":"clientWidth",v=a.reference[f]+a.reference[h]-d[h]-a.floating[f],_=d[h]-a.reference[h],S=await(l.getOffsetParent==null?void 0:l.getOffsetParent(n));let C=S?S[y]:0;C&&await(l.isElement==null?void 0:l.isElement(S))||(C=u.floating[y]||a.floating[f]);const I=v/2-_/2,R=c[b],B=C-p[f]-c[g],P=C/2-p[f]/2+I,T=Mb(R,P,B),N=Vr(s)!=null&&P!=T&&a.reference[f]/2-(P<R?c[b]:c[g])-p[f]/2<0;return{[h]:d[h]-(N?P<R?R-P:B-P:0),data:{[h]:T,centerOffset:P-T}}}}),fJ=["top","right","bottom","left"],Rk=fJ.reduce((t,e)=>t.concat(e,e+"-start",e+"-end"),[]),pJ={left:"right",right:"left",bottom:"top",top:"bottom"};function Sp(t){return t.replace(/left|right|bottom|top/g,e=>pJ[e])}function k2(t,e,n){n===void 0&&(n=!1);const r=Vr(t),i=Id(t),o=cE(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=Sp(s)),{main:s,cross:Sp(s)}}const mJ={start:"end",end:"start"};function Zh(t){return t.replace(/start|end/g,e=>mJ[e])}const gJ=function(t){return t===void 0&&(t={}),{name:"autoPlacement",options:t,async fn(e){var n,r,i;const{rects:o,middlewareData:s,placement:a,platform:l,elements:u}=e,{crossAxis:c=!1,alignment:d,allowedPlacements:h=Rk,autoAlignment:f=!0,...p}=t,m=d!==void 0||h===Rk?function(P,T,N){return(P?[...N.filter($=>Vr($)===P),...N.filter($=>Vr($)!==P)]:N.filter($=>bi($)===$)).filter($=>!P||Vr($)===P||!!T&&Zh($)!==$)}(d||null,f,h):h,b=await dE(e,p),g=((n=s.autoPlacement)==null?void 0:n.index)||0,y=m[g];if(y==null)return{};const{main:v,cross:_}=k2(y,o,await(l.isRTL==null?void 0:l.isRTL(u.floating)));if(a!==y)return{reset:{placement:m[0]}};const S=[b[bi(y)],b[v],b[_]],C=[...((r=s.autoPlacement)==null?void 0:r.overflows)||[],{placement:y,overflows:S}],I=m[g+1];if(I)return{data:{index:g+1,overflows:C},reset:{placement:I}};const R=C.map(P=>{const T=Vr(P.placement);return[P.placement,T&&c?P.overflows.slice(0,2).reduce((N,$)=>N+$,0):P.overflows[0],P.overflows]}).sort((P,T)=>P[1]-T[1]),B=((i=R.filter(P=>P[2].slice(0,Vr(P[0])?2:3).every(T=>T<=0))[0])==null?void 0:i[0])||R[0][0];return B!==a?{data:{index:g+1,overflows:C},reset:{placement:B}}:{}}}},yJ=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n;const{placement:r,middlewareData:i,rects:o,initialPlacement:s,platform:a,elements:l}=e,{mainAxis:u=!0,crossAxis:c=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:f="none",flipAlignment:p=!0,...m}=t,b=bi(r),g=bi(s)===s,y=await(a.isRTL==null?void 0:a.isRTL(l.floating)),v=d||(g||!p?[Sp(s)]:function(T){const N=Sp(T);return[Zh(T),N,Zh(N)]}(s));d||f==="none"||v.push(...function(T,N,$,F){const V=Vr(T);let j=function(Q,A,W){const U=["left","right"],q=["right","left"],Z=["top","bottom"],_e=["bottom","top"];switch(Q){case"top":case"bottom":return W?A?q:U:A?U:q;case"left":case"right":return A?Z:_e;default:return[]}}(bi(T),$==="start",F);return V&&(j=j.map(Q=>Q+"-"+V),N&&(j=j.concat(j.map(Zh)))),j}(s,p,f,y));const _=[s,...v],S=await dE(e,m),C=[];let I=((n=i.flip)==null?void 0:n.overflows)||[];if(u&&C.push(S[b]),c){const{main:T,cross:N}=k2(r,o,y);C.push(S[T],S[N])}if(I=[...I,{placement:r,overflows:C}],!C.every(T=>T<=0)){var R,B;const T=(((R=i.flip)==null?void 0:R.index)||0)+1,N=_[T];if(N)return{data:{index:T,overflows:I},reset:{placement:N}};let $=(B=I.filter(F=>F.overflows[0]<=0).sort((F,V)=>F.overflows[1]-V.overflows[1])[0])==null?void 0:B.placement;if(!$)switch(h){case"bestFit":{var P;const F=(P=I.map(V=>[V.placement,V.overflows.filter(j=>j>0).reduce((j,Q)=>j+Q,0)]).sort((V,j)=>V[1]-j[1])[0])==null?void 0:P[0];F&&($=F);break}case"initialPlacement":$=s}if(r!==$)return{reset:{placement:$}}}return{}}}},vJ=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){const{x:n,y:r}=e,i=await async function(o,s){const{placement:a,platform:l,elements:u}=o,c=await(l.isRTL==null?void 0:l.isRTL(u.floating)),d=bi(a),h=Vr(a),f=Id(a)==="x",p=["left","top"].includes(d)?-1:1,m=c&&f?-1:1,b=typeof s=="function"?s(o):s;let{mainAxis:g,crossAxis:y,alignmentAxis:v}=typeof b=="number"?{mainAxis:b,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...b};return h&&typeof v=="number"&&(y=h==="end"?-1*v:v),f?{x:y*m,y:g*p}:{x:g*p,y:y*m}}(e,t);return{x:n+i.x,y:r+i.y,data:i}}}};function bJ(t){return t==="x"?"y":"x"}const wJ=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:b=>{let{x:g,y}=b;return{x:g,y}}},...l}=t,u={x:n,y:r},c=await dE(e,l),d=Id(bi(i)),h=bJ(d);let f=u[d],p=u[h];if(o){const b=d==="y"?"bottom":"right";f=Mb(f+c[d==="y"?"top":"left"],f,f-c[b])}if(s){const b=h==="y"?"bottom":"right";p=Mb(p+c[h==="y"?"top":"left"],p,p-c[b])}const m=a.fn({...e,[d]:f,[h]:p});return{...m,data:{x:m.x-n,y:m.y-r}}}}};function Bn(t){var e;return((e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Jr(t){return Bn(t).getComputedStyle(t)}function I2(t){return t instanceof Bn(t).Node}function Vo(t){return I2(t)?(t.nodeName||"").toLowerCase():""}let gh;function R2(){if(gh)return gh;const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?(gh=t.brands.map(e=>e.brand+"/"+e.version).join(" "),gh):navigator.userAgent}function Pr(t){return t instanceof Bn(t).HTMLElement}function kr(t){return t instanceof Bn(t).Element}function Pk(t){return typeof ShadowRoot>"u"?!1:t instanceof Bn(t).ShadowRoot||t instanceof ShadowRoot}function wg(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Jr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function _J(t){return["table","td","th"].includes(Vo(t))}function Lb(t){const e=/firefox/i.test(R2()),n=Jr(t),r=n.backdropFilter||n.WebkitBackdropFilter;return n.transform!=="none"||n.perspective!=="none"||!!r&&r!=="none"||e&&n.willChange==="filter"||e&&!!n.filter&&n.filter!=="none"||["transform","perspective"].some(i=>n.willChange.includes(i))||["paint","layout","strict","content"].some(i=>{const o=n.contain;return o!=null&&o.includes(i)})}function $b(){return/^((?!chrome|android).)*safari/i.test(R2())}function hE(t){return["html","body","#document"].includes(Vo(t))}const Ok=Math.min,Uu=Math.max,Tp=Math.round;function P2(t){const e=Jr(t);let n=parseFloat(e.width),r=parseFloat(e.height);const i=Pr(t),o=i?t.offsetWidth:n,s=i?t.offsetHeight:r,a=Tp(n)!==o||Tp(r)!==s;return a&&(n=o,r=s),{width:n,height:r,fallback:a}}function O2(t){return kr(t)?t:t.contextElement}const A2={x:1,y:1};function Ka(t){const e=O2(t);if(!Pr(e))return A2;const n=e.getBoundingClientRect(),{width:r,height:i,fallback:o}=P2(e);let s=(o?Tp(n.width):n.width)/r,a=(o?Tp(n.height):n.height)/i;return s&&Number.isFinite(s)||(s=1),a&&Number.isFinite(a)||(a=1),{x:s,y:a}}function zs(t,e,n,r){var i,o;e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),a=O2(t);let l=A2;e&&(r?kr(r)&&(l=Ka(r)):l=Ka(t));const u=a?Bn(a):window,c=$b()&&n;let d=(s.left+(c&&((i=u.visualViewport)==null?void 0:i.offsetLeft)||0))/l.x,h=(s.top+(c&&((o=u.visualViewport)==null?void 0:o.offsetTop)||0))/l.y,f=s.width/l.x,p=s.height/l.y;if(a){const m=Bn(a),b=r&&kr(r)?Bn(r):r;let g=m.frameElement;for(;g&&r&&b!==m;){const y=Ka(g),v=g.getBoundingClientRect(),_=getComputedStyle(g);v.x+=(g.clientLeft+parseFloat(_.paddingLeft))*y.x,v.y+=(g.clientTop+parseFloat(_.paddingTop))*y.y,d*=y.x,h*=y.y,f*=y.x,p*=y.y,d+=v.x,h+=v.y,g=Bn(g).frameElement}}return xp({width:f,height:p,x:d,y:h})}function ko(t){return((I2(t)?t.ownerDocument:t.document)||window.document).documentElement}function _g(t){return kr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function N2(t){return zs(ko(t)).left+_g(t).scrollLeft}function $c(t){if(Vo(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Pk(t)&&t.host||ko(t);return Pk(e)?e.host:e}function D2(t){const e=$c(t);return hE(e)?e.ownerDocument.body:Pr(e)&&wg(e)?e:D2(e)}function Vu(t,e){var n;e===void 0&&(e=[]);const r=D2(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=Bn(r);return i?e.concat(o,o.visualViewport||[],wg(r)?r:[]):e.concat(r,Vu(r))}function Ak(t,e,n){let r;if(e==="viewport")r=function(s,a){const l=Bn(s),u=ko(s),c=l.visualViewport;let d=u.clientWidth,h=u.clientHeight,f=0,p=0;if(c){d=c.width,h=c.height;const m=$b();(!m||m&&a==="fixed")&&(f=c.offsetLeft,p=c.offsetTop)}return{width:d,height:h,x:f,y:p}}(t,n);else if(e==="document")r=function(s){const a=ko(s),l=_g(s),u=s.ownerDocument.body,c=Uu(a.scrollWidth,a.clientWidth,u.scrollWidth,u.clientWidth),d=Uu(a.scrollHeight,a.clientHeight,u.scrollHeight,u.clientHeight);let h=-l.scrollLeft+N2(s);const f=-l.scrollTop;return Jr(u).direction==="rtl"&&(h+=Uu(a.clientWidth,u.clientWidth)-c),{width:c,height:d,x:h,y:f}}(ko(t));else if(kr(e))r=function(s,a){const l=zs(s,!0,a==="fixed"),u=l.top+s.clientTop,c=l.left+s.clientLeft,d=Pr(s)?Ka(s):{x:1,y:1};return{width:s.clientWidth*d.x,height:s.clientHeight*d.y,x:c*d.x,y:u*d.y}}(e,n);else{const s={...e};if($b()){var i,o;const a=Bn(t);s.x-=((i=a.visualViewport)==null?void 0:i.offsetLeft)||0,s.y-=((o=a.visualViewport)==null?void 0:o.offsetTop)||0}r=s}return xp(r)}function Nk(t,e){return Pr(t)&&Jr(t).position!=="fixed"?e?e(t):t.offsetParent:null}function Dk(t,e){const n=Bn(t);if(!Pr(t))return n;let r=Nk(t,e);for(;r&&_J(r)&&Jr(r).position==="static";)r=Nk(r,e);return r&&(Vo(r)==="html"||Vo(r)==="body"&&Jr(r).position==="static"&&!Lb(r))?n:r||function(i){let o=$c(i);for(;Pr(o)&&!hE(o);){if(Lb(o))return o;o=$c(o)}return null}(t)||n}function EJ(t,e,n){const r=Pr(e),i=ko(e),o=zs(t,!0,n==="fixed",e);let s={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if(r||!r&&n!=="fixed")if((Vo(e)!=="body"||wg(i))&&(s=_g(e)),Pr(e)){const l=zs(e,!0);a.x=l.x+e.clientLeft,a.y=l.y+e.clientTop}else i&&(a.x=N2(i));return{x:o.left+s.scrollLeft-a.x,y:o.top+s.scrollTop-a.y,width:o.width,height:o.height}}const xJ={getClippingRect:function(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=n==="clippingAncestors"?function(u,c){const d=c.get(u);if(d)return d;let h=Vu(u).filter(b=>kr(b)&&Vo(b)!=="body"),f=null;const p=Jr(u).position==="fixed";let m=p?$c(u):u;for(;kr(m)&&!hE(m);){const b=Jr(m),g=Lb(m);b.position==="fixed"&&(f=null),(p?g||f:g||b.position!=="static"||!f||!["absolute","fixed"].includes(f.position))?f=b:h=h.filter(y=>y!==m),m=$c(m)}return c.set(u,h),h}(e,this._c):[].concat(n),s=[...o,r],a=s[0],l=s.reduce((u,c)=>{const d=Ak(e,c,i);return u.top=Uu(d.top,u.top),u.right=Ok(d.right,u.right),u.bottom=Ok(d.bottom,u.bottom),u.left=Uu(d.left,u.left),u},Ak(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{rect:e,offsetParent:n,strategy:r}=t;const i=Pr(n),o=ko(n);if(n===o)return e;let s={scrollLeft:0,scrollTop:0},a={x:1,y:1};const l={x:0,y:0};if((i||!i&&r!=="fixed")&&((Vo(n)!=="body"||wg(o))&&(s=_g(n)),Pr(n))){const u=zs(n);a=Ka(n),l.x=u.x+n.clientLeft,l.y=u.y+n.clientTop}return{width:e.width*a.x,height:e.height*a.y,x:e.x*a.x-s.scrollLeft*a.x+l.x,y:e.y*a.y-s.scrollTop*a.y+l.y}},isElement:kr,getDimensions:function(t){return P2(t)},getOffsetParent:Dk,getDocumentElement:ko,getScale:Ka,async getElementRects(t){let{reference:e,floating:n,strategy:r}=t;const i=this.getOffsetParent||Dk,o=this.getDimensions;return{reference:EJ(e,await i(n),r),floating:{x:0,y:0,...await o(n)}}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>Jr(t).direction==="rtl"};function SJ(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=!0,animationFrame:a=!1}=r,l=i&&!a,u=l||o?[...kr(t)?Vu(t):t.contextElement?Vu(t.contextElement):[],...Vu(e)]:[];u.forEach(f=>{l&&f.addEventListener("scroll",n,{passive:!0}),o&&f.addEventListener("resize",n)});let c,d=null;s&&(d=new ResizeObserver(()=>{n()}),kr(t)&&!a&&d.observe(t),kr(t)||!t.contextElement||a||d.observe(t.contextElement),d.observe(e));let h=a?zs(t):null;return a&&function f(){const p=zs(t);!h||p.x===h.x&&p.y===h.y&&p.width===h.width&&p.height===h.height||n(),h=p,c=requestAnimationFrame(f)}(),n(),()=>{var f;u.forEach(p=>{l&&p.removeEventListener("scroll",n),o&&p.removeEventListener("resize",n)}),(f=d)==null||f.disconnect(),d=null,a&&cancelAnimationFrame(c)}}const TJ=(t,e,n)=>{const r=new Map,i={platform:xJ,...n},o={...i.platform,_c:r};return cJ(t,e,{...i,platform:o})},CJ=t=>{const{element:e,padding:n}=t;function r(i){return Object.prototype.hasOwnProperty.call(i,"current")}return{name:"arrow",options:t,fn(i){return r(e)?e.current!=null?Ik({element:e.current,padding:n}).fn(i):{}:e?Ik({element:e,padding:n}).fn(i):{}}}};var ef=typeof document<"u"?w.useLayoutEffect:w.useEffect;function Cp(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!Cp(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!Cp(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function Mk(t){const e=w.useRef(t);return ef(()=>{e.current=t}),e}function kJ(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,whileElementsMounted:o,open:s}=t,[a,l]=w.useState({x:null,y:null,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[u,c]=w.useState(r);Cp(u,r)||c(r);const d=w.useRef(null),h=w.useRef(null),f=w.useRef(a),p=Mk(o),m=Mk(i),[b,g]=w.useState(null),[y,v]=w.useState(null),_=w.useCallback(P=>{d.current!==P&&(d.current=P,g(P))},[]),S=w.useCallback(P=>{h.current!==P&&(h.current=P,v(P))},[]),C=w.useCallback(()=>{if(!d.current||!h.current)return;const P={placement:e,strategy:n,middleware:u};m.current&&(P.platform=m.current),TJ(d.current,h.current,P).then(T=>{const N={...T,isPositioned:!0};I.current&&!Cp(f.current,N)&&(f.current=N,Po.flushSync(()=>{l(N)}))})},[u,e,n,m]);ef(()=>{s===!1&&f.current.isPositioned&&(f.current.isPositioned=!1,l(P=>({...P,isPositioned:!1})))},[s]);const I=w.useRef(!1);ef(()=>(I.current=!0,()=>{I.current=!1}),[]),ef(()=>{if(b&&y){if(p.current)return p.current(b,y,C);C()}},[b,y,C,p]);const R=w.useMemo(()=>({reference:d,floating:h,setReference:_,setFloating:S}),[_,S]),B=w.useMemo(()=>({reference:b,floating:y}),[b,y]);return w.useMemo(()=>({...a,update:C,refs:R,elements:B,reference:_,floating:S}),[a,C,R,B,_,S])}var Fc=typeof document<"u"?w.useLayoutEffect:w.useEffect;let r0=!1,IJ=0;const Lk=()=>"floating-ui-"+IJ++;function RJ(){const[t,e]=w.useState(()=>r0?Lk():void 0);return Fc(()=>{t==null&&e(Lk())},[]),w.useEffect(()=>{r0||(r0=!0)},[]),t}const PJ=Xu["useId".toString()],$k=PJ||RJ;function OJ(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){t.set(e,(t.get(e)||[]).filter(r=>r!==n))}}}const AJ=w.createContext(null),NJ=w.createContext(null),DJ=()=>{var t;return((t=w.useContext(AJ))==null?void 0:t.id)||null},M2=()=>w.useContext(NJ);function vs(t){return(t==null?void 0:t.ownerDocument)||document}function fE(t){return vs(t).defaultView||window}function ao(t){return t?t instanceof fE(t).Element:!1}function pE(t){return t?t instanceof fE(t).HTMLElement:!1}function MJ(t){if(typeof ShadowRoot>"u")return!1;const e=fE(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function kp(t,e){const n=["mouse","pen"];return e||n.push("",void 0),n.includes(t)}function Fk(t){const e=w.useRef(t);return Fc(()=>{e.current=t}),e}const jk="data-floating-ui-safe-polygon";function i0(t,e,n){return n&&!kp(n)?0:typeof t=="number"?t:t==null?void 0:t[e]}const LJ=function(t,e){let{enabled:n=!0,delay:r=0,handleClose:i=null,mouseOnly:o=!1,restMs:s=0,move:a=!0}=e===void 0?{}:e;const{open:l,onOpenChange:u,dataRef:c,events:d,elements:{domReference:h,floating:f},refs:p}=t,m=M2(),b=DJ(),g=Fk(i),y=Fk(r),v=w.useRef(),_=w.useRef(),S=w.useRef(),C=w.useRef(),I=w.useRef(!0),R=w.useRef(!1),B=w.useRef(()=>{}),P=w.useCallback(()=>{var F;const V=(F=c.current.openEvent)==null?void 0:F.type;return(V==null?void 0:V.includes("mouse"))&&V!=="mousedown"},[c]);w.useEffect(()=>{if(!n)return;function F(){clearTimeout(_.current),clearTimeout(C.current),I.current=!0}return d.on("dismiss",F),()=>{d.off("dismiss",F)}},[n,d]),w.useEffect(()=>{if(!n||!g.current||!l)return;function F(){P()&&u(!1)}const V=vs(f).documentElement;return V.addEventListener("mouseleave",F),()=>{V.removeEventListener("mouseleave",F)}},[f,l,u,n,g,c,P]);const T=w.useCallback(function(F){F===void 0&&(F=!0);const V=i0(y.current,"close",v.current);V&&!S.current?(clearTimeout(_.current),_.current=setTimeout(()=>u(!1),V)):F&&(clearTimeout(_.current),u(!1))},[y,u]),N=w.useCallback(()=>{B.current(),S.current=void 0},[]),$=w.useCallback(()=>{if(R.current){const F=vs(p.floating.current).body;F.style.pointerEvents="",F.removeAttribute(jk),R.current=!1}},[p]);return w.useEffect(()=>{if(!n)return;function F(){return c.current.openEvent?["click","mousedown"].includes(c.current.openEvent.type):!1}function V(A){if(clearTimeout(_.current),I.current=!1,o&&!kp(v.current)||s>0&&i0(y.current,"open")===0)return;c.current.openEvent=A;const W=i0(y.current,"open",v.current);W?_.current=setTimeout(()=>{u(!0)},W):u(!0)}function j(A){if(F())return;B.current();const W=vs(f);if(clearTimeout(C.current),g.current){l||clearTimeout(_.current),S.current=g.current({...t,tree:m,x:A.clientX,y:A.clientY,onClose(){$(),N(),T()}});const U=S.current;W.addEventListener("mousemove",U),B.current=()=>{W.removeEventListener("mousemove",U)};return}T()}function Q(A){F()||g.current==null||g.current({...t,tree:m,x:A.clientX,y:A.clientY,onClose(){$(),N(),T()}})(A)}if(ao(h)){const A=h;return l&&A.addEventListener("mouseleave",Q),f==null||f.addEventListener("mouseleave",Q),a&&A.addEventListener("mousemove",V,{once:!0}),A.addEventListener("mouseenter",V),A.addEventListener("mouseleave",j),()=>{l&&A.removeEventListener("mouseleave",Q),f==null||f.removeEventListener("mouseleave",Q),a&&A.removeEventListener("mousemove",V),A.removeEventListener("mouseenter",V),A.removeEventListener("mouseleave",j)}}},[h,f,n,t,o,s,a,T,N,$,u,l,m,y,g,c]),Fc(()=>{var F;if(n&&l&&(F=g.current)!=null&&F.__options.blockPointerEvents&&P()){const Q=vs(f).body;if(Q.setAttribute(jk,""),Q.style.pointerEvents="none",R.current=!0,ao(h)&&f){var V,j;const A=h,W=m==null||(V=m.nodesRef.current.find(U=>U.id===b))==null||(j=V.context)==null?void 0:j.elements.floating;return W&&(W.style.pointerEvents=""),A.style.pointerEvents="auto",f.style.pointerEvents="auto",()=>{A.style.pointerEvents="",f.style.pointerEvents=""}}}},[n,l,b,f,h,m,g,c,P]),Fc(()=>{l||(v.current=void 0,N(),$())},[l,N,$]),w.useEffect(()=>()=>{N(),clearTimeout(_.current),clearTimeout(C.current),$()},[n,N,$]),w.useMemo(()=>{if(!n)return{};function F(V){v.current=V.pointerType}return{reference:{onPointerDown:F,onPointerEnter:F,onMouseMove(){l||s===0||(clearTimeout(C.current),C.current=setTimeout(()=>{I.current||u(!0)},s))}},floating:{onMouseEnter(){clearTimeout(_.current)},onMouseLeave(){d.emit("dismiss",{type:"mouseLeave",data:{returnFocus:!1}}),T(!1)}}}},[d,n,s,l,u,T])};function $J(t){let e=t.activeElement;for(;((n=e)==null||(r=n.shadowRoot)==null?void 0:r.activeElement)!=null;){var n,r;e=e.shadowRoot.activeElement}return e}function Bu(t,e){if(!t||!e)return!1;const n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&MJ(n)){let r=e;do{if(r&&t===r)return!0;r=r.parentNode||r.host}while(r)}return!1}function FJ(t,e){let n=t.filter(i=>{var o;return i.parentId===e&&((o=i.context)==null?void 0:o.open)})||[],r=n;for(;r.length;)r=t.filter(i=>{var o;return(o=r)==null?void 0:o.some(s=>{var a;return i.parentId===s.id&&((a=i.context)==null?void 0:a.open)})})||[],n=n.concat(r);return n}function jJ(t){return"composedPath"in t?t.composedPath()[0]:t.target}const UJ="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function VJ(t){return pE(t)&&t.matches(UJ)}const BJ=Xu["useInsertionEffect".toString()],zJ=BJ||(t=>t());function WJ(t){const e=w.useRef(()=>{});return zJ(()=>{e.current=t}),w.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function Uk(t){return pE(t.target)&&t.target.tagName==="BUTTON"}function Vk(t){return VJ(t)}const HJ=function(t,e){let{open:n,onOpenChange:r,dataRef:i,elements:{domReference:o}}=t,{enabled:s=!0,event:a="click",toggle:l=!0,ignoreMouse:u=!1,keyboardHandlers:c=!0}=e===void 0?{}:e;const d=w.useRef();return w.useMemo(()=>s?{reference:{onPointerDown(h){d.current=h.pointerType},onMouseDown(h){h.button===0&&(kp(d.current,!0)&&u||a!=="click"&&(n?l&&(!i.current.openEvent||i.current.openEvent.type==="mousedown")&&r(!1):(h.preventDefault(),r(!0)),i.current.openEvent=h.nativeEvent))},onClick(h){if(!i.current.__syncReturnFocus){if(a==="mousedown"&&d.current){d.current=void 0;return}kp(d.current,!0)&&u||(n?l&&(!i.current.openEvent||i.current.openEvent.type==="click")&&r(!1):r(!0),i.current.openEvent=h.nativeEvent)}},onKeyDown(h){d.current=void 0,c&&(Uk(h)||(h.key===" "&&!Vk(o)&&h.preventDefault(),h.key==="Enter"&&(n?l&&r(!1):r(!0))))},onKeyUp(h){c&&(Uk(h)||Vk(o)||h.key===" "&&(n?l&&r(!1):r(!0)))}}}:{},[s,i,a,u,c,o,l,n,r])};function qJ(t,e){if(e==null)return!1;if("composedPath"in t)return t.composedPath().includes(e);const n=t;return n.target!=null&&e.contains(n.target)}const GJ=function(t,e){let{open:n,onOpenChange:r,dataRef:i,events:o,refs:s,elements:{floating:a,domReference:l}}=t,{enabled:u=!0,keyboardOnly:c=!0}=e===void 0?{}:e;const d=w.useRef(""),h=w.useRef(!1),f=w.useRef();return w.useEffect(()=>{if(!u)return;const m=vs(a).defaultView||window;function b(){!n&&pE(l)&&l===$J(vs(l))&&(h.current=!0)}return m.addEventListener("blur",b),()=>{m.removeEventListener("blur",b)}},[a,l,n,u]),w.useEffect(()=>{if(!u)return;function p(m){(m.type==="referencePress"||m.type==="escapeKey")&&(h.current=!0)}return o.on("dismiss",p),()=>{o.off("dismiss",p)}},[o,u]),w.useEffect(()=>()=>{clearTimeout(f.current)},[]),w.useMemo(()=>u?{reference:{onPointerDown(p){let{pointerType:m}=p;d.current=m,h.current=!!(m&&c)},onMouseLeave(){h.current=!1},onFocus(p){var m;h.current||p.type==="focus"&&((m=i.current.openEvent)==null?void 0:m.type)==="mousedown"&&i.current.openEvent&&qJ(i.current.openEvent,l)||(i.current.openEvent=p.nativeEvent,r(!0))},onBlur(p){h.current=!1;const m=p.relatedTarget,b=ao(m)&&m.hasAttribute("data-floating-ui-focus-guard")&&m.getAttribute("data-type")==="outside";f.current=setTimeout(()=>{Bu(s.floating.current,m)||Bu(l,m)||b||r(!1)})}}}:{},[u,c,l,s,i,r])},KJ=function(t,e){let{open:n}=t,{enabled:r=!0,role:i="dialog"}=e===void 0?{}:e;const o=$k(),s=$k();return w.useMemo(()=>{const a={id:o,role:i};return r?i==="tooltip"?{reference:{"aria-describedby":n?o:void 0},floating:a}:{reference:{"aria-expanded":n?"true":"false","aria-haspopup":i==="alertdialog"?"dialog":i,"aria-controls":n?o:void 0,...i==="listbox"&&{role:"combobox"},...i==="menu"&&{id:s}},floating:{...a,...i==="menu"&&{"aria-labelledby":s}}}:{}},[r,i,n,o,s])};function QJ(t,e){const[n,r]=t;let i=!1;const o=e.length;for(let s=0,a=o-1;s<o;a=s++){const[l,u]=e[s]||[0,0],[c,d]=e[a]||[0,0];u>=r!=d>=r&&n<=(c-l)*(r-u)/(d-u)+l&&(i=!i)}return i}function YJ(t,e){return t[0]>=e.x&&t[0]<=e.x+e.width&&t[1]>=e.y&&t[1]<=e.y+e.height}function XJ(t){let{restMs:e=0,buffer:n=.5,blockPointerEvents:r=!1}=t===void 0?{}:t,i,o=!1,s=!1;const a=l=>{let{x:u,y:c,placement:d,elements:h,onClose:f,nodeId:p,tree:m}=l;return function(g){function y(){clearTimeout(i),f()}if(clearTimeout(i),!h.domReference||!h.floating||d==null||u==null||c==null)return;const{clientX:v,clientY:_}=g,S=[v,_],C=jJ(g),I=g.type==="mouseleave",R=Bu(h.floating,C),B=Bu(h.domReference,C),P=h.domReference.getBoundingClientRect(),T=h.floating.getBoundingClientRect(),N=d.split("-")[0],$=u>T.right-T.width/2,F=c>T.bottom-T.height/2,V=YJ(S,P);if(R&&(s=!0,!I))return;if(B&&(s=!1),B&&!I){s=!0;return}if(I&&ao(g.relatedTarget)&&Bu(h.floating,g.relatedTarget)||m&&FJ(m.nodesRef.current,p).some(W=>{let{context:U}=W;return U==null?void 0:U.open}))return;if(N==="top"&&c>=P.bottom-1||N==="bottom"&&c<=P.top+1||N==="left"&&u>=P.right-1||N==="right"&&u<=P.left+1)return y();let j=[];switch(N){case"top":j=[[T.left,P.top+1],[T.left,T.bottom-1],[T.right,T.bottom-1],[T.right,P.top+1]],o=v>=T.left&&v<=T.right&&_>=T.top&&_<=P.top+1;break;case"bottom":j=[[T.left,T.top+1],[T.left,P.bottom-1],[T.right,P.bottom-1],[T.right,T.top+1]],o=v>=T.left&&v<=T.right&&_>=P.bottom-1&&_<=T.bottom;break;case"left":j=[[T.right-1,T.bottom],[T.right-1,T.top],[P.left+1,T.top],[P.left+1,T.bottom]],o=v>=T.left&&v<=P.left+1&&_>=T.top&&_<=T.bottom;break;case"right":j=[[P.right-1,T.bottom],[P.right-1,T.top],[T.left+1,T.top],[T.left+1,T.bottom]],o=v>=P.right-1&&v<=T.right&&_>=T.top&&_<=T.bottom;break}function Q(W){let[U,q]=W;const Z=T.width>P.width,_e=T.height>P.height;switch(N){case"top":{const se=[Z?U+n/2:$?U+n*4:U-n*4,q+n+1],Ee=[Z?U-n/2:$?U+n*4:U-n*4,q+n+1],xe=[[T.left,$||Z?T.bottom-n:T.top],[T.right,$?Z?T.bottom-n:T.top:T.bottom-n]];return[se,Ee,...xe]}case"bottom":{const se=[Z?U+n/2:$?U+n*4:U-n*4,q-n],Ee=[Z?U-n/2:$?U+n*4:U-n*4,q-n],xe=[[T.left,$||Z?T.top+n:T.bottom],[T.right,$?Z?T.top+n:T.bottom:T.top+n]];return[se,Ee,...xe]}case"left":{const se=[U+n+1,_e?q+n/2:F?q+n*4:q-n*4],Ee=[U+n+1,_e?q-n/2:F?q+n*4:q-n*4];return[...[[F||_e?T.right-n:T.left,T.top],[F?_e?T.right-n:T.left:T.right-n,T.bottom]],se,Ee]}case"right":{const se=[U-n,_e?q+n/2:F?q+n*4:q-n*4],Ee=[U-n,_e?q-n/2:F?q+n*4:q-n*4],xe=[[F||_e?T.left+n:T.right,T.top],[F?_e?T.left+n:T.right:T.left+n,T.bottom]];return[se,Ee,...xe]}}}const A=o?j:Q([u,c]);if(!o){if(s&&!V)return y();QJ([v,_],A)?e&&!s&&(i=setTimeout(y,e)):y()}}};return a.__options={blockPointerEvents:r},a}function JJ(t){t===void 0&&(t={});const{open:e=!1,onOpenChange:n,nodeId:r}=t,i=kJ(t),o=M2(),s=w.useRef(null),a=w.useRef({}),l=w.useState(()=>OJ())[0],[u,c]=w.useState(null),d=w.useCallback(g=>{const y=ao(g)?{getBoundingClientRect:()=>g.getBoundingClientRect(),contextElement:g}:g;i.refs.setReference(y)},[i.refs]),h=w.useCallback(g=>{(ao(g)||g===null)&&(s.current=g,c(g)),(ao(i.refs.reference.current)||i.refs.reference.current===null||g!==null&&!ao(g))&&i.refs.setReference(g)},[i.refs]),f=w.useMemo(()=>({...i.refs,setReference:h,setPositionReference:d,domReference:s}),[i.refs,h,d]),p=w.useMemo(()=>({...i.elements,domReference:u}),[i.elements,u]),m=WJ(n),b=w.useMemo(()=>({...i,refs:f,elements:p,dataRef:a,nodeId:r,events:l,open:e,onOpenChange:m}),[i,r,l,e,m,f,p]);return Fc(()=>{const g=o==null?void 0:o.nodesRef.current.find(y=>y.id===r);g&&(g.context=b)}),w.useMemo(()=>({...i,context:b,refs:f,reference:h,positionReference:d}),[i,f,b,h,d])}function o0(t,e,n){const r=new Map;return{...n==="floating"&&{tabIndex:-1},...t,...e.map(i=>i?i[n]:null).concat(t).reduce((i,o)=>(o&&Object.entries(o).forEach(s=>{let[a,l]=s;if(a.indexOf("on")===0){if(r.has(a)||r.set(a,[]),typeof l=="function"){var u;(u=r.get(a))==null||u.push(l),i[a]=function(){for(var c,d=arguments.length,h=new Array(d),f=0;f<d;f++)h[f]=arguments[f];(c=r.get(a))==null||c.forEach(p=>p(...h))}}}else i[a]=l}),i),{})}}const ZJ=function(t){t===void 0&&(t=[]);const e=t,n=w.useCallback(o=>o0(o,t,"reference"),e),r=w.useCallback(o=>o0(o,t,"floating"),e),i=w.useCallback(o=>o0(o,t,"item"),t.map(o=>o==null?void 0:o.item));return w.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:i}),[n,r,i])},eZ=({arrowRef:t,placement:e})=>{const n=[];return n.push(vJ(8)),n.push(e==="auto"?gJ():yJ()),n.push(wJ({padding:8})),t.current&&n.push(CJ({element:t.current})),n},tZ=({placement:t})=>t==="auto"?void 0:t,nZ=({placement:t})=>({top:"bottom",right:"left",bottom:"top",left:"right"})[t.split("-")[0]],L2=({animation:t="duration-300",arrow:e=!0,children:n,className:r,closeRequestKey:i,content:o,placement:s="top",style:a="dark",theme:l,trigger:u="hover",...c})=>{const d=w.useRef(null),[h,f]=w.useState(!1),p=JJ({middleware:eZ({arrowRef:d,placement:s}),onOpenChange:f,open:h,placement:tZ({placement:s})}),{context:m,floating:b,middlewareData:{arrow:{x:g,y}={}},reference:v,refs:_,strategy:S,update:C,x:I,y:R}=p,{getFloatingProps:B,getReferenceProps:P}=ZJ([HJ(m,{enabled:u==="click"}),GJ(m),LJ(m,{enabled:u==="hover",handleClose:XJ()}),KJ(m,{role:"tooltip"})]);return w.useEffect(()=>{if(_.reference.current&&_.floating.current&&h)return SJ(_.reference.current,_.floating.current,C)},[h,_.floating,_.reference,C]),w.useEffect(()=>{i!==void 0&&f(!1)},[i]),ne(St,{children:[E("div",{className:l.target,...P({ref:v}),"data-testid":"flowbite-tooltip-target",children:n}),ne("div",{"data-testid":"flowbite-tooltip",...B({className:G(l.base,t&&`${l.animation} ${t}`,!h&&l.hidden,l.style[a],r),ref:b,style:{position:S,top:R??" ",left:I??" "},...c}),children:[E("div",{className:l.content,children:o}),e&&E("div",{className:G(l.arrow.base,{[l.arrow.style.dark]:a==="dark",[l.arrow.style.light]:a==="light",[l.arrow.style.auto]:a==="auto"}),"data-testid":"flowbite-tooltip-arrow",ref:d,style:{top:y??" ",left:g??" ",right:" ",bottom:" ",[nZ({placement:p.placement})]:l.arrow.placement},children:""})]})]})},mE=({className:t,...e})=>{const n=oe().theme.dropdown.floating.divider;return E("div",{className:G(n,t),...e})},$2=({children:t,className:e,...n})=>{const r=oe().theme.dropdown.floating.header;return ne(St,{children:[E("div",{className:G(r,e),...n,children:t}),E(mE,{})]})},gE=({children:t,className:e,icon:n,onClick:r,theme:i={},...o})=>{const s=ae(oe().theme.dropdown.floating.item,i);return ne("li",{className:G(s.base,e),onClick:r,...o,children:[n&&E(n,{className:s.icon}),t]})},rZ={top:e8,right:DA,bottom:NA,left:Z6},F2=({children:t,className:e,dismissOnClick:n=!0,theme:r={},...i})=>{const o=ae(oe().theme.dropdown,r),s=i,{placement:a=i.inline?"bottom-start":"bottom",trigger:l="click",label:u,inline:c,floatingArrow:d=!1,arrowIcon:h=!0,...f}=s,p=w.useMemo(()=>{const[_]=a.split("-");return rZ[_]??NA},[a]),[m,b]=w.useState(void 0),g=w.useCallback(_=>ke.isValidElement(_)?_.type===gE?ke.cloneElement(_,{onClick:()=>{var S,C;(C=(S=_.props).onClick)==null||C.call(S),n&&b(uJ())}}):_.props.children&&typeof _.props.children=="object"?ke.cloneElement(_,{children:w.Children.map(_.props.children,g)}):_:_,[n]),y=w.useMemo(()=>E("ul",{className:o.content,children:w.Children.map(t,g)}),[g,t,o.content]),v=({children:_})=>c?E("button",{className:o.inlineWrapper,children:_}):E(rJ,{...f,children:_});return E(L2,{content:y,style:"auto",animation:"duration-100",placement:a,arrow:d,trigger:l,theme:o.floating,closeRequestKey:m,className:e,children:ne(v,{children:[u,h&&E(p,{className:o.arrowIcon})]})})};F2.displayName="Dropdown";gE.displayName="Dropdown.Item";$2.displayName="Dropdown.Header";mE.displayName="Dropdown.Divider";Object.assign(F2,{Item:gE,Header:$2,Divider:mE});const Eg=({children:t,className:e,color:n="default",theme:r={},value:i,...o})=>{const s=ae(oe().theme.helperText,r);return E("p",{className:G(s.root.base,s.root.colors[n],e),...o,children:i??t??""})},iZ=w.forwardRef(({className:t,color:e="gray",helperText:n,sizing:r="md",theme:i={},...o},s)=>{const a=ae(oe().theme.fileInput,i);return ne(St,{children:[E("div",{className:G(a.root.base,t),children:E("div",{className:a.field.base,children:E("input",{className:G(a.field.input.base,a.field.input.colors[e],a.field.input.sizes[r]),...o,type:"file",ref:s})})}),n&&E(Eg,{color:e,children:n})]})});iZ.displayName="FileInput";const j2=({alt:t,className:e,children:n,href:r,name:i,src:o,theme:s={},...a})=>{const l=ae(oe().theme.footer.brand,s);return E("div",{children:r?ne("a",{"data-testid":"flowbite-footer-brand",href:r,className:G(l.base,e),...a,children:[E("img",{alt:t,src:o,className:l.img}),E("span",{"data-testid":"flowbite-footer-brand-span",className:l.span,children:i}),n]}):E("img",{alt:t,"data-testid":"flowbite-footer-brand",src:o,className:G(l.img,e),...a})})},U2=({by:t,className:e,href:n,theme:r={},year:i,...o})=>{const s=ae(oe().theme.footer.copyright,r);return ne("div",{"data-testid":"flowbite-footer-copyright",className:G(s.base,e),...o,children:[" ",i,n?E("a",{href:n,className:s.href,children:t}):E("span",{"data-testid":"flowbite-footer-copyright-span",className:s.span,children:t})]})},V2=({className:t,theme:e={},...n})=>{const r=ae(oe().theme.footer.divider,e);return E("hr",{"data-testid":"footer-divider",className:G(r.base,t),...n})},B2=({ariaLabel:t,className:e,href:n,icon:r,theme:i={},...o})=>{const s=ae(oe().theme.footer.icon,i);return E("div",{children:n?E("a",{"aria-label":t,"data-testid":"flowbite-footer-icon",href:n,className:G(s.base,e),...o,children:E(r,{className:s.size})}):E(r,{"data-testid":"flowbite-footer-icon",className:s.size,...o})})},z2=({as:t="a",children:e,className:n,href:r,theme:i={},...o})=>{const s=ae(oe().theme.footer.groupLink.link,i);return E("li",{className:G(s.base,n),children:E(t,{href:r,className:s.href,...o,children:e})})},W2=({children:t,className:e,col:n=!1,theme:r={},...i})=>{const o=ae(oe().theme.footer.groupLink,r);return E("ul",{"data-testid":"footer-groupLink",className:G(o.base,n&&o.col,e),...i,children:t})},H2=({as:t="h2",className:e,theme:n={},title:r,...i})=>{const o=ae(oe().theme.footer.title,n);return E(t,{"data-testid":"flowbite-footer-title",className:G(o.base,e),...i,children:r})},q2=({bgDark:t=!1,children:e,className:n,container:r=!1,theme:i={},...o})=>{const s=ae(oe().theme.footer,i);return E("footer",{"data-testid":"flowbite-footer",className:G(s.root.base,t&&s.root.bgDark,r&&s.root.container,n),...o,children:e})};q2.displayName="Footer";U2.displayName="Footer.Copyright";z2.displayName="Footer.Link";j2.displayName="Footer.Brand";W2.displayName="Footer.LinkGroup";B2.displayName="Footer.Icon";H2.displayName="Footer.Title";V2.displayName="Footer.Divider";Object.assign(q2,{Copyright:U2,Link:z2,LinkGroup:W2,Brand:j2,Icon:B2,Title:H2,Divider:V2});const G2=({active:t,children:e,className:n,href:r,icon:i,onClick:o,theme:s={},...a})=>{const l=ae(oe().theme.listGroup.item,s),u=typeof r<"u",c=u?"a":"button";return E("li",{className:G(l.base,n),children:ne(c,{href:r,onClick:o,type:u?void 0:"button",className:G(l.link.active[t?"on":"off"],l.link.base,l.link.href[u?"on":"off"]),...a,children:[i&&E(i,{"aria-hidden":!0,"data-testid":"flowbite-list-group-item-icon",className:l.link.icon}),e]})})},K2=({children:t,className:e,theme:n={},...r})=>{const i=ae(oe().theme.listGroup,n);return E("ul",{className:G(i.root.base,e),...r,children:t})};K2.displayName="ListGroup";G2.displayName="ListGroup.Item";Object.assign(K2,{Item:G2});const oZ=(t,e)=>{w.useEffect(()=>{const n=r=>{r.key===t&&e()};return document.addEventListener("keydown",n),()=>{document.removeEventListener("keydown",n)}},[t,e])},Q2=w.createContext(void 0);function yE(){const t=w.useContext(Q2);if(!t)throw new Error("useModalContext should be used within the ModalContext provider!");return t}const Y2=({children:t,className:e,theme:n={},...r})=>{const i=ae(oe().theme.modal.body,n),{popup:o}=yE();return E("div",{className:G(i.base,{[i.popup]:o},e),...r,children:t})},X2=({children:t,className:e,theme:n={},...r})=>{const i=ae(oe().theme.modal.footer,n),{popup:o}=yE();return E("div",{className:G(i.base,{[i.popup]:!o},e),...r,children:t})},J2=({as:t="h3",children:e,className:n,theme:r={},...i})=>{const o=ae(oe().theme.modal.header,r),{popup:s,onClose:a}=yE();return ne("div",{className:G(o.base,{[o.popup]:s},n),...i,children:[E(t,{className:o.title,children:e}),E("button",{"aria-label":"Close",className:o.close.base,type:"button",onClick:a,children:E(t8,{"aria-hidden":!0,className:o.close.icon})})]})},Z2=({children:t,className:e,dismissible:n=!1,onClose:r,popup:i,position:o="center",root:s,show:a,size:l="2xl",theme:u={},...c})=>{const d=ae(oe().theme.modal,u),[h,f]=w.useState(!1),p=w.useRef(null);if(w.useEffect(()=>(f(!0),()=>{var g;const b=p.current;b&&((g=b.parentNode)==null||g.removeChild(b),p.current=null)}),[]),oZ("Escape",()=>{n&&r&&r()}),!h)return null;p.current||(p.current=document.createElement("div")),p.current.parentNode!==s&&ZX()&&(s=s||document.body,s.appendChild(p.current));const m=b=>{n&&b.target===b.currentTarget&&r&&r()};return Po.createPortal(E(Q2.Provider,{value:{popup:i,onClose:r},children:E("div",{"aria-hidden":!a,"data-testid":"modal",onClick:m,role:"dialog",className:G(d.root.base,d.root.positions[o],a?d.root.show.on:d.root.show.off,e),...c,children:E("div",{className:G(d.content.base,d.root.sizes[l]),children:E("div",{className:d.content.inner,children:t})})})}),p.current)};Z2.displayName="Modal";J2.displayName="Modal.Header";Y2.displayName="Modal.Body";X2.displayName="Modal.Footer";Object.assign(Z2,{Header:J2,Body:Y2,Footer:X2});const e$=({as:t="a",children:e,className:n,theme:r={},...i})=>{const o=ae(oe().theme.navbar.brand,r);return E(t,{className:G(o.base,n),...i,children:e})},t$=w.createContext(void 0);function n$(){const t=w.useContext(t$);if(!t)throw new Error("useNavBarContext should be used within the NavbarContext provider!");return t}const r$=({children:t,className:e,theme:n={},...r})=>{const{isOpen:i}=n$(),o=ae(oe().theme.navbar.collapse,n);return E("div",{"data-testid":"flowbite-navbar-collapse",className:G(o.base,o.hidden[i?"off":"on"],e),...r,children:E("ul",{className:o.list,children:t})})},i$=({active:t,as:e="a",disabled:n,children:r,className:i,theme:o={},...s})=>{const a=ae(oe().theme.navbar.link,o);return E("li",{children:E(e,{className:G(a.base,{[a.active.on]:t,[a.active.off]:!t&&!n},a.disabled[n?"on":"off"],i),...s,children:r})})};function sZ(t){return Je({tag:"svg",attr:{viewBox:"0 0 12 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M11.41 9H.59C0 9 0 8.59 0 8c0-.59 0-1 .59-1H11.4c.59 0 .59.41.59 1 0 .59 0 1-.59 1h.01zm0-4H.59C0 5 0 4.59 0 4c0-.59 0-1 .59-1H11.4c.59 0 .59.41.59 1 0 .59 0 1-.59 1h.01zM.59 11H11.4c.59 0 .59.41.59 1 0 .59 0 1-.59 1H.59C0 13 0 12.59 0 12c0-.59 0-1 .59-1z"}}]})(t)}const o$=({barIcon:t=sZ,className:e,theme:n={},...r})=>{const{isOpen:i,setIsOpen:o}=n$(),s=ae(oe().theme.navbar.toggle,n);return ne("button",{"data-testid":"flowbite-navbar-toggle",onClick:()=>{o(!i)},className:G(s.base,e),...r,children:[E("span",{className:"sr-only",children:"Open main menu"}),E(t,{"aria-hidden":!0,className:s.icon})]})},s$=({border:t,children:e,className:n,fluid:r=!1,menuOpen:i,rounded:o,theme:s={},...a})=>{const[l,u]=w.useState(i),c=ae(oe().theme.navbar.root,s);return E(t$.Provider,{value:{isOpen:l,setIsOpen:u},children:E("nav",{className:G(c.base,c.bordered[t?"on":"off"],c.rounded[o?"on":"off"],n),...a,children:E("div",{className:G(c.inner.base,c.inner.fluid[r?"on":"off"]),children:e})})})};s$.displayName="Navbar";e$.displayName="Navbar.Brand";r$.displayName="Navbar.Collapse";i$.displayName="Navbar.Link";o$.displayName="Navbar.Toggle";Object.assign(s$,{Brand:e$,Collapse:r$,Link:i$,Toggle:o$});const aZ=(t,e)=>t>=e?[]:[...Array(e-t+1).keys()].map(n=>n+t),vE=({active:t,children:e,className:n,onClick:r,theme:i={},...o})=>{const s=ae(oe().theme.pagination,i);return E("button",{className:G({[s.pages.selector.active]:t},n),onClick:r,...o,children:e})};vE.displayName="Pagination.Button";const a$=({className:t,currentPage:e,layout:n="pagination",nextLabel:r="Next",onPageChange:i,previousLabel:o="Previous",renderPaginationButton:s=d=>E(vE,{...d}),showIcons:a=!1,theme:l={},totalPages:u,...c})=>{const d=ae(oe().theme.pagination,l),h=Math.max(1,e-3),f=Math.min(e+3,u),p=()=>{i(Math.min(e+1,u))},m=()=>{i(Math.max(e-1,1))};return ne("nav",{className:G(d.base,t),...c,children:[n==="table"&&ne("div",{className:d.layout.table.base,children:["Showing ",E("span",{className:d.layout.table.span,children:h})," to",E("span",{className:d.layout.table.span,children:f})," of",E("span",{className:d.layout.table.span,children:u})," Entries"]}),ne("ul",{className:d.pages.base,children:[E("li",{children:s({className:G(G(d.pages.previous.base,a&&d.pages.showIcon)),onClick:m,children:ne(St,{children:[a&&E(G6,{"aria-hidden":!0,className:d.pages.previous.icon}),o]})})}),n==="pagination"&&aZ(h,f).map(b=>E("li",{"aria-current":b===e?"page":void 0,children:s({className:G(d.pages.selector.base,{[d.pages.selector.active]:e===b}),active:b===e,onClick:()=>i(b),children:b})},b)),E("li",{children:s({className:G(d.pages.next.base,a&&d.pages.showIcon),onClick:p,children:ne(St,{children:[r,a&&E(K6,{"aria-hidden":!0,className:d.pages.next.icon})]})})})]})]})};a$.displayName="Pagination";Object.assign(a$,{Button:vE});const lZ=w.forwardRef(({className:t,theme:e={},...n},r)=>{const i=ae(oe().theme.radio,e);return E("input",{ref:r,type:"radio",className:G(i.root.base,t),...n})});lZ.displayName="Radio";const uZ=w.forwardRef(({className:t,sizing:e="md",theme:n={},...r},i)=>{const o=ae(oe().theme.rangeSlider,n);return E(St,{children:E("div",{"data-testid":"flowbite-range-slider",className:G(o.root.base,t),children:E("div",{className:o.field.base,children:E("input",{ref:i,type:"range",className:G(o.field.input.base,o.field.input.sizes[e]),...r})})})})});uZ.displayName="RangeSlider";const l$=({children:t,className:e,percentFilled:n=0,theme:r={},...i})=>{const o=ae(oe().theme.rating.advanced,r);return ne("div",{className:G(o.base,e),...i,children:[E("span",{className:o.label,children:t}),E("div",{className:o.progress.base,children:E("div",{className:o.progress.fill,"data-testid":"flowbite-rating-fill",style:{width:`${n}%`}})}),E("span",{className:o.progress.label,children:`${n}%`})]})},u$=w.createContext(void 0);function cZ(){const t=w.useContext(u$);if(!t)throw new Error("useRatingContext should be used within the RatingContext provider!");return t}const c$=({className:t,filled:e=!0,starIcon:n=Y6,theme:r={},...i})=>{const{size:o="sm"}=cZ(),s=ae(oe().theme.rating.star,r);return E(n,{"data-testid":"flowbite-rating-star",className:G(s.sizes[o],s[e?"filled":"empty"],t),...i})},d$=({children:t,className:e,size:n="sm",theme:r={},...i})=>{const o=ae(oe().theme.rating,r);return E(u$.Provider,{value:{size:n},children:E("div",{className:G(o.root.base,e),...i,children:t})})};d$.displayName="Rating";c$.displayName="Rating.Star";l$.displayName="Rating.Advanced";Object.assign(d$,{Star:c$,Advanced:l$});const dZ=w.forwardRef(({addon:t,children:e,className:n,color:r="gray",helperText:i,icon:o,shadow:s,sizing:a="md",theme:l={},...u},c)=>{const d=ae(oe().theme.select,l);return ne("div",{className:G(d.base,n),children:[t&&E("span",{className:d.addon,children:t}),ne("div",{className:d.field.base,children:[o&&E("div",{className:d.field.icon.base,children:E(o,{className:d.field.icon.svg})}),E("select",{className:G(d.field.select.base,d.field.select.colors[r],d.field.select.withIcon[o?"on":"off"],d.field.select.withAddon[t?"on":"off"],d.field.select.withShadow[s?"on":"off"],d.field.select.sizes[a]),...u,ref:c,children:e}),i&&E(Eg,{color:r,children:i})]})]})});dZ.displayName="Select";const pi=({animation:t="duration-300",arrow:e=!0,children:n,className:r,content:i,placement:o="top",style:s="dark",theme:a={},trigger:l="hover",...u})=>{const c=ae(oe().theme.tooltip,a);return E(L2,{animation:t,arrow:e,content:i,placement:o,style:s,theme:c,trigger:l,className:r,...u,children:n})},h$=w.createContext(void 0);function xg(){const t=w.useContext(h$);if(!t)throw new Error("useSidebarContext should be used within the SidebarContext provider!");return t}const bE=w.createContext(void 0);function hZ(){const t=w.useContext(bE);if(!t)throw new Error("useSidebarItemContext should be used within the SidebarItemContext provider!");return t}const f$=({children:t,className:e,icon:n,label:r,open:i=!1,theme:o={},...s})=>{const a=w.useId(),{isCollapsed:l}=xg(),[u,c]=w.useState(i),d=ae(oe().theme.sidebar.collapse,o);return w.useEffect(()=>c(i),[i]),ne(({children:f})=>E("li",{children:l&&!u?E(pi,{content:r,placement:"right",children:f}):f}),{children:[ne("button",{id:`flowbite-sidebar-collapse-${a}`,onClick:()=>c(!u),title:r,type:"button",className:G(d.button,e),...s,children:[n&&E(n,{"aria-hidden":!0,"data-testid":"flowbite-sidebar-collapse-icon",className:G(d.icon.base,d.icon.open[u?"on":"off"])}),l?E("span",{className:"sr-only",children:r}):ne(St,{children:[E("span",{"data-testid":"flowbite-sidebar-collapse-label",className:d.label.base,children:r}),E(AA,{"aria-hidden":!0,className:d.label.icon})]})]}),E("ul",{"aria-labelledby":`flowbite-sidebar-collapse-${a}`,hidden:!u,className:d.list,children:E(bE.Provider,{value:{isInsideCollapse:!0},children:t})})]})};f$.displayName="Sidebar.Collapse";const p$=({children:t,color:e="info",className:n,theme:r={},...i})=>{const{isCollapsed:o}=xg(),s=ae(oe().theme.sidebar.cta,r);return E("div",{"data-testid":"sidebar-cta",hidden:o,className:G(s.base,s.color[e],n),...i,children:t})};p$.displayName="Sidebar.CTA";const fZ=({id:t,isCollapsed:e,tooltipChildren:n,children:r})=>E("li",{children:e?E(pi,{content:E(pZ,{id:t,children:n}),placement:"right",children:r}):r}),pZ=({id:t,children:e})=>E(m$,{id:t,children:e}),m$=({id:t,children:e})=>{const n=oe().theme.sidebar.item;return E("span",{"data-testid":"flowbite-sidebar-item-content",id:`flowbite-sidebar-item-${t}`,className:G(n.content.base),children:e})},g$=w.forwardRef(({active:t,as:e="a",children:n,className:r,icon:i,label:o,labelColor:s="info",theme:a={},...l},u)=>{var p,m,b,g;const c=w.useId(),{isCollapsed:d}=xg(),{isInsideCollapse:h}=hZ(),f=ae(oe().theme.sidebar.item,a);return E(fZ,{id:c,isCollapsed:d,tooltipChildren:n,children:ne(e,{"aria-labelledby":`flowbite-sidebar-item-${c}`,ref:u,className:G(f.base,t&&f.active,!d&&h&&((p=f.collapsed)==null?void 0:p.insideCollapse),r),...l,children:[i&&E(i,{"aria-hidden":!0,"data-testid":"flowbite-sidebar-item-icon",className:G((m=f.icon)==null?void 0:m.base,t&&((b=f.icon)==null?void 0:b.active))}),d&&!i&&E("span",{className:(g=f.collapsed)==null?void 0:g.noIcon,children:n.charAt(0).toLocaleUpperCase()??"?"}),!d&&E(m$,{id:c,children:n}),!d&&o&&E(nJ,{color:s,"data-testid":"flowbite-sidebar-label",hidden:d,className:f.label,children:o})]})})});g$.displayName="Sidebar.Item";const y$=({children:t,className:e,...n})=>{const r=oe().theme.sidebar.itemGroup;return E("ul",{"data-testid":"flowbite-sidebar-item-group",className:G(r,e),...n,children:E(bE.Provider,{value:{isInsideCollapse:!1},children:t})})};y$.displayName="Sidebar.ItemGroup";const v$=({children:t,className:e,...n})=>{const r=oe().theme.sidebar.items;return E("div",{className:G(r,e),"data-testid":"flowbite-sidebar-items",...n,children:t})};v$.displayName="Sidebar.Items";const b$=({children:t,className:e,href:n,img:r,imgAlt:i="",theme:o={},...s})=>{const a=w.useId(),{isCollapsed:l}=xg(),u=ae(oe().theme.sidebar.logo,o);return ne("a",{"aria-labelledby":`flowbite-sidebar-logo-${a}`,href:n,className:G(u.base,e),...s,children:[E("img",{alt:i,src:r,className:u.img}),E("span",{className:u.collapsed[l?"on":"off"],id:`flowbite-sidebar-logo-${a}`,children:t})]})};b$.displayName="Sidebar.Logo";const w$=({children:t,collapseBehavior:e="collapse",collapsed:n=!1,theme:r={},className:i,...o})=>{const s=ae(oe().theme.sidebar,r);return E(h$.Provider,{value:{isCollapsed:n},children:E("aside",{"aria-label":"Sidebar",hidden:n&&e==="hide",className:G(s.root.base,s.root.collapsed[n?"on":"off"],i),...o,children:E("div",{className:s.root.inner,children:t})})})};w$.displayName="Sidebar";Object.assign(w$,{Collapse:f$,CTA:p$,Item:g$,Items:v$,ItemGroup:y$,Logo:b$});const mZ=w.forwardRef(({children:t,className:e,onActiveTabChange:n,style:r="default",theme:i={},...o},s)=>{const a=ae(oe().theme.tab,i),l=w.useId(),u=w.useMemo(()=>w.Children.map(t,({props:v})=>v),[t]),c=w.useRef([]),[d,h]=w.useState(Math.max(0,u.findIndex(v=>v.active))),[f,p]=w.useState(Math.max(0,u.findIndex(v=>v.active))),m=v=>{h(v),n&&n(v)},b=({target:v})=>{m(v),p(v)},g=({event:v,target:_})=>{v.key==="ArrowLeft"&&p(Math.max(0,f-1)),v.key==="ArrowRight"&&p(Math.min(u.length-1,f+1)),v.key==="Enter"&&(m(_),p(_))},y=a.tablist.tabitem.styles[r];return w.useEffect(()=>{var v;(v=c.current[f])==null||v.focus()},[f]),w.useImperativeHandle(s,()=>({setActiveTab:m})),ne("div",{className:G(a.base,e),children:[E("div",{"aria-label":"Tabs",role:"tablist",className:G(a.tablist.base,a.tablist.styles[r],e),...o,children:u.map((v,_)=>ne("button",{type:"button","aria-controls":`${l}-tabpanel-${_}`,"aria-selected":_===d,className:G(a.tablist.tabitem.base,{...y},{[y.active.on]:_===d,[y.active.off]:_!==d&&!v.disabled}),disabled:v.disabled,id:`${l}-tab-${_}`,onClick:()=>b({target:_}),onKeyDown:S=>g({event:S,target:_}),ref:S=>c.current[_]=S,role:"tab",tabIndex:_===f?0:-1,children:[v.icon&&E(v.icon,{className:a.tablist.tabitem.icon}),v.title]},_))}),E("div",{children:u.map((v,_)=>E("div",{"aria-labelledby":`${l}-tab-${_}`,className:a.tabpanel,hidden:_!==d,id:`${l}-tabpanel-${_}`,role:"tabpanel",tabIndex:0,children:v.children},_))})]})});mZ.displayName="Tabs.Group";const _$=({children:t,...e})=>E("tbody",{...e,children:t}),E$=({children:t,className:e,theme:n={},...r})=>{const i=ae(oe().theme.table.cell,n);return E("td",{className:G(i.base,e),...r,children:t})},x$=w.createContext(void 0);function gZ(){const t=w.useContext(x$);if(!t)throw new Error("useTableContext should be used within the TableContext provider!");return t}const S$=({children:t,className:e,theme:n={},...r})=>{const i=ae(oe().theme.table,n);return E("thead",{className:G(i.head.base,e),...r,children:E("tr",{children:t})})},T$=({children:t,className:e,theme:n={},...r})=>{const i=ae(oe().theme.table.head.cell,n);return E("th",{className:G(i.base,e),...r,children:t})},C$=({children:t,className:e,theme:n={},...r})=>{const{hoverable:i,striped:o}=gZ(),s=ae(oe().theme.table.row,n);return E("tr",{"data-testid":"table-row-element",className:G(o&&s.striped,i&&s.hovered,e),...r,children:t})},k$=({children:t,className:e,hoverable:n,striped:r,theme:i={},...o})=>{const s=ae(oe().theme.table,i);return E("div",{"data-testid":"table-element",className:G(s.root.wrapper),children:E(x$.Provider,{value:{striped:r,hoverable:n},children:E("table",{className:G(s.root.base,e),...o,children:t})})})};k$.displayName="Table";S$.displayName="Table.Head";_$.displayName="Table.Body";C$.displayName="Table.Row";E$.displayName="Table.Cell";T$.displayName="Table.HeadCell";Object.assign(k$,{Head:S$,Body:_$,Row:C$,Cell:E$,HeadCell:T$});const yZ=w.forwardRef(({className:t,color:e="gray",helperText:n,shadow:r,theme:i={},...o},s)=>{const a=ae(oe().theme.textarea,i);return ne(St,{children:[E("textarea",{ref:s,className:G(a.base,a.colors[e],a.withShadow[r?"on":"off"],t),...o}),n&&E(Eg,{color:e,children:n})]})});yZ.displayName="Textarea";const vZ=w.forwardRef(({addon:t,className:e,color:n="gray",helperText:r,icon:i,rightIcon:o,shadow:s,sizing:a="md",theme:l={},...u},c)=>{const d=ae(oe().theme.textInput,l);return ne(St,{children:[ne("div",{className:G(d.base,e),children:[t&&E("span",{className:d.addon,children:t}),ne("div",{className:d.field.base,children:[i&&E("div",{className:d.field.icon.base,children:E(i,{className:d.field.icon.svg})}),o&&E("div",{"data-testid":"right-icon",className:d.field.rightIcon.base,children:E(o,{className:d.field.rightIcon.svg})}),E("input",{className:G(d.field.input.base,d.field.input.colors[n],d.field.input.withIcon[i?"on":"off"],d.field.input.withAddon[t?"on":"off"],d.field.input.withShadow[s?"on":"off"],d.field.input.sizes[a]),...u,ref:c})]})]}),r&&E(Eg,{color:n,children:r})]})});vZ.displayName="TextInput";const I$=({children:t,className:e,theme:n={},...r})=>{const i=ae(oe().theme.timeline.item.content,n).body;return E("div",{className:G(i,e),...r,children:t})},R$=w.createContext(void 0);function wE(){const t=w.useContext(R$);if(!t)throw new Error("useTimelineContext should be used within the TimelineContext providor!");return t}const P$=({children:t,className:e,theme:n={},...r})=>{const i=ae(oe().theme.timeline.item.content,n),{horizontal:o}=wE();return E("div",{"data-testid":"timeline-content",className:G(o&&i.root.base,e),...r,children:t})},O$=({children:t,className:e,theme:n={},...r})=>{const i=ae(oe().theme.timeline.item,n),{horizontal:o}=wE();return E("li",{"data-testid":"timeline-item",className:G(o&&i.root.horizontal,!o&&i.root.vertical,e),...r,children:t})},A$=({children:t,className:e,icon:n,theme:r={},...i})=>{const o=ae(oe().theme.timeline.item.point,r),{horizontal:s}=wE();return ne("div",{"data-testid":"timeline-point",className:G(s&&o.horizontal,!s&&o.vertical,e),...i,children:[t,n?E("span",{className:G(o.marker.icon.wrapper),children:E(n,{"aria-hidden":!0,className:G(o.marker.icon.base)})}):E("div",{className:G(s&&o.marker.base.horizontal,!s&&o.marker.base.vertical)}),s&&E("div",{className:G(o.line)})]})},N$=({children:t,className:e,theme:n={},...r})=>{const i=ae(oe().theme.timeline.item.content,n).time;return E("time",{className:G(i,e),...r,children:t})},D$=({as:t="h3",children:e,className:n,theme:r={},...i})=>{const o=ae(oe().theme.timeline.item.content,r).title;return E(t,{className:G(o,n),...i,children:e})},M$=({children:t,className:e,horizontal:n,theme:r={},...i})=>{const o=ae(oe().theme.timeline,r);return E(R$.Provider,{value:{horizontal:n},children:E("ol",{"data-testid":"timeline-component",className:G(n&&o.root.direction.horizontal,!n&&o.root.direction.vertical,e),...i,children:t})})};M$.displayName="Timeline";O$.displayName="Timeline.Item";A$.displayName="Timeline.Point";P$.displayName="Timeline.Content";N$.displayName="Timeline.Time";D$.displayName="Timeline.Title";I$.displayName="Timeline.Body";Object.assign(M$,{Item:O$,Point:A$,Content:P$,Time:N$,Title:D$,Body:I$});const L$=w.createContext(void 0);function bZ(){const t=w.useContext(L$);if(!t)throw new Error("useToastContext should be used within the ToastContext provider!");return t}const $$=({className:t,onClick:e,theme:n={},xIcon:r=J6,...i})=>{const o=ae(oe().theme.toast.toggle,n),{duration:s,isClosed:a,isRemoved:l,setIsClosed:u,setIsRemoved:c}=bZ();return E("button",{"aria-label":"Close",onClick:h=>{e&&e(h),u(!a),setTimeout(()=>c(!l),s)},type:"button",className:G(o.base,t),...i,children:E(r,{"aria-hidden":!0,className:o.icon})})},wZ={75:"duration-75",100:"duration-100",150:"duration-150",200:"duration-200",300:"duration-300",500:"duration-500",700:"duration-700",1e3:"duration-1000"},F$=({children:t,className:e,duration:n=300,theme:r={},...i})=>{const[o,s]=w.useState(!1),[a,l]=w.useState(!1),u=ae(oe().theme.toast,r);return E(L$.Provider,{value:{duration:n,isClosed:o,isRemoved:a,setIsClosed:s,setIsRemoved:l},children:E("div",{"data-testid":"flowbite-toast",className:G(u.root.base,wZ[n],{[u.root.closed]:o},{[u.root.removed]:a},e),...i,children:t})})};F$.displayName="Toast";$$.displayName="Toast.Toggle";Object.assign(F$,{Toggle:$$});const _Z="EMAIL_KEY",EZ=()=>{const{authCurrent:t}=w.useContext(uE);return E(St,{children:ne("div",{className:"flex justify-between gap-2.5",children:[E(xZ,{}),t?ne("div",{className:"flex items-center gap-2.5 cursor-pointer hidden sm:flex",children:[E("p",{className:"text-white font-semibold",children:t.displayName}),E(Ck,{img:t.photoURL??"",rounded:!0})]}):E("div",{className:"flex items-center gap-2.5 cursor-pointer hidden sm:flex",onClick:async()=>{try{const n=await g9(Ep,KX);typeof n.user.email=="string"&&localStorage.setItem(_Z,n.user.email)}catch(n){console.log(n)}},children:E(Ck,{rounded:!0})})]})})},xZ=()=>{const t=bg(),[e,n]=w.useState(""),[r,i]=w.useTransition();return ne("div",{className:"max-w-[700px] bg-[rgba(255,255,255,0.1)] w-full flex min-h-[48px] px-5 gap-2.5 rounded-[20px]",children:[E("button",{className:"text-input",children:E(XX,{})}),E("input",{value:e,onChange:s=>{const a=s.target.value;n(a),i(()=>{t(_z(a))})},type:"text",className:"bg-transparent flex-grow outline-none text-input border-none focus:border-none focus:outline-none focus:ring-0 focus:shadow-none",placeholder:"Search, Songs, Genre, Album, Artists"})]})};function SZ(t){return Je({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504.971 359.029c9.373 9.373 9.373 24.569 0 33.941l-80 79.984c-15.01 15.01-40.971 4.49-40.971-16.971V416h-58.785a12.004 12.004 0 0 1-8.773-3.812l-70.556-75.596 53.333-57.143L352 336h32v-39.981c0-21.438 25.943-31.998 40.971-16.971l80 79.981zM12 176h84l52.781 56.551 53.333-57.143-70.556-75.596A11.999 11.999 0 0 0 122.785 96H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12zm372 0v39.984c0 21.46 25.961 31.98 40.971 16.971l80-79.984c9.373-9.373 9.373-24.569 0-33.941l-80-79.981C409.943 24.021 384 34.582 384 56.019V96h-58.785a12.004 12.004 0 0 0-8.773 3.812L96 336H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12h110.785c3.326 0 6.503-1.381 8.773-3.812L352 176h32z"}}]})(t)}function TZ(t){return Je({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200zm96-280v160c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h48c8.8 0 16 7.2 16 16zm-112 0v160c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h48c8.8 0 16 7.2 16 16z"}}]})(t)}function CZ(t){return Je({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M923 283.6a260.04 260.04 0 0 0-56.9-82.8 264.4 264.4 0 0 0-84-55.5A265.34 265.34 0 0 0 679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 0 0-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9z"}}]})(t)}function kZ(t){return Je({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-80 600c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V360c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v304zm224 0c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V360c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v304z"}}]})(t)}function IZ(t){return Je({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm144.1 454.9L437.7 677.8a8.02 8.02 0 0 1-12.7-6.5V353.7a8 8 0 0 1 12.7-6.5L656.1 506a7.9 7.9 0 0 1 0 12.9z"}}]})(t)}function RZ(t){return Je({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M347.6 528.95l383.2 301.02c14.25 11.2 35.2 1.1 35.2-16.95V210.97c0-18.05-20.95-28.14-35.2-16.94L347.6 495.05a21.53 21.53 0 0 0 0 33.9M330 864h-64a8 8 0 0 1-8-8V168a8 8 0 0 1 8-8h64a8 8 0 0 1 8 8v688a8 8 0 0 1-8 8"}}]})(t)}function PZ(t){return Je({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M676.4 528.95L293.2 829.97c-14.25 11.2-35.2 1.1-35.2-16.95V210.97c0-18.05 20.95-28.14 35.2-16.94l383.2 301.02a21.53 21.53 0 0 1 0 33.9M694 864h64a8 8 0 0 0 8-8V168a8 8 0 0 0-8-8h-64a8 8 0 0 0-8 8v688a8 8 0 0 0 8 8"}}]})(t)}function OZ(t){return Je({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M2 5h10v3l4-4-4-4v3h-12v6h2zM14 11h-10v-3l-4 4 4 4v-3h12v-6h-2z"}}]})(t)}var bs={},_E={},EE={},Sg={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Direction=void 0,function(e){e.Right="to right",e.Left="to left",e.Down="to bottom",e.Up="to top"}(t.Direction||(t.Direction={}))})(Sg);(function(t){var e=ie&&ie.__spreadArray||function(T,N,$){if($||arguments.length===2)for(var F=0,V=N.length,j;F<V;F++)(j||!(F in N))&&(j||(j=Array.prototype.slice.call(N,0,F)),j[F]=N[F]);return T.concat(j||Array.prototype.slice.call(N))};Object.defineProperty(t,"__esModule",{value:!0}),t.useThumbOverlap=t.assertUnreachable=t.voidFn=t.getTrackBackground=t.replaceAt=t.schd=t.translate=t.getClosestThumbIndex=t.translateThumbs=t.getPaddingAndBorder=t.getMargin=t.checkInitialOverlap=t.checkValuesAgainstBoundaries=t.checkBoundaries=t.isVertical=t.relativeValue=t.normalizeValue=t.isStepDivisible=t.isTouchEvent=t.getStepDecimals=void 0;var n=w,r=Sg,i=function(T){var N=T.toString().split(".")[1];return N?N.length:0};t.getStepDecimals=i;function o(T){return T.touches&&T.touches.length||T.changedTouches&&T.changedTouches.length}t.isTouchEvent=o;function s(T,N,$){var F=(N-T)/$,V=8,j=Number(F.toFixed(V));return parseInt(j.toString(),10)===j}t.isStepDivisible=s;function a(T,N,$,F,V,j,Q){var A=1e11;if(T=Math.round(T*A)/A,!j){var W=Q[N-1],U=Q[N+1];if(W&&W>T)return W;if(U&&U<T)return U}if(T>F)return F;if(T<$)return $;var q=Math.floor(T*A-$*A)%Math.floor(V*A),Z=Math.floor(T*A-Math.abs(q)),_e=q===0?T:Z/A,se=Math.abs(q/A)<V/2?_e:_e+V,Ee=(0,t.getStepDecimals)(V);return parseFloat(se.toFixed(Ee))}t.normalizeValue=a;function l(T,N,$){return(T-N)/($-N)}t.relativeValue=l;function u(T){return T===r.Direction.Up||T===r.Direction.Down}t.isVertical=u;function c(T,N,$){if(N>=$)throw new RangeError("min (".concat(N,") is equal/bigger than max (").concat($,")"));if(T<N)throw new RangeError("value (".concat(T,") is smaller than min (").concat(N,")"));if(T>$)throw new RangeError("value (".concat(T,") is bigger than max (").concat($,")"))}t.checkBoundaries=c;function d(T,N,$){return T<N?N:T>$?$:T}t.checkValuesAgainstBoundaries=d;function h(T){if(!(T.length<2)&&!T.slice(1).every(function(N,$){return T[$]<=N}))throw new RangeError("values={[".concat(T,"]} needs to be sorted when allowOverlap={false}"))}t.checkInitialOverlap=h;function f(T){var N=window.getComputedStyle(T);return{top:parseInt(N["margin-top"],10),bottom:parseInt(N["margin-bottom"],10),left:parseInt(N["margin-left"],10),right:parseInt(N["margin-right"],10)}}t.getMargin=f;function p(T){var N=window.getComputedStyle(T);return{top:parseInt(N["padding-top"],10)+parseInt(N["border-top-width"],10),bottom:parseInt(N["padding-bottom"],10)+parseInt(N["border-bottom-width"],10),left:parseInt(N["padding-left"],10)+parseInt(N["border-left-width"],10),right:parseInt(N["padding-right"],10)+parseInt(N["border-right-width"],10)}}t.getPaddingAndBorder=p;function m(T,N,$){var F=$?-1:1;T.forEach(function(V,j){return g(V,F*N[j].x,N[j].y)})}t.translateThumbs=m;function b(T,N,$,F){for(var V=0,j=P(T[0],N,$,F),Q=1;Q<T.length;Q++){var A=P(T[Q],N,$,F);A<j&&(j=A,V=Q)}return V}t.getClosestThumbIndex=b;function g(T,N,$){T.style.transform="translate(".concat(N,"px, ").concat($,"px)")}t.translate=g;var y=function(T){var N=[],$=null,F=function(){for(var V=[],j=0;j<arguments.length;j++)V[j]=arguments[j];N=V,!$&&($=requestAnimationFrame(function(){$=null,T.apply(void 0,N)}))};return F};t.schd=y;function v(T,N,$){var F=T.slice(0);return F[N]=$,F}t.replaceAt=v;function _(T){var N=T.values,$=T.colors,F=T.min,V=T.max,j=T.direction,Q=j===void 0?r.Direction.Right:j,A=T.rtl,W=A===void 0?!1:A;W&&Q===r.Direction.Right?Q=r.Direction.Left:W&&r.Direction.Left&&(Q=r.Direction.Right);var U=N.slice(0).sort(function(Z,_e){return Z-_e}).map(function(Z){return(Z-F)/(V-F)*100}),q=U.reduce(function(Z,_e,se){return"".concat(Z,", ").concat($[se]," ").concat(_e,"%, ").concat($[se+1]," ").concat(_e,"%")},"");return"linear-gradient(".concat(Q,", ").concat($[0]," 0%").concat(q,", ").concat($[$.length-1]," 100%)")}t.getTrackBackground=_;function S(){}t.voidFn=S;function C(T){throw new Error("Didn't expect to get here")}t.assertUnreachable=C;var I=function(T,N,$,F,V){V===void 0&&(V=function(Q){return Q});var j=Math.ceil(e([T],Array.from(T.children),!0).reduce(function(Q,A){var W=Math.ceil(A.getBoundingClientRect().width);if(A.innerText&&A.innerText.includes($)&&A.childElementCount===0){var U=A.cloneNode(!0);U.innerHTML=V(N.toFixed(F)),U.style.visibility="hidden",document.body.appendChild(U),W=Math.ceil(U.getBoundingClientRect().width),document.body.removeChild(U)}return W>Q?W:Q},T.getBoundingClientRect().width));return j},R=function(T,N,$,F,V,j,Q){Q===void 0&&(Q=function(U){return U});var A=[],W=function(U){var q=I($[U],F[U],V,j,Q),Z=N[U].x;N.forEach(function(_e,se){var Ee=_e.x,xe=I($[se],F[se],V,j,Q);U!==se&&(Z>=Ee&&Z<=Ee+xe||Z+q>=Ee&&Z+q<=Ee+xe)&&(A.includes(se)||(A.push(U),A.push(se),A=e(e([],A,!0),[U,se],!1),W(se)))})};return W(T),Array.from(new Set(A.sort()))},B=function(T,N,$,F,V,j){F===void 0&&(F=.1),V===void 0&&(V=" - "),j===void 0&&(j=function(se){return se});var Q=(0,t.getStepDecimals)(F),A=(0,n.useState)({}),W=A[0],U=A[1],q=(0,n.useState)(j(N[$].toFixed(Q))),Z=q[0],_e=q[1];return(0,n.useEffect)(function(){if(T){var se=T.getThumbs();if(se.length<1)return;var Ee={},xe=T.getOffsets(),gt=R($,xe,se,N,V,Q,j),dr=j(N[$].toFixed(Q));if(gt.length){var Kt=gt.reduce(function(Pn,Or,Ar,Ui){return Pn.length?e(e([],Pn,!0),[xe[Ui[Ar]].x],!1):[xe[Ui[Ar]].x]},[]);if(Math.min.apply(Math,Kt)===xe[$].x){var Ge=[];gt.forEach(function(Pn){Ge.push(N[Pn].toFixed(Q))}),dr=Array.from(new Set(Ge.sort(function(Pn,Or){return parseFloat(Pn)-parseFloat(Or)}))).map(j).join(V);var Ke=Math.min.apply(Math,Kt),En=Math.max.apply(Math,Kt),hr=se[gt[Kt.indexOf(En)]].getBoundingClientRect().width;Ee.left="".concat(Math.abs(Ke-(En+hr))/2,"px"),Ee.transform="translate(-50%, 0)"}else Ee.visibility="hidden"}_e(dr),U(Ee)}},[T,N]),[Z,W]};t.useThumbOverlap=B;function P(T,N,$,F){var V=T.getBoundingClientRect(),j=V.left,Q=V.top,A=V.width,W=V.height;return u(F)?Math.abs($-(Q+W/2)):Math.abs(N-(j+A/2))}})(EE);var AZ=ie&&ie.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),NZ=ie&&ie.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),DZ=ie&&ie.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),MZ=ie&&ie.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&NZ(e,t,n);return DZ(e,t),e},Bk=ie&&ie.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))};Object.defineProperty(_E,"__esModule",{value:!0});var yh=MZ(w),Le=EE,Ot=Sg,LZ=["ArrowRight","ArrowUp","k","PageUp"],$Z=["ArrowLeft","ArrowDown","j","PageDown"],FZ=function(t){AZ(e,t);function e(n){var r=t.call(this,n)||this;if(r.trackRef=yh.createRef(),r.thumbRefs=[],r.state={draggedTrackPos:[-1,-1],draggedThumbIndex:-1,thumbZIndexes:new Array(r.props.values.length).fill(0).map(function(i,o){return o}),isChanged:!1,markOffsets:[]},r.getOffsets=function(){var i=r.props,o=i.direction,s=i.values,a=i.min,l=i.max,u=r.trackRef.current,c=u.getBoundingClientRect(),d=(0,Le.getPaddingAndBorder)(u);return r.getThumbs().map(function(h,f){var p={x:0,y:0},m=h.getBoundingClientRect(),b=(0,Le.getMargin)(h);switch(o){case Ot.Direction.Right:return p.x=(b.left+d.left)*-1,p.y=((m.height-c.height)/2+d.top)*-1,p.x+=c.width*(0,Le.relativeValue)(s[f],a,l)-m.width/2,p;case Ot.Direction.Left:return p.x=(b.right+d.right)*-1,p.y=((m.height-c.height)/2+d.top)*-1,p.x+=c.width-c.width*(0,Le.relativeValue)(s[f],a,l)-m.width/2,p;case Ot.Direction.Up:return p.x=((m.width-c.width)/2+b.left+d.left)*-1,p.y=-d.left,p.y+=c.height-c.height*(0,Le.relativeValue)(s[f],a,l)-m.height/2,p;case Ot.Direction.Down:return p.x=((m.width-c.width)/2+b.left+d.left)*-1,p.y=-d.left,p.y+=c.height*(0,Le.relativeValue)(s[f],a,l)-m.height/2,p;default:return(0,Le.assertUnreachable)(o)}})},r.getThumbs=function(){return r.trackRef&&r.trackRef.current?Array.from(r.trackRef.current.children).filter(function(i){return i.hasAttribute("aria-valuenow")}):(console.warn("No thumbs found in the track container. Did you forget to pass & spread the `props` param in renderTrack?"),[])},r.getTargetIndex=function(i){return r.getThumbs().findIndex(function(o){return o===i.target||o.contains(i.target)})},r.addTouchEvents=function(i){document.addEventListener("touchmove",r.schdOnTouchMove,{passive:!1}),document.addEventListener("touchend",r.schdOnEnd,{passive:!1}),document.addEventListener("touchcancel",r.schdOnEnd,{passive:!1})},r.addMouseEvents=function(i){document.addEventListener("mousemove",r.schdOnMouseMove),document.addEventListener("mouseup",r.schdOnEnd)},r.onMouseDownTrack=function(i){var o;if(i.button===0)if(i.persist(),i.preventDefault(),r.addMouseEvents(i.nativeEvent),r.props.values.length>1&&r.props.draggableTrack){if(r.thumbRefs.some(function(a){var l;return(l=a.current)===null||l===void 0?void 0:l.contains(i.target)}))return;r.setState({draggedTrackPos:[i.clientX,i.clientY]},function(){return r.onMove(i.clientX,i.clientY)})}else{var s=(0,Le.getClosestThumbIndex)(r.thumbRefs.map(function(a){return a.current}),i.clientX,i.clientY,r.props.direction);(o=r.thumbRefs[s].current)===null||o===void 0||o.focus(),r.setState({draggedThumbIndex:s},function(){return r.onMove(i.clientX,i.clientY)})}},r.onResize=function(){(0,Le.translateThumbs)(r.getThumbs(),r.getOffsets(),r.props.rtl),r.calculateMarkOffsets()},r.onTouchStartTrack=function(i){var o;if(i.persist(),r.addTouchEvents(i.nativeEvent),r.props.values.length>1&&r.props.draggableTrack){if(r.thumbRefs.some(function(a){var l;return(l=a.current)===null||l===void 0?void 0:l.contains(i.target)}))return;r.setState({draggedTrackPos:[i.touches[0].clientX,i.touches[0].clientY]},function(){return r.onMove(i.touches[0].clientX,i.touches[0].clientY)})}else{var s=(0,Le.getClosestThumbIndex)(r.thumbRefs.map(function(a){return a.current}),i.touches[0].clientX,i.touches[0].clientY,r.props.direction);(o=r.thumbRefs[s].current)===null||o===void 0||o.focus(),r.setState({draggedThumbIndex:s},function(){return r.onMove(i.touches[0].clientX,i.touches[0].clientY)})}},r.onMouseOrTouchStart=function(i){if(!r.props.disabled){var o=(0,Le.isTouchEvent)(i);if(!(!o&&i.button!==0)){var s=r.getTargetIndex(i);s!==-1&&(o?r.addTouchEvents(i):r.addMouseEvents(i),r.setState({draggedThumbIndex:s,thumbZIndexes:r.state.thumbZIndexes.map(function(a,l){return l===s?Math.max.apply(Math,r.state.thumbZIndexes):a<=r.state.thumbZIndexes[s]?a:a-1})}))}}},r.onMouseMove=function(i){i.preventDefault(),r.onMove(i.clientX,i.clientY)},r.onTouchMove=function(i){i.preventDefault(),r.onMove(i.touches[0].clientX,i.touches[0].clientY)},r.onKeyDown=function(i){var o=r.props,s=o.values,a=o.onChange,l=o.step,u=o.rtl,c=o.direction,d=r.state.isChanged,h=r.getTargetIndex(i.nativeEvent),f=u||c===Ot.Direction.Left||c===Ot.Direction.Down?-1:1;h!==-1&&(LZ.includes(i.key)?(i.preventDefault(),r.setState({draggedThumbIndex:h,isChanged:!0}),a((0,Le.replaceAt)(s,h,r.normalizeValue(s[h]+f*(i.key==="PageUp"?l*10:l),h)))):$Z.includes(i.key)?(i.preventDefault(),r.setState({draggedThumbIndex:h,isChanged:!0}),a((0,Le.replaceAt)(s,h,r.normalizeValue(s[h]-f*(i.key==="PageDown"?l*10:l),h)))):i.key==="Tab"?r.setState({draggedThumbIndex:-1},function(){d&&r.fireOnFinalChange()}):d&&r.fireOnFinalChange())},r.onKeyUp=function(i){var o=r.state.isChanged;r.setState({draggedThumbIndex:-1},function(){o&&r.fireOnFinalChange()})},r.onMove=function(i,o){var s=r.state,a=s.draggedThumbIndex,l=s.draggedTrackPos,u=r.props,c=u.direction,d=u.min,h=u.max,f=u.onChange,p=u.values,m=u.step,b=u.rtl;if(a===-1&&l[0]===-1&&l[1]===-1)return null;var g=r.trackRef.current;if(!g)return null;var y=g.getBoundingClientRect(),v=(0,Le.isVertical)(c)?y.height:y.width;if(l[0]!==-1&&l[1]!==-1){var _=i-l[0],S=o-l[1],C=0;switch(c){case Ot.Direction.Right:case Ot.Direction.Left:C=_/v*(h-d);break;case Ot.Direction.Down:case Ot.Direction.Up:C=S/v*(h-d);break;default:(0,Le.assertUnreachable)(c)}if(b&&(C*=-1),Math.abs(C)>=m/2){for(var I=0;I<r.thumbRefs.length;I++){if(p[I]===h&&Math.sign(C)===1||p[I]===d&&Math.sign(C)===-1)return;var R=p[I]+C;R>h?C=h-p[I]:R<d&&(C=d-p[I])}for(var B=p.slice(0),I=0;I<r.thumbRefs.length;I++)B=(0,Le.replaceAt)(B,I,r.normalizeValue(p[I]+C,I));r.setState({draggedTrackPos:[i,o]}),f(B)}}else{var P=0;switch(c){case Ot.Direction.Right:P=(i-y.left)/v*(h-d)+d;break;case Ot.Direction.Left:P=(v-(i-y.left))/v*(h-d)+d;break;case Ot.Direction.Down:P=(o-y.top)/v*(h-d)+d;break;case Ot.Direction.Up:P=(v-(o-y.top))/v*(h-d)+d;break;default:(0,Le.assertUnreachable)(c)}b&&(P=h+d-P),Math.abs(p[a]-P)>=m/2&&f((0,Le.replaceAt)(p,a,r.normalizeValue(P,a)))}},r.normalizeValue=function(i,o){var s=r.props,a=s.min,l=s.max,u=s.step,c=s.allowOverlap,d=s.values;return(0,Le.normalizeValue)(i,o,a,l,u,c,d)},r.onEnd=function(i){if(i.preventDefault(),document.removeEventListener("mousemove",r.schdOnMouseMove),document.removeEventListener("touchmove",r.schdOnTouchMove),document.removeEventListener("mouseup",r.schdOnEnd),document.removeEventListener("touchend",r.schdOnEnd),document.removeEventListener("touchcancel",r.schdOnEnd),r.state.draggedThumbIndex===-1&&r.state.draggedTrackPos[0]===-1&&r.state.draggedTrackPos[1]===-1)return null;r.setState({draggedThumbIndex:-1,draggedTrackPos:[-1,-1]},function(){r.fireOnFinalChange()})},r.fireOnFinalChange=function(){r.setState({isChanged:!1});var i=r.props,o=i.onFinalChange,s=i.values;o&&o(s)},r.updateMarkRefs=function(i){if(!i.renderMark){r.numOfMarks=void 0,r.markRefs=void 0;return}r.numOfMarks=(i.max-i.min)/r.props.step,r.markRefs=[];for(var o=0;o<r.numOfMarks+1;o++)r.markRefs[o]=yh.createRef()},r.calculateMarkOffsets=function(){if(!(!r.props.renderMark||!r.trackRef||!r.numOfMarks||!r.markRefs||r.trackRef.current===null)){for(var i=window.getComputedStyle(r.trackRef.current),o=parseInt(i.width,10),s=parseInt(i.height,10),a=parseInt(i.paddingLeft,10),l=parseInt(i.paddingTop,10),u=[],c=0;c<r.numOfMarks+1;c++){var d=9999,h=9999;if(r.markRefs[c].current){var f=r.markRefs[c].current.getBoundingClientRect();d=f.height,h=f.width}r.props.direction===Ot.Direction.Left||r.props.direction===Ot.Direction.Right?u.push([Math.round(o/r.numOfMarks*c+a-h/2),-Math.round((d-s)/2)]):u.push([Math.round(s/r.numOfMarks*c+l-d/2),-Math.round((h-o)/2)])}r.setState({markOffsets:u})}},n.step===0)throw new Error('"step" property should be a positive number');return r.schdOnMouseMove=(0,Le.schd)(r.onMouseMove),r.schdOnTouchMove=(0,Le.schd)(r.onTouchMove),r.schdOnEnd=(0,Le.schd)(r.onEnd),r.thumbRefs=n.values.map(function(){return yh.createRef()}),r.updateMarkRefs(n),r}return e.prototype.componentDidMount=function(){var n=this,r=this.props,i=r.values,o=r.min,s=r.step;this.resizeObserver=window.ResizeObserver?new window.ResizeObserver(this.onResize):{observe:function(){return window.addEventListener("resize",n.onResize)},unobserve:function(){return window.removeEventListener("resize",n.onResize)}},document.addEventListener("touchstart",this.onMouseOrTouchStart,{passive:!1}),document.addEventListener("mousedown",this.onMouseOrTouchStart,{passive:!1}),!this.props.allowOverlap&&(0,Le.checkInitialOverlap)(this.props.values),this.props.values.forEach(function(a){return(0,Le.checkBoundaries)(a,n.props.min,n.props.max)}),this.resizeObserver.observe(this.trackRef.current),(0,Le.translateThumbs)(this.getThumbs(),this.getOffsets(),this.props.rtl),this.calculateMarkOffsets(),i.forEach(function(a){(0,Le.isStepDivisible)(o,a,s)||console.warn("The `values` property is in conflict with the current `step`, `min`, and `max` properties. Please provide values that are accessible using the min, max, and step values.")})},e.prototype.componentDidUpdate=function(n,r){var i=this.props,o=i.max,s=i.min,a=i.step,l=i.values,u=i.rtl;(n.max!==o||n.min!==s||n.step!==a)&&this.updateMarkRefs(this.props),(0,Le.translateThumbs)(this.getThumbs(),this.getOffsets(),u),(n.max!==o||n.min!==s||n.step!==a||r.markOffsets.length!==this.state.markOffsets.length)&&(this.calculateMarkOffsets(),l.forEach(function(c){(0,Le.isStepDivisible)(s,c,a)||console.warn("The `values` property is in conflict with the current `step`, `min`, and `max` properties. Please provide values that are accessible using the min, max, and step values.")}))},e.prototype.componentWillUnmount=function(){var n={passive:!1};document.removeEventListener("mousedown",this.onMouseOrTouchStart,n),document.removeEventListener("mousemove",this.schdOnMouseMove),document.removeEventListener("touchmove",this.schdOnTouchMove),document.removeEventListener("touchstart",this.onMouseOrTouchStart),document.removeEventListener("mouseup",this.schdOnEnd),document.removeEventListener("touchend",this.schdOnEnd),this.resizeObserver.unobserve(this.trackRef.current)},e.prototype.render=function(){var n=this,r=this.props,i=r.renderTrack,o=r.renderThumb,s=r.renderMark,a=s===void 0?function(){return null}:s,l=r.values,u=r.min,c=r.max,d=r.allowOverlap,h=r.disabled,f=this.state,p=f.draggedThumbIndex,m=f.thumbZIndexes,b=f.markOffsets;return i({props:{style:{transform:"scale(1)",cursor:p>-1?"grabbing":this.props.draggableTrack?(0,Le.isVertical)(this.props.direction)?"ns-resize":"ew-resize":l.length===1&&!h?"pointer":"inherit"},onMouseDown:h?Le.voidFn:this.onMouseDownTrack,onTouchStart:h?Le.voidFn:this.onTouchStartTrack,ref:this.trackRef},isDragged:this.state.draggedThumbIndex>-1,disabled:h,children:Bk(Bk([],b.map(function(g,y,v){return a({props:{style:n.props.direction===Ot.Direction.Left||n.props.direction===Ot.Direction.Right?{position:"absolute",left:"".concat(g[0],"px"),marginTop:"".concat(g[1],"px")}:{position:"absolute",top:"".concat(g[0],"px"),marginLeft:"".concat(g[1],"px")},key:"mark".concat(y),ref:n.markRefs[y]},index:y})}),!0),l.map(function(g,y){var v=n.state.draggedThumbIndex===y;return o({index:y,value:g,isDragged:v,props:{style:{position:"absolute",zIndex:m[y],cursor:h?"inherit":v?"grabbing":"grab",userSelect:"none",touchAction:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none"},key:y,tabIndex:h?void 0:0,"aria-valuemax":d?c:l[y+1]||c,"aria-valuemin":d?u:l[y-1]||u,"aria-valuenow":g,draggable:!1,ref:n.thumbRefs[y],role:"slider",onKeyDown:h?Le.voidFn:n.onKeyDown,onKeyUp:h?Le.voidFn:n.onKeyUp}})}),!0)})},e.defaultProps={step:1,direction:Ot.Direction.Right,rtl:!1,disabled:!1,allowOverlap:!1,draggableTrack:!1,min:0,max:100},e}(yh.Component);_E.default=FZ;(function(t){var e=ie&&ie.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(t,"__esModule",{value:!0}),t.checkValuesAgainstBoundaries=t.relativeValue=t.useThumbOverlap=t.Direction=t.getTrackBackground=t.Range=void 0;var n=e(_E);t.Range=n.default;var r=EE;Object.defineProperty(t,"getTrackBackground",{enumerable:!0,get:function(){return r.getTrackBackground}}),Object.defineProperty(t,"useThumbOverlap",{enumerable:!0,get:function(){return r.useThumbOverlap}}),Object.defineProperty(t,"relativeValue",{enumerable:!0,get:function(){return r.relativeValue}}),Object.defineProperty(t,"checkValuesAgainstBoundaries",{enumerable:!0,get:function(){return r.checkValuesAgainstBoundaries}});var i=Sg;Object.defineProperty(t,"Direction",{enumerable:!0,get:function(){return i.Direction}})})(bs);const j$=({values:t=[50],setValues:e,min:n=0,max:r=100,step:i=1})=>E(St,{children:E(bs.Range,{step:i,min:n,max:r,values:t,onChange:o=>e&&e(o),renderTrack:({props:o,children:s})=>E("div",{onMouseDown:o.onMouseDown,onTouchStart:o.onTouchStart,style:{...o.style,height:"5px",display:"flex",width:"100%"},children:E("div",{ref:o.ref,style:{height:"5px",width:"100%",borderRadius:"4px",background:bs.getTrackBackground({values:t,colors:["#EE4950","#E4E7E6"],min:n,max:r}),alignSelf:"center"},children:s})}),renderThumb:({props:o})=>E("div",{...o,style:{...o.style,height:"42px",width:"42px",backgroundColor:"#999",display:"none"}})})}),jc=t=>{const e=Math.floor(t/60),n=t%60;return`${e}:${n.toString().padStart(2,"0")}`},U$=w.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Tg=w.createContext({}),Cg=w.createContext(null),kg=typeof document<"u",Ip=kg?w.useLayoutEffect:w.useEffect,V$=w.createContext({strict:!1});function jZ(t,e,n,r){const{visualElement:i}=w.useContext(Tg),o=w.useContext(V$),s=w.useContext(Cg),a=w.useContext(U$).reducedMotion,l=w.useRef();r=r||o.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;return w.useInsertionEffect(()=>{u&&u.update(n,s)}),Ip(()=>{u&&u.render()}),w.useEffect(()=>{u&&u.updateFeatures()}),(window.HandoffAppearAnimations?Ip:w.useEffect)(()=>{u&&u.animationState&&u.animationState.animateChanges()}),u}function Ra(t){return typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function UZ(t,e,n){return w.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ra(n)&&(n.current=r))},[e])}function Uc(t){return typeof t=="string"||Array.isArray(t)}function Ig(t){return typeof t=="object"&&typeof t.start=="function"}const xE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],SE=["initial",...xE];function Rg(t){return Ig(t.animate)||SE.some(e=>Uc(t[e]))}function B$(t){return!!(Rg(t)||t.variants)}function VZ(t,e){if(Rg(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Uc(n)?n:void 0,animate:Uc(r)?r:void 0}}return t.inherit!==!1?e:{}}function BZ(t){const{initial:e,animate:n}=VZ(t,w.useContext(Tg));return w.useMemo(()=>({initial:e,animate:n}),[zk(e),zk(n)])}function zk(t){return Array.isArray(t)?t.join(" "):t}const Wk={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Vc={};for(const t in Wk)Vc[t]={isEnabled:e=>Wk[t].some(n=>!!e[n])};function zZ(t){for(const e in t)Vc[e]={...Vc[e],...t[e]}}function TE(t){const e=w.useRef(null);return e.current===null&&(e.current=t()),e.current}const zu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let WZ=1;function HZ(){return TE(()=>{if(zu.hasEverUpdated)return WZ++})}const CE=w.createContext({}),z$=w.createContext({}),qZ=Symbol.for("motionComponentSymbol");function GZ({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&zZ(t);function o(a,l){let u;const c={...w.useContext(U$),...a,layoutId:KZ(a)},{isStatic:d}=c,h=BZ(a),f=d?void 0:HZ(),p=r(a,d);if(!d&&kg){h.visualElement=jZ(i,p,c,e);const m=w.useContext(z$),b=w.useContext(V$).strict;h.visualElement&&(u=h.visualElement.loadFeatures(c,b,t,f,m))}return w.createElement(Tg.Provider,{value:h},u&&h.visualElement?w.createElement(u,{visualElement:h.visualElement,...c}):null,n(i,a,f,UZ(p,h.visualElement,l),p,d,h.visualElement))}const s=w.forwardRef(o);return s[qZ]=i,s}function KZ({layoutId:t}){const e=w.useContext(CE).id;return e&&t!==void 0?e+"-"+t:t}function QZ(t){function e(r,i={}){return GZ(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const YZ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function kE(t){return typeof t!="string"||t.includes("-")?!1:!!(YZ.indexOf(t)>-1||/[A-Z]/.test(t))}const Rp={};function XZ(t){Object.assign(Rp,t)}const Pg=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],na=new Set(Pg);function W$(t,{layout:e,layoutId:n}){return na.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Rp[t]||t==="opacity")}const Fn=t=>!!(t&&t.getVelocity),JZ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ZZ=Pg.length;function eee(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let o="";for(let s=0;s<ZZ;s++){const a=Pg[s];if(t[a]!==void 0){const l=JZ[a]||a;o+=`${l}(${t[a]}) `}}return e&&!t.z&&(o+="translateZ(0)"),o=o.trim(),i?o=i(t,r?"":o):n&&r&&(o="none"),o}const H$=t=>e=>typeof e=="string"&&e.startsWith(t),q$=H$("--"),Fb=H$("var(--"),tee=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ws=(t,e,n)=>Math.min(Math.max(n,t),e),ra={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Wu={...ra,transform:t=>Ws(0,1,t)},vh={...ra,default:1},Hu=t=>Math.round(t*1e5)/1e5,Bc=/(-)?([\d]*\.?[\d])+/g,jb=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,nee=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Rd(t){return typeof t=="string"}const Pd=t=>({test:e=>Rd(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Gi=Pd("deg"),Zr=Pd("%"),me=Pd("px"),ree=Pd("vh"),iee=Pd("vw"),Hk={...Zr,parse:t=>Zr.parse(t)/100,transform:t=>Zr.transform(t*100)},qk={...ra,transform:Math.round},G$={borderWidth:me,borderTopWidth:me,borderRightWidth:me,borderBottomWidth:me,borderLeftWidth:me,borderRadius:me,radius:me,borderTopLeftRadius:me,borderTopRightRadius:me,borderBottomRightRadius:me,borderBottomLeftRadius:me,width:me,maxWidth:me,height:me,maxHeight:me,size:me,top:me,right:me,bottom:me,left:me,padding:me,paddingTop:me,paddingRight:me,paddingBottom:me,paddingLeft:me,margin:me,marginTop:me,marginRight:me,marginBottom:me,marginLeft:me,rotate:Gi,rotateX:Gi,rotateY:Gi,rotateZ:Gi,scale:vh,scaleX:vh,scaleY:vh,scaleZ:vh,skew:Gi,skewX:Gi,skewY:Gi,distance:me,translateX:me,translateY:me,translateZ:me,x:me,y:me,z:me,perspective:me,transformPerspective:me,opacity:Wu,originX:Hk,originY:Hk,originZ:me,zIndex:qk,fillOpacity:Wu,strokeOpacity:Wu,numOctaves:qk};function IE(t,e,n,r){const{style:i,vars:o,transform:s,transformOrigin:a}=t;let l=!1,u=!1,c=!0;for(const d in e){const h=e[d];if(q$(d)){o[d]=h;continue}const f=G$[d],p=tee(h,f);if(na.has(d)){if(l=!0,s[d]=p,!c)continue;h!==(f.default||0)&&(c=!1)}else d.startsWith("origin")?(u=!0,a[d]=p):i[d]=p}if(e.transform||(l||r?i.transform=eee(t.transform,n,c,r):i.transform&&(i.transform="none")),u){const{originX:d="50%",originY:h="50%",originZ:f=0}=a;i.transformOrigin=`${d} ${h} ${f}`}}const RE=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function K$(t,e,n){for(const r in e)!Fn(e[r])&&!W$(r,n)&&(t[r]=e[r])}function oee({transformTemplate:t},e,n){return w.useMemo(()=>{const r=RE();return IE(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function see(t,e,n){const r=t.style||{},i={};return K$(i,r,t),Object.assign(i,oee(t,e,n)),t.transformValues?t.transformValues(i):i}function aee(t,e,n){const r={},i=see(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const lee=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function Pp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||lee.has(t)}let Q$=t=>!Pp(t);function uee(t){t&&(Q$=e=>e.startsWith("on")?!Pp(e):t(e))}try{uee(require("@emotion/is-prop-valid").default)}catch{}function cee(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(Q$(i)||n===!0&&Pp(i)||!e&&!Pp(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function Gk(t,e,n){return typeof t=="string"?t:me.transform(e+n*t)}function dee(t,e,n){const r=Gk(e,t.x,t.width),i=Gk(n,t.y,t.height);return`${r} ${i}`}const hee={offset:"stroke-dashoffset",array:"stroke-dasharray"},fee={offset:"strokeDashoffset",array:"strokeDasharray"};function pee(t,e,n=1,r=0,i=!0){t.pathLength=1;const o=i?hee:fee;t[o.offset]=me.transform(-r);const s=me.transform(e),a=me.transform(n);t[o.array]=`${s} ${a}`}function PE(t,{attrX:e,attrY:n,originX:r,originY:i,pathLength:o,pathSpacing:s=1,pathOffset:a=0,...l},u,c,d){if(IE(t,l,u,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:f,dimensions:p}=t;h.transform&&(p&&(f.transform=h.transform),delete h.transform),p&&(r!==void 0||i!==void 0||f.transform)&&(f.transformOrigin=dee(p,r!==void 0?r:.5,i!==void 0?i:.5)),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),o!==void 0&&pee(h,o,s,a,!1)}const Y$=()=>({...RE(),attrs:{}}),OE=t=>typeof t=="string"&&t.toLowerCase()==="svg";function mee(t,e,n,r){const i=w.useMemo(()=>{const o=Y$();return PE(o,e,{enableHardwareAcceleration:!1},OE(r),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};K$(o,t.style,t),i.style={...o,...i.style}}return i}function gee(t=!1){return(n,r,i,o,{latestValues:s},a)=>{const u=(kE(n)?mee:aee)(r,s,a,n),d={...cee(r,typeof n=="string",t),...u,ref:o},{children:h}=r,f=w.useMemo(()=>Fn(h)?h.get():h,[h]);return i&&(d["data-projection-id"]=i),w.createElement(n,{...d,children:f})}}const AE=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function X$(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}const J$=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Z$(t,e,n,r){X$(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(J$.has(i)?i:AE(i),e.attrs[i])}function NE(t,e){const{style:n}=t,r={};for(const i in n)(Fn(n[i])||e.style&&Fn(e.style[i])||W$(i,t))&&(r[i]=n[i]);return r}function eF(t,e){const n=NE(t,e);for(const r in t)if(Fn(t[r])||Fn(e[r])){const i=r==="x"||r==="y"?"attr"+r.toUpperCase():r;n[i]=t[r]}return n}function DE(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}const Op=t=>Array.isArray(t),yee=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),vee=t=>Op(t)?t[t.length-1]||0:t;function tf(t){const e=Fn(t)?t.get():t;return yee(e)?e.toValue():e}function bee({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,o){const s={latestValues:wee(r,i,o,t),renderState:e()};return n&&(s.mount=a=>n(r,a,s)),s}const tF=t=>(e,n)=>{const r=w.useContext(Tg),i=w.useContext(Cg),o=()=>bee(t,e,r,i);return n?o():TE(o)};function wee(t,e,n,r){const i={},o=r(t,{});for(const h in o)i[h]=tf(o[h]);let{initial:s,animate:a}=t;const l=Rg(t),u=B$(t);e&&u&&!l&&t.inherit!==!1&&(s===void 0&&(s=e.initial),a===void 0&&(a=e.animate));let c=n?n.initial===!1:!1;c=c||s===!1;const d=c?a:s;return d&&typeof d!="boolean"&&!Ig(d)&&(Array.isArray(d)?d:[d]).forEach(f=>{const p=DE(t,f);if(!p)return;const{transitionEnd:m,transition:b,...g}=p;for(const y in g){let v=g[y];if(Array.isArray(v)){const _=c?v.length-1:0;v=v[_]}v!==null&&(i[y]=v)}for(const y in m)i[y]=m[y]}),i}const _ee={useVisualState:tF({scrapeMotionValuesFromProps:eF,createRenderState:Y$,onMount:(t,e,{renderState:n,latestValues:r})=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}PE(n,r,{enableHardwareAcceleration:!1},OE(e.tagName),t.transformTemplate),Z$(e,n)}})},Eee={useVisualState:tF({scrapeMotionValuesFromProps:NE,createRenderState:RE})};function xee(t,{forwardMotionProps:e=!1},n,r){return{...kE(t)?_ee:Eee,preloadedFeatures:n,useRender:gee(e),createVisualElement:r,Component:t}}function mi(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const nF=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Og(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const See=t=>e=>nF(e)&&t(e,Og(e));function wi(t,e,n,r){return mi(t,e,See(n),r)}const Tee=(t,e)=>n=>e(t(n)),Io=(...t)=>t.reduce(Tee);function rF(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const Kk=rF("dragHorizontal"),Qk=rF("dragVertical");function iF(t){let e=!1;if(t==="y")e=Qk();else if(t==="x")e=Kk();else{const n=Kk(),r=Qk();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function oF(){const t=iF(!0);return t?(t(),!1):!0}class Yo{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Cee(t){let e=[],n=[],r=0,i=!1,o=!1;const s=new WeakSet,a={schedule:(l,u=!1,c=!1)=>{const d=c&&i,h=d?e:n;return u&&s.add(l),h.indexOf(l)===-1&&(h.push(l),d&&i&&(r=e.length)),l},cancel:l=>{const u=n.indexOf(l);u!==-1&&n.splice(u,1),s.delete(l)},process:l=>{if(i){o=!0;return}if(i=!0,[e,n]=[n,e],n.length=0,r=e.length,r)for(let u=0;u<r;u++){const c=e[u];c(l),s.has(c)&&(a.schedule(c),t())}i=!1,o&&(o=!1,a.process(l))}};return a}const mn={delta:0,timestamp:0,isProcessing:!1},kee=40;let Ub=!0,zc=!1;const Od=["read","update","preRender","render","postRender"],Ag=Od.reduce((t,e)=>(t[e]=Cee(()=>zc=!0),t),{}),ct=Od.reduce((t,e)=>{const n=Ag[e];return t[e]=(r,i=!1,o=!1)=>(zc||Ree(),n.schedule(r,i,o)),t},{}),Bo=Od.reduce((t,e)=>(t[e]=Ag[e].cancel,t),{}),s0=Od.reduce((t,e)=>(t[e]=()=>Ag[e].process(mn),t),{}),Iee=t=>Ag[t].process(mn),sF=t=>{zc=!1,mn.delta=Ub?1e3/60:Math.max(Math.min(t-mn.timestamp,kee),1),mn.timestamp=t,mn.isProcessing=!0,Od.forEach(Iee),mn.isProcessing=!1,zc&&(Ub=!1,requestAnimationFrame(sF))},Ree=()=>{zc=!0,Ub=!0,mn.isProcessing||requestAnimationFrame(sF)};function Yk(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(o,s)=>{if(o.type==="touch"||oF())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&ct.update(()=>a[r](o,s))};return wi(t.current,n,i,{passive:!t.getProps()[r]})}class Pee extends Yo{mount(){this.unmount=Io(Yk(this.node,!0),Yk(this.node,!1))}unmount(){}}class Oee extends Yo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Io(mi(this.node.current,"focus",()=>this.onFocus()),mi(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const aF=(t,e)=>e?t===e?!0:aF(t,e.parentElement):!1,Wt=t=>t;function a0(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Og(n))}class Aee extends Yo{constructor(){super(...arguments),this.removeStartListeners=Wt,this.removeEndListeners=Wt,this.removeAccessibleListeners=Wt,this.startPointerPress=(e,n)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),o=wi(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:c}=this.node.getProps();ct.update(()=>{aF(this.node.current,a.target)?u&&u(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),s=wi(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Io(o,s),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=o=>{if(o.key!=="Enter"||this.isPressing)return;const s=a=>{a.key!=="Enter"||!this.checkPressEnd()||a0("up",(l,u)=>{const{onTap:c}=this.node.getProps();c&&ct.update(()=>c(l,u))})};this.removeEndListeners(),this.removeEndListeners=mi(this.node.current,"keyup",s),a0("down",(a,l)=>{this.startPress(a,l)})},n=mi(this.node.current,"keydown",e),r=()=>{this.isPressing&&a0("cancel",(o,s)=>this.cancelPress(o,s))},i=mi(this.node.current,"blur",r);this.removeAccessibleListeners=Io(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&ct.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!oF()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&ct.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=wi(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=mi(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Io(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Vb=new WeakMap,l0=new WeakMap,Nee=t=>{const e=Vb.get(t.target);e&&e(t)},Dee=t=>{t.forEach(Nee)};function Mee({root:t,...e}){const n=t||document;l0.has(n)||l0.set(n,{});const r=l0.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(Dee,{root:t,...e})),r[i]}function Lee(t,e,n){const r=Mee(e);return Vb.set(t,n),r.observe(t),()=>{Vb.delete(t),r.unobserve(t)}}const $ee={some:0,all:1};class Fee extends Yo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=e,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:$ee[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:d}=this.node.getProps(),h=u?c:d;h&&h(l)};return Lee(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(jee(e,n))&&this.startObserver()}unmount(){}}function jee({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Uee={inView:{Feature:Fee},tap:{Feature:Aee},focus:{Feature:Oee},hover:{Feature:Pee}};function lF(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Vee(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function Bee(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Ng(t,e,n){const r=t.getProps();return DE(r,e,n!==void 0?n:r.custom,Vee(t),Bee(t))}const zee="framerAppearId",Wee="data-"+AE(zee);let Hee=Wt,ME=Wt;const Ro=t=>t*1e3,_i=t=>t/1e3,qee={current:!1},uF=t=>Array.isArray(t)&&typeof t[0]=="number";function cF(t){return!!(!t||typeof t=="string"&&dF[t]||uF(t)||Array.isArray(t)&&t.every(cF))}const vu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,dF={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:vu([0,.65,.55,1]),circOut:vu([.55,0,1,.45]),backIn:vu([.31,.01,.66,-.59]),backOut:vu([.33,1.53,.69,.99])};function hF(t){if(t)return uF(t)?vu(t):Array.isArray(t)?t.map(hF):dF[t]}function Gee(t,e,n,{delay:r=0,duration:i,repeat:o=0,repeatType:s="loop",ease:a,times:l}={}){const u={[e]:n};l&&(u.offset=l);const c=hF(a);return Array.isArray(c)&&(u.easing=c),t.animate(u,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:o+1,direction:s==="reverse"?"alternate":"normal"})}const Xk={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},u0={},fF={};for(const t in Xk)fF[t]=()=>(u0[t]===void 0&&(u0[t]=Xk[t]()),u0[t]);function Kee(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const pF=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Qee=1e-7,Yee=12;function Xee(t,e,n,r,i){let o,s,a=0;do s=e+(n-e)/2,o=pF(s,r,i)-t,o>0?n=s:e=s;while(Math.abs(o)>Qee&&++a<Yee);return s}function Ad(t,e,n,r){if(t===e&&n===r)return Wt;const i=o=>Xee(o,0,1,t,n);return o=>o===0||o===1?o:pF(i(o),e,r)}const Jee=Ad(.42,0,1,1),Zee=Ad(0,0,.58,1),mF=Ad(.42,0,.58,1),ete=t=>Array.isArray(t)&&typeof t[0]!="number",gF=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,yF=t=>e=>1-t(1-e),vF=t=>1-Math.sin(Math.acos(t)),LE=yF(vF),tte=gF(LE),bF=Ad(.33,1.53,.69,.99),$E=yF(bF),nte=gF($E),rte=t=>(t*=2)<1?.5*$E(t):.5*(2-Math.pow(2,-10*(t-1))),ite={linear:Wt,easeIn:Jee,easeInOut:mF,easeOut:Zee,circIn:vF,circInOut:tte,circOut:LE,backIn:$E,backInOut:nte,backOut:bF,anticipate:rte},Jk=t=>{if(Array.isArray(t)){ME(t.length===4);const[e,n,r,i]=t;return Ad(e,n,r,i)}else if(typeof t=="string")return ite[t];return t},FE=(t,e)=>n=>!!(Rd(n)&&nee.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),wF=(t,e,n)=>r=>{if(!Rd(r))return r;const[i,o,s,a]=r.match(Bc);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},ote=t=>Ws(0,255,t),c0={...ra,transform:t=>Math.round(ote(t))},ws={test:FE("rgb","red"),parse:wF("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+c0.transform(t)+", "+c0.transform(e)+", "+c0.transform(n)+", "+Hu(Wu.transform(r))+")"};function ste(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Bb={test:FE("#"),parse:ste,transform:ws.transform},Pa={test:FE("hsl","hue"),parse:wF("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Zr.transform(Hu(e))+", "+Zr.transform(Hu(n))+", "+Hu(Wu.transform(r))+")"},xn={test:t=>ws.test(t)||Bb.test(t)||Pa.test(t),parse:t=>ws.test(t)?ws.parse(t):Pa.test(t)?Pa.parse(t):Bb.parse(t),transform:t=>Rd(t)?t:t.hasOwnProperty("red")?ws.transform(t):Pa.transform(t)},ft=(t,e,n)=>-n*t+n*e+t;function d0(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function ate({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,o=0,s=0;if(!e)i=o=s=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=d0(l,a,t+1/3),o=d0(l,a,t),s=d0(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(s*255),alpha:r}}const h0=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},lte=[Bb,ws,Pa],ute=t=>lte.find(e=>e.test(t));function Zk(t){const e=ute(t);let n=e.parse(t);return e===Pa&&(n=ate(n)),n}const _F=(t,e)=>{const n=Zk(t),r=Zk(e),i={...n};return o=>(i.red=h0(n.red,r.red,o),i.green=h0(n.green,r.green,o),i.blue=h0(n.blue,r.blue,o),i.alpha=ft(n.alpha,r.alpha,o),ws.transform(i))},EF="${c}",xF="${n}";function cte(t){var e,n;return isNaN(t)&&Rd(t)&&(((e=t.match(Bc))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(jb))===null||n===void 0?void 0:n.length)||0)>0}function Ap(t){typeof t=="number"&&(t=`${t}`);const e=[];let n=0,r=0;const i=t.match(jb);i&&(n=i.length,t=t.replace(jb,EF),e.push(...i.map(xn.parse)));const o=t.match(Bc);return o&&(r=o.length,t=t.replace(Bc,xF),e.push(...o.map(ra.parse))),{values:e,numColors:n,numNumbers:r,tokenised:t}}function SF(t){return Ap(t).values}function TF(t){const{values:e,numColors:n,tokenised:r}=Ap(t),i=e.length;return o=>{let s=r;for(let a=0;a<i;a++)s=s.replace(a<n?EF:xF,a<n?xn.transform(o[a]):Hu(o[a]));return s}}const dte=t=>typeof t=="number"?0:t;function hte(t){const e=SF(t);return TF(t)(e.map(dte))}const zo={test:cte,parse:SF,createTransformer:TF,getAnimatableNone:hte};function CF(t,e){return typeof t=="number"?n=>ft(t,e,n):xn.test(t)?_F(t,e):IF(t,e)}const kF=(t,e)=>{const n=[...t],r=n.length,i=t.map((o,s)=>CF(o,e[s]));return o=>{for(let s=0;s<r;s++)n[s]=i[s](o);return n}},fte=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=CF(t[i],e[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}},IF=(t,e)=>{const n=zo.createTransformer(e),r=Ap(t),i=Ap(e);return r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Io(kF(r.values,i.values),n):s=>`${s>0?e:t}`},Wc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},eI=(t,e)=>n=>ft(t,e,n);function pte(t){return typeof t=="number"?eI:typeof t=="string"?xn.test(t)?_F:IF:Array.isArray(t)?kF:typeof t=="object"?fte:eI}function mte(t,e,n){const r=[],i=n||pte(t[0]),o=t.length-1;for(let s=0;s<o;s++){let a=i(t[s],t[s+1]);if(e){const l=Array.isArray(e)?e[s]||Wt:e;a=Io(l,a)}r.push(a)}return r}function RF(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;if(ME(o===e.length),o===1)return()=>e[0];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const s=mte(e,r,i),a=s.length,l=u=>{let c=0;if(a>1)for(;c<t.length-2&&!(u<t[c+1]);c++);const d=Wc(t[c],t[c+1],u);return s[c](d)};return n?u=>l(Ws(t[0],t[o-1],u)):l}function gte(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Wc(0,e,r);t.push(ft(n,1,i))}}function yte(t){const e=[0];return gte(e,t.length-1),e}function vte(t,e){return t.map(n=>n*e)}function bte(t,e){return t.map(()=>e||mF).splice(0,t.length-1)}function Np({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=ete(r)?r.map(Jk):Jk(r),o={done:!1,value:e[0]},s=vte(n&&n.length===e.length?n:yte(e),t),a=RF(s,e,{ease:Array.isArray(i)?i:bte(e,i)});return{calculatedDuration:t,next:l=>(o.value=a(l),o.done=l>=t,o)}}function PF(t,e){return e?t*(1e3/e):0}const wte=5;function OF(t,e,n){const r=Math.max(e-wte,0);return PF(n-t(r),e-r)}const f0=.001,_te=.01,tI=10,Ete=.05,xte=1;function Ste({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,o;Hee(t<=Ro(tI));let s=1-e;s=Ws(Ete,xte,s),t=Ws(_te,tI,_i(t)),s<1?(i=u=>{const c=u*s,d=c*t,h=c-n,f=zb(u,s),p=Math.exp(-d);return f0-h/f*p},o=u=>{const d=u*s*t,h=d*n+n,f=Math.pow(s,2)*Math.pow(u,2)*t,p=Math.exp(-d),m=zb(Math.pow(u,2),s);return(-i(u)+f0>0?-1:1)*((h-f)*p)/m}):(i=u=>{const c=Math.exp(-u*t),d=(u-n)*t+1;return-f0+c*d},o=u=>{const c=Math.exp(-u*t),d=(n-u)*(t*t);return c*d});const a=5/t,l=Cte(i,o,a);if(t=Ro(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:s*2*Math.sqrt(r*u),duration:t}}}const Tte=12;function Cte(t,e,n){let r=n;for(let i=1;i<Tte;i++)r=r-t(r)/e(r);return r}function zb(t,e){return t*Math.sqrt(1-e*e)}const kte=["duration","bounce"],Ite=["stiffness","damping","mass"];function nI(t,e){return e.some(n=>t[n]!==void 0)}function Rte(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!nI(t,Ite)&&nI(t,kte)){const n=Ste(t);e={...e,...n,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}function AF({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],o=t[t.length-1],s={done:!1,value:i},{stiffness:a,damping:l,mass:u,velocity:c,duration:d,isResolvedFromDuration:h}=Rte(r),f=c?-_i(c):0,p=l/(2*Math.sqrt(a*u)),m=o-i,b=_i(Math.sqrt(a/u)),g=Math.abs(m)<5;n||(n=g?.01:2),e||(e=g?.005:.5);let y;if(p<1){const v=zb(b,p);y=_=>{const S=Math.exp(-p*b*_);return o-S*((f+p*b*m)/v*Math.sin(v*_)+m*Math.cos(v*_))}}else if(p===1)y=v=>o-Math.exp(-b*v)*(m+(f+b*m)*v);else{const v=b*Math.sqrt(p*p-1);y=_=>{const S=Math.exp(-p*b*_),C=Math.min(v*_,300);return o-S*((f+p*b*m)*Math.sinh(C)+v*m*Math.cosh(C))/v}}return{calculatedDuration:h&&d||null,next:v=>{const _=y(v);if(h)s.done=v>=d;else{let S=f;v!==0&&(p<1?S=OF(y,v,_):S=0);const C=Math.abs(S)<=n,I=Math.abs(o-_)<=e;s.done=C&&I}return s.value=s.done?o:_,s}}}function rI({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:s,min:a,max:l,restDelta:u=.5,restSpeed:c}){const d=t[0],h={done:!1,value:d},f=R=>a!==void 0&&R<a||l!==void 0&&R>l,p=R=>a===void 0?l:l===void 0||Math.abs(a-R)<Math.abs(l-R)?a:l;let m=n*e;const b=d+m,g=s===void 0?b:s(b);g!==b&&(m=g-d);const y=R=>-m*Math.exp(-R/r),v=R=>g+y(R),_=R=>{const B=y(R),P=v(R);h.done=Math.abs(B)<=u,h.value=h.done?g:P};let S,C;const I=R=>{f(h.value)&&(S=R,C=AF({keyframes:[h.value,p(h.value)],velocity:OF(v,R,h.value),damping:i,stiffness:o,restDelta:u,restSpeed:c}))};return I(0),{calculatedDuration:null,next:R=>{let B=!1;return!C&&S===void 0&&(B=!0,_(R),I(R)),S!==void 0&&R>S?C.next(R-S):(!B&&_(R),h)}}}const Pte=t=>{const e=({timestamp:n})=>t(n);return{start:()=>ct.update(e,!0),stop:()=>Bo.update(e),now:()=>mn.isProcessing?mn.timestamp:performance.now()}},Ote={decay:rI,inertia:rI,tween:Np,keyframes:Np,spring:AF},iI=2e4;function oI(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<iI;)e+=n,r=t.next(e);return e>=iI?1/0:e}function Dp({autoplay:t=!0,delay:e=0,driver:n=Pte,keyframes:r,type:i="keyframes",repeat:o=0,repeatDelay:s=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:c,onUpdate:d,...h}){let f=1,p=!1,m,b;const g=()=>{m&&m(),b=new Promise(q=>{m=q})};g();let y;const v=Ote[i]||Np;let _;v!==Np&&typeof r[0]!="number"&&(_=RF([0,100],r,{clamp:!1}),r=[0,100]);const S=v({...h,keyframes:r});let C;a==="mirror"&&(C=v({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let I="idle",R=null,B=null,P=null;S.calculatedDuration===null&&o&&(S.calculatedDuration=oI(S));const{calculatedDuration:T}=S;let N=1/0,$=1/0;T!==null&&(N=T+s,$=N*(o+1)-s);let F=0;const V=q=>{if(B===null)return;f>0&&(B=Math.min(B,q)),R!==null?F=R:F=(q-B)*f;const Z=F-e,_e=Z<0;F=Math.max(Z,0),I==="finished"&&R===null&&(F=$);let se=F,Ee=S;if(o){const Kt=F/N;let Ge=Math.floor(Kt),Ke=Kt%1;!Ke&&Kt>=1&&(Ke=1),Ke===1&&Ge--,Ge=Math.min(Ge,o+1);const En=!!(Ge%2);En&&(a==="reverse"?(Ke=1-Ke,s&&(Ke-=s/N)):a==="mirror"&&(Ee=C));let hr=Ws(0,1,Ke);F>$&&(hr=a==="reverse"&&En?1:0),se=hr*N}const xe=_e?{done:!1,value:r[0]}:Ee.next(se);_&&(xe.value=_(xe.value));let{done:gt}=xe;!_e&&T!==null&&(gt=F>=$);const dr=R===null&&(I==="finished"||I==="running"&&gt||f<0&&F<=0);return d&&d(xe.value),dr&&A(),xe},j=()=>{y&&y.stop(),y=void 0},Q=()=>{I="idle",j(),g(),B=P=null},A=()=>{I="finished",c&&c(),j(),g()},W=()=>{if(p)return;y||(y=n(V));const q=y.now();l&&l(),I="running",R!==null?B=q-R:B||(B=q),P=B,R=null,y.start()};t&&W();const U={then(q,Z){return b.then(q,Z)},get time(){return _i(F)},set time(q){q=Ro(q),F=q,R!==null||!y||f===0?R=q:B=y.now()-q/f},get duration(){const q=S.calculatedDuration===null?oI(S):S.calculatedDuration;return _i(q)},get speed(){return f},set speed(q){q===f||!y||(f=q,U.time=_i(F))},get state(){return I},play:W,pause:()=>{I="paused",R=F},stop:()=>{p=!0,I!=="idle"&&(I="idle",u&&u(),Q())},cancel:()=>{P!==null&&V(P),Q()},complete:()=>{I="finished"},sample:q=>(B=0,V(q))};return U}const Ate=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),bh=10,Nte=2e4,Dte=(t,e)=>e.type==="spring"||t==="backgroundColor"||!cF(e.ease);function Mte(t,e,{onUpdate:n,onComplete:r,...i}){if(!(fF.waapi()&&Ate.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let s=!1,a,l;const u=()=>{l=new Promise(m=>{a=m})};u();let{keyframes:c,duration:d=300,ease:h}=i;if(Dte(e,i)){const m=Dp({...i,repeat:0,delay:0});let b={done:!1,value:c[0]};const g=[];let y=0;for(;!b.done&&y<Nte;)b=m.sample(y),g.push(b.value),y+=bh;c=g,d=y-bh,h="linear"}const f=Gee(t.owner.current,e,c,{...i,duration:d,ease:h}),p=()=>{ct.update(()=>f.cancel()),a(),u()};return f.onfinish=()=>{t.set(Kee(c,i)),r&&r(),p()},{then(m,b){return l.then(m,b)},get time(){return _i(f.currentTime||0)},set time(m){f.currentTime=Ro(m)},get speed(){return f.playbackRate},set speed(m){f.playbackRate=m},get duration(){return _i(d)},play:()=>{s||f.play()},pause:()=>f.pause(),stop:()=>{if(s=!0,f.playState==="idle")return;const{currentTime:m}=f;if(m){const b=Dp({...i,autoplay:!1});t.setWithVelocity(b.sample(m-bh).value,b.sample(m).value,bh)}p()},complete:()=>f.finish(),cancel:p}}function Lte({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Wt,pause:Wt,stop:Wt,then:o=>(o(),Promise.resolve()),cancel:Wt,complete:Wt});return e?Dp({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const $te={type:"spring",stiffness:500,damping:25,restSpeed:10},Fte=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),jte={type:"keyframes",duration:.8},Ute={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Vte=(t,{keyframes:e})=>e.length>2?jte:na.has(t)?t.startsWith("scale")?Fte(e[1]):$te:Ute,Wb=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&zo.test(e)&&!e.startsWith("url(")),Bte=new Set(["brightness","contrast","saturate","opacity"]);function zte(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Bc)||[];if(!r)return t;const i=n.replace(r,"");let o=Bte.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const Wte=/([a-z-]*)\(.*?\)/g,Hb={...zo,getAnimatableNone:t=>{const e=t.match(Wte);return e?e.map(zte).join(" "):t}},Hte={...G$,color:xn,backgroundColor:xn,outlineColor:xn,fill:xn,stroke:xn,borderColor:xn,borderTopColor:xn,borderRightColor:xn,borderBottomColor:xn,borderLeftColor:xn,filter:Hb,WebkitFilter:Hb},jE=t=>Hte[t];function UE(t,e){let n=jE(t);return n!==Hb&&(n=zo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}function qte({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:s,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}function sI(t){return t===0||typeof t=="string"&&parseFloat(t)===0&&t.indexOf(" ")===-1}function aI(t){return typeof t=="number"?0:UE("",t)}function NF(t,e){return t[e]||t.default||t}function Gte(t,e,n,r){const i=Wb(e,n);let o=r.from!==void 0?r.from:t.get();if(o==="none"&&i&&typeof n=="string"?o=UE(e,n):sI(o)&&typeof n=="string"?o=aI(n):!Array.isArray(n)&&sI(n)&&typeof o=="string"&&(n=aI(o)),Array.isArray(n)){for(let s=0;s<n.length;s++)n[s]===null&&(n[s]=s===0?o:n[s-1]);return n}else return[o,n]}const VE=(t,e,n,r={})=>i=>{const o=NF(r,t)||{},s=o.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Ro(s);const l=Gte(e,t,n,o),u=l[0],c=l[l.length-1],d=Wb(t,u),h=Wb(t,c);let f={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...o,delay:-a,onUpdate:p=>{e.set(p),o.onUpdate&&o.onUpdate(p)},onComplete:()=>{i(),o.onComplete&&o.onComplete()}};if(qte(o)||(f={...f,...Vte(t,f)}),f.duration&&(f.duration=Ro(f.duration)),f.repeatDelay&&(f.repeatDelay=Ro(f.repeatDelay)),!d||!h||qee.current||o.type===!1)return Lte(f);if(e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const p=Mte(e,t,f);if(p)return p}return Dp(f)};function Mp(t){return!!(Fn(t)&&t.add)}const Kte=t=>/^\-?\d*\.?\d+$/.test(t),Qte=t=>/^0[^.\s]+$/.test(t);function BE(t,e){t.indexOf(e)===-1&&t.push(e)}function zE(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class WE{constructor(){this.subscriptions=[]}add(e){return BE(this.subscriptions,e),()=>zE(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let o=0;o<i;o++){const s=this.subscriptions[o];s&&s(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Yte=t=>!isNaN(parseFloat(t));class Xte{constructor(e,n={}){this.version="10.10.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:o,timestamp:s}=mn;this.lastUpdated!==s&&(this.timeDelta=o,this.lastUpdated=s,ct.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ct.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=Yte(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new WE);const r=this.events[e].add(n);return e==="change"?()=>{r(),ct.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?PF(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function vl(t,e){return new Xte(t,e)}const DF=t=>e=>e.test(t),Jte={test:t=>t==="auto",parse:t=>t},MF=[ra,me,Zr,Gi,iee,ree,Jte],ou=t=>MF.find(DF(t)),Zte=[...MF,xn,zo],ene=t=>Zte.find(DF(t));function tne(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,vl(n))}function nne(t,e){const n=Ng(t,e);let{transitionEnd:r={},transition:i={},...o}=n?t.makeTargetAnimatable(n,!1):{};o={...o,...r};for(const s in o){const a=vee(o[s]);tne(t,s,a)}}function rne(t,e,n){var r,i;const o=Object.keys(e).filter(a=>!t.hasValue(a)),s=o.length;if(s)for(let a=0;a<s;a++){const l=o[a],u=e[l];let c=null;Array.isArray(u)&&(c=u[0]),c===null&&(c=(i=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&i!==void 0?i:e[l]),c!=null&&(typeof c=="string"&&(Kte(c)||Qte(c))?c=parseFloat(c):!ene(c)&&zo.test(u)&&(c=UE(l,u)),t.addValue(l,vl(c,{owner:t})),n[l]===void 0&&(n[l]=c),c!==null&&t.setBaseTarget(l,c))}}function ine(t,e){return e?(e[t]||e.default||e).from:void 0}function one(t,e,n){const r={};for(const i in t){const o=ine(i,e);if(o!==void 0)r[i]=o;else{const s=n.getValue(i);s&&(r[i]=s.get())}}return r}function sne({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function LF(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:s,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(o=r);const u=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const d in a){const h=t.getValue(d),f=a[d];if(!h||f===void 0||c&&sne(c,d))continue;const p={delay:n,elapsed:0,...o};if(window.HandoffAppearAnimations&&!h.hasAnimated){const b=t.getProps()[Wee];b&&(p.elapsed=window.HandoffAppearAnimations(b,d,h,ct))}h.start(VE(d,h,f,t.shouldReduceMotion&&na.has(d)?{type:!1}:p));const m=h.animation;Mp(l)&&(l.add(d),m.then(()=>l.remove(d))),u.push(m)}return s&&Promise.all(u).then(()=>{s&&nne(t,s)}),u}function qb(t,e,n={}){const r=Ng(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(LF(t,r,n)):()=>Promise.resolve(),s=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:c,staggerDirection:d}=i;return ane(t,e,u+l,c,d,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,u]=a==="beforeChildren"?[o,s]:[s,o];return l().then(()=>u())}else return Promise.all([o(),s(n.delay)])}function ane(t,e,n=0,r=0,i=1,o){const s=[],a=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(lne).forEach((u,c)=>{u.notify("AnimationStart",e),s.push(qb(u,e,{...o,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(s)}function lne(t,e){return t.sortNodePosition(e)}function une(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>qb(t,o,n));r=Promise.all(i)}else if(typeof e=="string")r=qb(t,e,n);else{const i=typeof e=="function"?Ng(t,e,n.custom):e;r=Promise.all(LF(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const cne=[...xE].reverse(),dne=xE.length;function hne(t){return e=>Promise.all(e.map(({animation:n,options:r})=>une(t,n,r)))}function fne(t){let e=hne(t);const n=mne();let r=!0;const i=(l,u)=>{const c=Ng(t,u);if(c){const{transition:d,transitionEnd:h,...f}=c;l={...l,...f,...h}}return l};function o(l){e=l(t)}function s(l,u){const c=t.getProps(),d=t.getVariantContext(!0)||{},h=[],f=new Set;let p={},m=1/0;for(let g=0;g<dne;g++){const y=cne[g],v=n[y],_=c[y]!==void 0?c[y]:d[y],S=Uc(_),C=y===u?v.isActive:null;C===!1&&(m=g);let I=_===d[y]&&_!==c[y]&&S;if(I&&r&&t.manuallyAnimateOnMount&&(I=!1),v.protectedKeys={...p},!v.isActive&&C===null||!_&&!v.prevProp||Ig(_)||typeof _=="boolean")continue;const R=pne(v.prevProp,_);let B=R||y===u&&v.isActive&&!I&&S||g>m&&S;const P=Array.isArray(_)?_:[_];let T=P.reduce(i,{});C===!1&&(T={});const{prevResolvedValues:N={}}=v,$={...N,...T},F=V=>{B=!0,f.delete(V),v.needsAnimating[V]=!0};for(const V in $){const j=T[V],Q=N[V];p.hasOwnProperty(V)||(j!==Q?Op(j)&&Op(Q)?!lF(j,Q)||R?F(V):v.protectedKeys[V]=!0:j!==void 0?F(V):f.add(V):j!==void 0&&f.has(V)?F(V):v.protectedKeys[V]=!0)}v.prevProp=_,v.prevResolvedValues=T,v.isActive&&(p={...p,...T}),r&&t.blockInitialAnimation&&(B=!1),B&&!I&&h.push(...P.map(V=>({animation:V,options:{type:y,...l}})))}if(f.size){const g={};f.forEach(y=>{const v=t.getBaseTarget(y);v!==void 0&&(g[y]=v)}),h.push({animation:g})}let b=!!h.length;return r&&c.initial===!1&&!t.manuallyAnimateOnMount&&(b=!1),r=!1,b?e(h):Promise.resolve()}function a(l,u,c){var d;if(n[l].isActive===u)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(f=>{var p;return(p=f.animationState)===null||p===void 0?void 0:p.setActive(l,u)}),n[l].isActive=u;const h=s(c,l);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:s,setActive:a,setAnimateFunction:o,getState:()=>n}}function pne(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!lF(e,t):!1}function Jo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function mne(){return{animate:Jo(!0),whileInView:Jo(),whileHover:Jo(),whileTap:Jo(),whileDrag:Jo(),whileFocus:Jo(),exit:Jo()}}class gne extends Yo{constructor(e){super(e),e.animationState||(e.animationState=fne(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Ig(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let yne=0;class vne extends Yo{constructor(){super(...arguments),this.id=yne++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const o=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&o.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const bne={animation:{Feature:gne},exit:{Feature:vne}},lI=(t,e)=>Math.abs(t-e);function wne(t,e){const n=lI(t.x,e.x),r=lI(t.y,e.y);return Math.sqrt(n**2+r**2)}class $F{constructor(e,n,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=m0(this.lastMoveEventInfo,this.history),c=this.startEvent!==null,d=wne(u.offset,{x:0,y:0})>=3;if(!c&&!d)return;const{point:h}=u,{timestamp:f}=mn;this.history.push({...h,timestamp:f});const{onStart:p,onMove:m}=this.handlers;c||(p&&p(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),m&&m(this.lastMoveEvent,u)},this.handlePointerMove=(u,c)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=p0(c,this.transformPagePoint),ct.update(this.updatePoint,!0)},this.handlePointerUp=(u,c)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:d,onSessionEnd:h}=this.handlers,f=m0(u.type==="pointercancel"?this.lastMoveEventInfo:p0(c,this.transformPagePoint),this.history);this.startEvent&&d&&d(u,f),h&&h(u,f)},!nF(e))return;this.handlers=n,this.transformPagePoint=r;const i=Og(e),o=p0(i,this.transformPagePoint),{point:s}=o,{timestamp:a}=mn;this.history=[{...s,timestamp:a}];const{onSessionStart:l}=n;l&&l(e,m0(o,this.history)),this.removeListeners=Io(wi(window,"pointermove",this.handlePointerMove),wi(window,"pointerup",this.handlePointerUp),wi(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Bo.update(this.updatePoint)}}function p0(t,e){return e?{point:e(t.point)}:t}function uI(t,e){return{x:t.x-e.x,y:t.y-e.y}}function m0({point:t},e){return{point:t,delta:uI(t,FF(e)),offset:uI(t,_ne(e)),velocity:Ene(e,.1)}}function _ne(t){return t[0]}function FF(t){return t[t.length-1]}function Ene(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=FF(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Ro(e)));)n--;if(!r)return{x:0,y:0};const o=_i(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Qn(t){return t.max-t.min}function Gb(t,e=0,n=.01){return Math.abs(t-e)<=n}function cI(t,e,n,r=.5){t.origin=r,t.originPoint=ft(e.min,e.max,t.origin),t.scale=Qn(n)/Qn(e),(Gb(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=ft(n.min,n.max,t.origin)-t.originPoint,(Gb(t.translate)||isNaN(t.translate))&&(t.translate=0)}function qu(t,e,n,r){cI(t.x,e.x,n.x,r?r.originX:void 0),cI(t.y,e.y,n.y,r?r.originY:void 0)}function dI(t,e,n){t.min=n.min+e.min,t.max=t.min+Qn(e)}function xne(t,e,n){dI(t.x,e.x,n.x),dI(t.y,e.y,n.y)}function hI(t,e,n){t.min=e.min-n.min,t.max=t.min+Qn(e)}function Gu(t,e,n){hI(t.x,e.x,n.x),hI(t.y,e.y,n.y)}function Sne(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ft(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ft(n,t,r.max):Math.min(t,n)),t}function fI(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Tne(t,{top:e,left:n,bottom:r,right:i}){return{x:fI(t.x,n,i),y:fI(t.y,e,r)}}function pI(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Cne(t,e){return{x:pI(t.x,e.x),y:pI(t.y,e.y)}}function kne(t,e){let n=.5;const r=Qn(t),i=Qn(e);return i>r?n=Wc(e.min,e.max-r,t.min):r>i&&(n=Wc(t.min,t.max-i,e.min)),Ws(0,1,n)}function Ine(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Kb=.35;function Rne(t=Kb){return t===!1?t=0:t===!0&&(t=Kb),{x:mI(t,"left","right"),y:mI(t,"top","bottom")}}function mI(t,e,n){return{min:gI(t,e),max:gI(t,n)}}function gI(t,e){return typeof t=="number"?t:t[e]||0}const yI=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ku=()=>({x:yI(),y:yI()}),vI=()=>({min:0,max:0}),Ct=()=>({x:vI(),y:vI()});function Fr(t){return[t("x"),t("y")]}function jF({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Pne({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function One(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function g0(t){return t===void 0||t===1}function Qb({scale:t,scaleX:e,scaleY:n}){return!g0(t)||!g0(e)||!g0(n)}function os(t){return Qb(t)||UF(t)||t.z||t.rotate||t.rotateX||t.rotateY}function UF(t){return bI(t.x)||bI(t.y)}function bI(t){return t&&t!=="0%"}function Lp(t,e,n){const r=t-n,i=e*r;return n+i}function wI(t,e,n,r,i){return i!==void 0&&(t=Lp(t,i,r)),Lp(t,n,r)+e}function Yb(t,e=0,n=1,r,i){t.min=wI(t.min,e,n,r,i),t.max=wI(t.max,e,n,r,i)}function VF(t,{x:e,y:n}){Yb(t.x,e.translate,e.scale,e.originPoint),Yb(t.y,n.translate,n.scale,n.originPoint)}function Ane(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,s;for(let a=0;a<i;a++){o=n[a],s=o.projectionDelta;const l=o.instance;l&&l.style&&l.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Oa(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,VF(t,s)),r&&os(o.latestValues)&&Oa(t,o.latestValues))}e.x=_I(e.x),e.y=_I(e.y)}function _I(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Xi(t,e){t.min=t.min+e,t.max=t.max+e}function EI(t,e,[n,r,i]){const o=e[i]!==void 0?e[i]:.5,s=ft(t.min,t.max,o);Yb(t,e[n],e[r],s,e.scale)}const Nne=["x","scaleX","originX"],Dne=["y","scaleY","originY"];function Oa(t,e){EI(t.x,e,Nne),EI(t.y,e,Dne)}function BF(t,e){return jF(One(t.getBoundingClientRect(),e))}function Mne(t,e,n){const r=BF(t,n),{scroll:i}=e;return i&&(Xi(r.x,i.offset.x),Xi(r.y,i.offset.y)),r}const Lne=new WeakMap;class $ne{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ct(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=l=>{this.stopAnimation(),n&&this.snapToCursor(Og(l,"page").point)},o=(l,u)=>{const{drag:c,dragPropagation:d,onDragStart:h}=this.getProps();if(c&&!d&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=iF(c),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Fr(p=>{let m=this.getAxisMotionValue(p).get()||0;if(Zr.test(m)){const{projection:b}=this.visualElement;if(b&&b.layout){const g=b.layout.layoutBox[p];g&&(m=Qn(g)*(parseFloat(m)/100))}}this.originPoint[p]=m}),h&&ct.update(()=>h(l,u));const{animationState:f}=this.visualElement;f&&f.setActive("whileDrag",!0)},s=(l,u)=>{const{dragPropagation:c,dragDirectionLock:d,onDirectionLock:h,onDrag:f}=this.getProps();if(!c&&!this.openGlobalLock)return;const{offset:p}=u;if(d&&this.currentDirection===null){this.currentDirection=Fne(p),this.currentDirection!==null&&h&&h(this.currentDirection);return}this.updateAxis("x",u.point,p),this.updateAxis("y",u.point,p),this.visualElement.render(),f&&f(l,u)},a=(l,u)=>this.stop(l,u);this.panSession=new $F(e,{onSessionStart:i,onStart:o,onMove:s,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&ct.update(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!wh(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=Sne(s,this.constraints[e],this.elastic[e])),o.set(s)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),{layout:r}=this.visualElement.projection||{},i=this.constraints;e&&Ra(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=Tne(r.layoutBox,e):this.constraints=!1,this.elastic=Rne(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Fr(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=Ine(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ra(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=Mne(r,i.root,this.visualElement.getTransformPagePoint());let s=Cne(i.layout.layoutBox,o);if(n){const a=n(Pne(s));this.hasMutatedConstraints=!!a,a&&(s=jF(a))}return s}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Fr(c=>{if(!wh(c,n,this.currentDirection))return;let d=l&&l[c]||{};s&&(d={min:0,max:0});const h=i?200:1e6,f=i?40:1e7,p={type:"inertia",velocity:r?e[c]:0,bounceStiffness:h,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...o,...d};return this.startAxisValueAnimation(c,p)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(VE(e,r,0,n))}stopAnimation(){Fr(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Fr(n=>{const{drag:r}=this.getProps();if(!wh(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:a}=i.layout.layoutBox[n];o.set(e[n]-ft(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ra(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Fr(s=>{const a=this.getAxisMotionValue(s);if(a){const l=a.get();i[s]=kne({min:l,max:l},this.constraints[s])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Fr(s=>{if(!wh(s,e,null))return;const a=this.getAxisMotionValue(s),{min:l,max:u}=this.constraints[s];a.set(ft(l,u,i[s]))})}addListeners(){if(!this.visualElement.current)return;Lne.set(this.visualElement,this);const e=this.visualElement.current,n=wi(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Ra(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const s=mi(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Fr(c=>{const d=this.getAxisMotionValue(c);d&&(this.originPoint[c]+=l[c].translate,d.set(d.get()+l[c].translate))}),this.visualElement.render())});return()=>{s(),n(),o(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:s=Kb,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:s,dragMomentum:a}}}function wh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Fne(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class jne extends Yo{constructor(e){super(e),this.removeGroupControls=Wt,this.removeListeners=Wt,this.controls=new $ne(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Wt}unmount(){this.removeGroupControls(),this.removeListeners()}}const xI=t=>(e,n)=>{t&&ct.update(()=>t(e,n))};class Une extends Yo{constructor(){super(...arguments),this.removePointerDownListener=Wt}onPointerDown(e){this.session=new $F(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:xI(e),onStart:xI(n),onMove:r,onEnd:(o,s)=>{delete this.session,i&&ct.update(()=>i(o,s))}}}mount(){this.removePointerDownListener=wi(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Vne(){const t=w.useContext(Cg);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=w.useId();return w.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}function SI(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const su={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(me.test(t))t=parseFloat(t);else return t;const n=SI(t,e.target.x),r=SI(t,e.target.y);return`${n}% ${r}%`}},zF=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Bne(t){const e=zF.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function Xb(t,e,n=1){const[r,i]=Bne(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);return o?o.trim():Fb(i)?Xb(i,e,n+1):i}function zne(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const o=i.get();if(!Fb(o))return;const s=Xb(o,r);s&&i.set(s)});for(const i in e){const o=e[i];if(!Fb(o))continue;const s=Xb(o,r);s&&(e[i]=s,n||(n={}),n[i]===void 0&&(n[i]=o))}return{target:e,transitionEnd:n}}const TI="_$css",Wne={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=t.includes("var("),o=[];i&&(t=t.replace(zF,f=>(o.push(f),TI)));const s=zo.parse(t);if(s.length>5)return r;const a=zo.createTransformer(t),l=typeof s[0]!="number"?1:0,u=n.x.scale*e.x,c=n.y.scale*e.y;s[0+l]/=u,s[1+l]/=c;const d=ft(u,c,.5);typeof s[2+l]=="number"&&(s[2+l]/=d),typeof s[3+l]=="number"&&(s[3+l]/=d);let h=a(s);if(i){let f=0;h=h.replace(TI,()=>{const p=o[f];return f++,p})}return h}};class Hne extends ke.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;XZ(qne),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),zu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,s=r.projection;return s&&(s.isPresent=o,i||e.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?s.promote():s.relegate()||ct.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function WF(t){const[e,n]=Vne(),r=w.useContext(CE);return ke.createElement(Hne,{...t,layoutGroup:r,switchLayoutGroup:w.useContext(z$),isPresent:e,safeToRemove:n})}const qne={borderRadius:{...su,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:su,borderTopRightRadius:su,borderBottomLeftRadius:su,borderBottomRightRadius:su,boxShadow:Wne},HF=["TopLeft","TopRight","BottomLeft","BottomRight"],Gne=HF.length,CI=t=>typeof t=="string"?parseFloat(t):t,kI=t=>typeof t=="number"||me.test(t);function Kne(t,e,n,r,i,o){i?(t.opacity=ft(0,n.opacity!==void 0?n.opacity:1,Qne(r)),t.opacityExit=ft(e.opacity!==void 0?e.opacity:1,0,Yne(r))):o&&(t.opacity=ft(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<Gne;s++){const a=`border${HF[s]}Radius`;let l=II(e,a),u=II(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||kI(l)===kI(u)?(t[a]=Math.max(ft(CI(l),CI(u),r),0),(Zr.test(u)||Zr.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=ft(e.rotate||0,n.rotate||0,r))}function II(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Qne=qF(0,.5,LE),Yne=qF(.5,.95,Wt);function qF(t,e,n){return r=>r<t?0:r>e?1:n(Wc(t,e,r))}function RI(t,e){t.min=e.min,t.max=e.max}function Zn(t,e){RI(t.x,e.x),RI(t.y,e.y)}function PI(t,e,n,r,i){return t-=e,t=Lp(t,1/n,r),i!==void 0&&(t=Lp(t,1/i,r)),t}function Xne(t,e=0,n=1,r=.5,i,o=t,s=t){if(Zr.test(e)&&(e=parseFloat(e),e=ft(s.min,s.max,e/100)-s.min),typeof e!="number")return;let a=ft(o.min,o.max,r);t===o&&(a-=e),t.min=PI(t.min,e,n,a,i),t.max=PI(t.max,e,n,a,i)}function OI(t,e,[n,r,i],o,s){Xne(t,e[n],e[r],e[i],e.scale,o,s)}const Jne=["x","scaleX","originX"],Zne=["y","scaleY","originY"];function AI(t,e,n,r){OI(t.x,e,Jne,n?n.x:void 0,r?r.x:void 0),OI(t.y,e,Zne,n?n.y:void 0,r?r.y:void 0)}function NI(t){return t.translate===0&&t.scale===1}function GF(t){return NI(t.x)&&NI(t.y)}function Jb(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function DI(t){return Qn(t.x)/Qn(t.y)}class ere{constructor(){this.members=[]}add(e){BE(this.members,e),e.scheduleRender()}remove(e){if(zE(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function MI(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y;if((i||o)&&(r=`translate3d(${i}px, ${o}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:u,rotateY:c}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),c&&(r+=`rotateY(${c}deg) `)}const s=t.x.scale*e.x,a=t.y.scale*e.y;return(s!==1||a!==1)&&(r+=`scale(${s}, ${a})`),r||"none"}const tre=(t,e)=>t.depth-e.depth;class nre{constructor(){this.children=[],this.isDirty=!1}add(e){BE(this.children,e),this.isDirty=!0}remove(e){zE(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(tre),this.isDirty=!1,this.children.forEach(e)}}function rre(t,e){const n=performance.now(),r=({timestamp:i})=>{const o=i-n;o>=e&&(Bo.read(r),t(o-e))};return ct.read(r,!0),()=>Bo.read(r)}function ire(t){window.MotionDebug&&window.MotionDebug.record(t)}function ore(t){return t instanceof SVGElement&&t.tagName!=="svg"}function sre(t,e,n){const r=Fn(t)?t:vl(t);return r.start(VE("",r,e,n)),r.animation}const LI=["","X","Y","Z"],$I=1e3;let are=0;const ss={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function KF({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s,a={},l=e==null?void 0:e()){this.id=are++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{ss.totalNodes=ss.resolvedTargetDeltas=ss.recalculatedProjection=0,this.nodes.forEach(cre),this.nodes.forEach(pre),this.nodes.forEach(mre),this.nodes.forEach(dre),ire(ss)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=s,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0,s&&this.root.registerPotentialNode(s,this);for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new nre)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new WE),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const l=this.eventHandlers.get(s);l&&l.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}registerPotentialNode(s,a){this.potentialNodes.set(s,a)}mount(s,a=!1){if(this.instance)return;this.isSVG=ore(s),this.instance=s;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),a&&(u||l)&&(this.isLayoutDirty=!0),t){let d;const h=()=>this.root.updateBlockedByResize=!1;t(s,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=rre(h,250),zu.hasAnimatedSinceResize&&(zu.hasAnimatedSinceResize=!1,this.nodes.forEach(jI))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeTargetChanged:f,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||c.getDefaultTransition()||wre,{onLayoutAnimationStart:b,onLayoutAnimationComplete:g}=c.getProps(),y=!this.targetLayout||!Jb(this.targetLayout,p)||f,v=!h&&f;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||v||h&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,v);const _={...NF(m,"layout"),onPlay:b,onComplete:g};(c.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_)}else!h&&this.animationProgress===0&&jI(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Bo.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(gre),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const d=this.path[c];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(FI);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(_re),this.potentialNodes.clear()),this.nodes.forEach(fre),this.nodes.forEach(lre),this.nodes.forEach(ure),this.clearAllSnapshots(),s0.update(),s0.preRender(),s0.render())}clearAllSnapshots(){this.nodes.forEach(hre),this.sharedNodes.forEach(yre)}scheduleUpdateProjection(){ct.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){ct.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ct(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!GF(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;s&&(a||os(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return s&&(l=this.removeTransform(l)),Ere(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return Ct();const a=s.measureViewportBox(),{scroll:l}=this.root;return l&&(Xi(a.x,l.offset.x),Xi(a.y,l.offset.y)),a}removeElementScroll(s){const a=Ct();Zn(a,s);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:c,options:d}=u;if(u!==this.root&&c&&d.layoutScroll){if(c.isRoot){Zn(a,s);const{scroll:h}=this.root;h&&(Xi(a.x,-h.offset.x),Xi(a.y,-h.offset.y))}Xi(a.x,c.offset.x),Xi(a.y,c.offset.y)}}return a}applyTransform(s,a=!1){const l=Ct();Zn(l,s);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Oa(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),os(c.latestValues)&&Oa(l,c.latestValues)}return os(this.latestValues)&&Oa(l,this.latestValues),l}removeTransform(s){const a=Ct();Zn(a,s);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!os(u.latestValues))continue;Qb(u.latestValues)&&u.updateSnapshot();const c=Ct(),d=u.measurePageBox();Zn(c,d),AI(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return os(this.latestValues)&&AI(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(s=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(s||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=mn.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout?(this.relativeParent=f,this.relativeTarget=Ct(),this.relativeTargetOrigin=Ct(),Gu(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),Zn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ct(),this.targetWithTransforms=Ct()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.relativeParent.resolvedRelativeTargetAt!==mn.timestamp&&this.relativeParent.resolveTargetDelta(!0),xne(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Zn(this.target,this.layout.layoutBox),VF(this.target,this.targetDelta)):Zn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target?(this.relativeParent=f,this.relativeTarget=Ct(),this.relativeTargetOrigin=Ct(),Gu(this.relativeTargetOrigin,this.target,f.target),Zn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ss.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Qb(this.parent.latestValues)||UF(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===mn.timestamp&&(u=!1),u)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;Zn(this.layoutCorrected,this.layout.layoutBox),Ane(this.layoutCorrected,this.treeScale,this.path,l);const{target:h}=a;if(!h)return;this.projectionDelta||(this.projectionDelta=Ku(),this.projectionDeltaWithTransform=Ku());const f=this.treeScale.x,p=this.treeScale.y,m=this.projectionTransform;qu(this.projectionDelta,this.layoutCorrected,h,this.latestValues),this.projectionTransform=MI(this.projectionDelta,this.treeScale),(this.projectionTransform!==m||this.treeScale.x!==f||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",h)),ss.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},d=Ku();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=Ct(),f=l?l.source:void 0,p=this.layout?this.layout.source:void 0,m=f!==p,b=this.getStack(),g=!b||b.members.length<=1,y=!!(m&&!g&&this.options.crossfade===!0&&!this.path.some(bre));this.animationProgress=0;let v;this.mixTargetDelta=_=>{const S=_/1e3;UI(d.x,s.x,S),UI(d.y,s.y,S),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Gu(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),vre(this.relativeTarget,this.relativeTargetOrigin,h,S),v&&Jb(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=Ct()),Zn(v,this.relativeTarget)),m&&(this.animationValues=c,Kne(c,u,this.latestValues,S,y,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Bo.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ct.update(()=>{zu.hasAnimatedSinceResize=!0,this.currentAnimation=sre(0,$I,{...s,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta($I),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=s;if(!(!a||!l||!u)){if(this!==s&&this.layout&&u&&QF(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Ct();const d=Qn(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+d;const h=Qn(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}Zn(a,l),Oa(a,c),qu(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new ere),this.sharedNodes.get(s).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:a}=this.options;return a?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:a}=this.options;return a?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:l}=s;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let c=0;c<LI.length;c++){const d="rotate"+LI[c];l[d]&&(u[d]=l[d],s.setStaticValue(d,0))}s.render();for(const c in u)s.setStaticValue(c,u[c]);s.scheduleRender()}getProjectionStyles(s={}){var a,l;const u={};if(!this.instance||this.isSVG)return u;if(this.isVisible)u.visibility="";else return{visibility:"hidden"};const c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=tf(s.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=tf(s.pointerEvents)||""),this.hasProjected&&!os(this.latestValues)&&(m.transform=c?c({},""):"none",this.hasProjected=!1),m}const h=d.animationValues||d.latestValues;this.applyTransformsToTarget(),u.transform=MI(this.projectionDeltaWithTransform,this.treeScale,h),c&&(u.transform=c(h,u.transform));const{x:f,y:p}=this.projectionDelta;u.transformOrigin=`${f.origin*100}% ${p.origin*100}% 0`,d.animationValues?u.opacity=d===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const m in Rp){if(h[m]===void 0)continue;const{correct:b,applyTo:g}=Rp[m],y=u.transform==="none"?h[m]:b(h[m],d);if(g){const v=g.length;for(let _=0;_<v;_++)u[g[_]]=y}else u[m]=y}return this.options.layoutId&&(u.pointerEvents=d===this?tf(s.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(FI),this.root.sharedNodes.clear()}}}function lre(t){t.updateLayout()}function ure(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:o}=t.options,s=n.source!==t.layout.source;o==="size"?Fr(d=>{const h=s?n.measuredBox[d]:n.layoutBox[d],f=Qn(h);h.min=r[d].min,h.max=h.min+f}):QF(o,n.layoutBox,r)&&Fr(d=>{const h=s?n.measuredBox[d]:n.layoutBox[d],f=Qn(r[d]);h.max=h.min+f,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+f)});const a=Ku();qu(a,r,n.layoutBox);const l=Ku();s?qu(l,t.applyTransform(i,!0),n.measuredBox):qu(l,r,n.layoutBox);const u=!GF(a);let c=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:f}=d;if(h&&f){const p=Ct();Gu(p,n.layoutBox,h.layoutBox);const m=Ct();Gu(m,r,f.layoutBox),Jb(p,m)||(c=!0),d.options.layoutRoot&&(t.relativeTarget=m,t.relativeTargetOrigin=p,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function cre(t){ss.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function dre(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function hre(t){t.clearSnapshot()}function FI(t){t.clearMeasurements()}function fre(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function jI(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0}function pre(t){t.resolveTargetDelta()}function mre(t){t.calcProjection()}function gre(t){t.resetRotation()}function yre(t){t.removeLeadSnapshot()}function UI(t,e,n){t.translate=ft(e.translate,0,n),t.scale=ft(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function VI(t,e,n,r){t.min=ft(e.min,n.min,r),t.max=ft(e.max,n.max,r)}function vre(t,e,n,r){VI(t.x,e.x,n.x,r),VI(t.y,e.y,n.y,r)}function bre(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const wre={duration:.45,ease:[.4,0,.1,1]};function _re(t,e){let n=t.root;for(let o=t.path.length-1;o>=0;o--)if(t.path[o].instance){n=t.path[o];break}const i=(n&&n!==t.root?n.instance:document).querySelector(`[data-projection-id="${e}"]`);i&&t.mount(i,!0)}function BI(t){t.min=Math.round(t.min),t.max=Math.round(t.max)}function Ere(t){BI(t.x),BI(t.y)}function QF(t,e,n){return t==="position"||t==="preserve-aspect"&&!Gb(DI(e),DI(n),.2)}const xre=KF({attachResizeListener:(t,e)=>mi(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),y0={current:void 0},YF=KF({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!y0.current){const t=new xre(0,{});t.mount(window),t.setOptions({layoutScroll:!0}),y0.current=t}return y0.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Sre={pan:{Feature:Une},drag:{Feature:jne,ProjectionNode:YF,MeasureLayout:WF}},Tre=new Set(["width","height","top","left","right","bottom","x","y"]),XF=t=>Tre.has(t),Cre=t=>Object.keys(t).some(XF),zI=t=>t===ra||t===me,WI=(t,e)=>parseFloat(t.split(", ")[e]),HI=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return WI(i[1],e);{const o=r.match(/^matrix\((.+)\)$/);return o?WI(o[1],t):0}},kre=new Set(["x","y","z"]),Ire=Pg.filter(t=>!kre.has(t));function Rre(t){const e=[];return Ire.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const qI={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:HI(4,13),y:HI(5,14)},Pre=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,o=getComputedStyle(i),{display:s}=o,a={};s==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(u=>{a[u]=qI[u](r,o)}),e.render();const l=e.measureViewportBox();return n.forEach(u=>{const c=e.getValue(u);c&&c.jump(a[u]),t[u]=qI[u](l,o)}),t},Ore=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(XF);let o=[],s=!1;const a=[];if(i.forEach(l=>{const u=t.getValue(l);if(!t.hasValue(l))return;let c=n[l],d=ou(c);const h=e[l];let f;if(Op(h)){const p=h.length,m=h[0]===null?1:0;c=h[m],d=ou(c);for(let b=m;b<p;b++)f?ME(ou(h[b])===f):f=ou(h[b])}else f=ou(h);if(d!==f)if(zI(d)&&zI(f)){const p=u.get();typeof p=="string"&&u.set(parseFloat(p)),typeof h=="string"?e[l]=parseFloat(h):Array.isArray(h)&&f===me&&(e[l]=h.map(parseFloat))}else d!=null&&d.transform&&(f!=null&&f.transform)&&(c===0||h===0)?c===0?u.set(f.transform(c)):e[l]=d.transform(h):(s||(o=Rre(t),s=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],u.jump(h))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=Pre(e,t,a);return o.length&&o.forEach(([c,d])=>{t.getValue(c).set(d)}),t.render(),kg&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:e,transitionEnd:r}};function Are(t,e,n,r){return Cre(e)?Ore(t,e,n,r):{target:e,transitionEnd:r}}const Nre=(t,e,n,r)=>{const i=zne(t,e,r);return e=i.target,r=i.transitionEnd,Are(t,e,n,r)},Zb={current:null},JF={current:!1};function Dre(){if(JF.current=!0,!!kg)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Zb.current=t.matches;t.addListener(e),e()}else Zb.current=!1}function Mre(t,e,n){const{willChange:r}=e;for(const i in e){const o=e[i],s=n[i];if(Fn(o))t.addValue(i,o),Mp(r)&&r.add(i);else if(Fn(s))t.addValue(i,vl(o,{owner:t})),Mp(r)&&r.remove(i);else if(s!==o)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(o)}else{const a=t.getStaticValue(i);t.addValue(i,vl(a!==void 0?a:o,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const GI=new WeakMap,ZF=Object.keys(Vc),Lre=ZF.length,KI=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],$re=SE.length;class Fre{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:o},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ct.render(this.render,!1,!0);const{latestValues:a,renderState:l}=o;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.isControllingVariants=Rg(n),this.isVariantNode=B$(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...c}=this.scrapeMotionValuesFromProps(n,{});for(const d in c){const h=c[d];a[d]!==void 0&&Fn(h)&&(h.set(a[d],!1),Mp(u)&&u.add(d))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,GI.set(e,this),this.projection&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),JF.current||Dre(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Zb.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){GI.delete(this.current),this.projection&&this.projection.unmount(),Bo.update(this.notifyUpdate),Bo.render(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=na.has(e),i=n.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&ct.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),o()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,o,s){let a,l;for(let u=0;u<Lre;u++){const c=ZF[u],{isEnabled:d,Feature:h,ProjectionNode:f,MeasureLayout:p}=Vc[c];f&&(a=f),d(n)&&(!this.features[c]&&h&&(this.features[c]=new h(this)),p&&(l=p))}if(!this.projection&&a){this.projection=new a(o,this.latestValues,this.parent&&this.parent.projection);const{layoutId:u,layout:c,drag:d,dragConstraints:h,layoutScroll:f,layoutRoot:p}=n;this.projection.setOptions({layoutId:u,layout:c,alwaysMeasureLayout:!!d||h&&Ra(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,layoutScroll:f,layoutRoot:p})}return l}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update(this.props,this.prevProps):(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ct()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<KI.length;r++){const i=KI[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o=e["on"+i];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=Mre(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<$re;r++){const i=SE[r],o=this.props[i];(Uc(o)||o===!1)&&(n[i]=o)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=vl(n,{owner:this}),this.addValue(e,r)),r}readValue(e){return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=DE(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Fn(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new WE),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class e4 extends Fre{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},o){let s=one(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),s&&(s=i(s))),o){rne(this,r,s);const a=Nre(this,r,s,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function jre(t){return window.getComputedStyle(t)}class Ure extends e4{readValueFromInstance(e,n){if(na.has(n)){const r=jE(n);return r&&r.default||0}else{const r=jre(e),i=(q$(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return BF(e,n)}build(e,n,r,i){IE(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return NE(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Fn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){X$(e,n,r,i)}}class Vre extends e4{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(na.has(n)){const r=jE(n);return r&&r.default||0}return n=J$.has(n)?n:AE(n),e.getAttribute(n)}measureInstanceViewportBox(){return Ct()}scrapeMotionValuesFromProps(e,n){return eF(e,n)}build(e,n,r,i){PE(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){Z$(e,n,r,i)}mount(e){this.isSVGTag=OE(e.tagName),super.mount(e)}}const Bre=(t,e)=>kE(t)?new Vre(e,{enableHardwareAcceleration:!1}):new Ure(e,{enableHardwareAcceleration:!0}),zre={layout:{ProjectionNode:YF,MeasureLayout:WF}},Wre={...bne,...Uee,...Sre,...zre},t4=QZ((t,e)=>xee(t,e,Wre,Bre));function n4(){const t=w.useRef(!1);return Ip(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function Hre(){const t=n4(),[e,n]=w.useState(0),r=w.useCallback(()=>{t.current&&n(e+1)},[e]);return[w.useCallback(()=>ct.postRender(r),[r]),e]}class qre extends w.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Gre({children:t,isPresent:e}){const n=w.useId(),r=w.useRef(null),i=w.useRef({width:0,height:0,top:0,left:0});return w.useInsertionEffect(()=>{const{width:o,height:s,top:a,left:l}=i.current;if(e||!r.current||!o||!s)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${s}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),w.createElement(qre,{isPresent:e,childRef:r,sizeRef:i},w.cloneElement(t,{ref:r}))}const v0=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:s})=>{const a=TE(Kre),l=w.useId(),u=w.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:c=>{a.set(c,!0);for(const d of a.values())if(!d)return;r&&r()},register:c=>(a.set(c,!1),()=>a.delete(c))}),o?void 0:[n]);return w.useMemo(()=>{a.forEach((c,d)=>a.set(d,!1))},[n]),w.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),s==="popLayout"&&(t=w.createElement(Gre,{isPresent:n},t)),w.createElement(Cg.Provider,{value:u},t)};function Kre(){return new Map}function Qre(t){return w.useEffect(()=>()=>t(),[])}const da=t=>t.key||"";function Yre(t,e){t.forEach(n=>{const r=da(n);e.set(r,n)})}function Xre(t){const e=[];return w.Children.forEach(t,n=>{w.isValidElement(n)&&e.push(n)}),e}const r4=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:o=!0,mode:s="sync"})=>{let[a]=Hre();const l=w.useContext(CE).forceRender;l&&(a=l);const u=n4(),c=Xre(t);let d=c;const h=new Set,f=w.useRef(d),p=w.useRef(new Map).current,m=w.useRef(!0);if(Ip(()=>{m.current=!1,Yre(c,p),f.current=d}),Qre(()=>{m.current=!0,p.clear(),h.clear()}),m.current)return w.createElement(w.Fragment,null,d.map(v=>w.createElement(v0,{key:da(v),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:o,mode:s},v)));d=[...d];const b=f.current.map(da),g=c.map(da),y=b.length;for(let v=0;v<y;v++){const _=b[v];g.indexOf(_)===-1&&h.add(_)}return s==="wait"&&h.size&&(d=[]),h.forEach(v=>{if(g.indexOf(v)!==-1)return;const _=p.get(v);if(!_)return;const S=b.indexOf(v),C=()=>{p.delete(v),h.delete(v);const I=f.current.findIndex(R=>R.key===v);if(f.current.splice(I,1),!h.size){if(f.current=c,u.current===!1)return;a(),r&&r()}};d.splice(S,0,w.createElement(v0,{key:da(_),isPresent:!1,onExitComplete:C,custom:e,presenceAffectsLayout:o,mode:s},_))}),d=d.map(v=>{const _=v.key;return h.has(_)?v:w.createElement(v0,{key:da(v),isPresent:!0,presenceAffectsLayout:o,mode:s},v)}),w.createElement(w.Fragment,null,h.size?d:d.map(v=>w.cloneElement(v)))},Jre=({values:t=[50],setValues:e,min:n=0,max:r=1,step:i=.1,open:o})=>E(St,{children:E(r4,{children:o&&E(t4.div,{className:"h-[100px] w-[23px] flex justify-center",initial:{height:0},animate:{height:"100px",transition:{duration:.3}},exit:{height:0},children:E(bs.Range,{step:i,min:n,max:r,values:t,direction:bs.Direction.Up,onChange:s=>e&&e(s),renderTrack:({props:s,children:a})=>E("div",{onMouseDown:s.onMouseDown,onTouchStart:s.onTouchStart,style:{...s.style,height:"100%",width:"100%",display:"flex"},children:E("div",{ref:s.ref,style:{height:"100%",width:"100%",borderRadius:"4px",background:bs.getTrackBackground({values:t,colors:["#EE4950","#E4E7E6"],min:n,max:r,direction:bs.Direction.Up})},children:a})}),renderThumb:({props:s})=>E("div",{...s,style:{...s.style,height:"10px",width:"10px",backgroundColor:"#999",display:"none"}})})})})});function Zre(t,e){w.useEffect(()=>{const n=r=>{t.current&&!t.current.contains(r.target)&&e()};return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[t,e])}function eie(t){return Je({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M13 5h8"}},{tag:"path",attr:{d:"M13 9h5"}},{tag:"path",attr:{d:"M13 15h8"}},{tag:"path",attr:{d:"M13 19h5"}},{tag:"path",attr:{d:"M3 4m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z"}},{tag:"path",attr:{d:"M3 14m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z"}}]})(t)}const i4=({song:t})=>ne("div",{className:"flex flex-col items-center justify-center",children:[E("div",{className:"w-[400px] h-[400px]",children:E("img",{src:(t==null?void 0:t.album.thumbnailMedium)??"https://photo-resize-zmp3.zmdcdn.me/",alt:"",className:"object-cover w-full h-full rounded-lg"})}),ne("div",{className:"flex-center mt-5 flex flex-col",children:[E("p",{className:"text-[24px] font-bold text-white",children:t==null?void 0:t.name}),E("p",{className:"text-[14px] mb-1 text-[hsla(0,0%,100%,.8)]",children:t==null?void 0:t.artistsNames})]})]}),tie=()=>{const{sourceCurrent:t}=w.useContext(Li);return E(St,{children:E("div",{className:"h-full flex-center",children:E(i4,{song:t})})})};var ks={},HE={},qE={};const Nd=sR(q4);var Dg={},GE={},Dd={};Object.defineProperty(Dd,"__esModule",{value:!0});Dd.LINE_CLASSNAME=void 0;Dd.LINE_CLASSNAME="react-lrc-line";var KE={},Qu=ie&&ie.__assign||function(){return Qu=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Qu.apply(this,arguments)},nie=ie&&ie.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};Object.defineProperty(KE,"__esModule",{value:!0});var rie=Nd,ew=w,iie={outline:"none",boxSizing:"border-box",scrollBehavior:"smooth",overflow:"auto"},oie=(0,ew.forwardRef)(function(t,e){var n=t.style,r=nie(t,["style"]),i=(0,ew.useMemo)(function(){return Qu(Qu({},iie),n)},[n]);return(0,rie.jsx)("div",Qu({},r,{style:i,ref:e}))});KE.default=(0,ew.memo)(oie);var QE={};Object.defineProperty(QE,"__esModule",{value:!0});var sie=Nd,aie=w,lie={height:"50%"};function uie(){return(0,sie.jsx)("div",{style:lie})}QE.default=(0,aie.memo)(uie);var YE={};Object.defineProperty(YE,"__esModule",{value:!0});function cie(t,e){for(var n=0,r=t.length;n<=r;n+=1){var i=t[n];if(!i||i.startMillisecond>e)break}return n-1}YE.default=cie;var Mg={};Object.defineProperty(Mg,"__esModule",{value:!0});Mg.DEFAULT_PROPS=void 0;Mg.DEFAULT_PROPS={currentMillisecond:-1,verticalSpace:!1,recoverAutoScrollInterval:5e3,recoverAutoScrollSingal:!1};var XE={},JE={},die=ie&&ie.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},hie=ie&&ie.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))};Object.defineProperty(JE,"__esModule",{value:!0});function fie(t,e){e===void 0&&(e=100);var n=0;return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=Date.now();if(o-n>=e)return n=o,t.apply(void 0,hie([],die(r),!1))}}JE.default=fie;var pie=ie&&ie.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},mie=ie&&ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(XE,"__esModule",{value:!0});var gr=w,b0=mie(JE),gie=[" ","ArrowUp","ArrowDown"];XE.default=function(t){var e=t.recoverAutoScrollInterval,n=t.recoverAutoScrollSingal,r=pie((0,gr.useState)(!0),2),i=r[0],o=r[1],s=(0,gr.useRef)(),a=(0,gr.useCallback)(function(){window.clearTimeout(s.current),o(!1),s.current=window.setTimeout(function(){return o(!0)},e)},[e]),l=(0,gr.useRef)(!1),u=(0,gr.useCallback)(function(){l.current=!0},[]),c=(0,gr.useCallback)(function(){l.current=!1},[]),d=(0,gr.useMemo)(function(){return(0,b0.default)(function(){l.current&&a()})},[a]),h=(0,gr.useMemo)(function(){return(0,b0.default)(function(p){gie.includes(p.key)&&a()})},[a]),f=(0,gr.useMemo)(function(){return(0,b0.default)(a)},[a]);return(0,gr.useEffect)(function(){o(!0)},[n]),(0,gr.useEffect)(function(){return function(){return window.clearTimeout(s.current)}},[]),{autoScroll:i,onWheel:f,onKeyDown:h,onMouseDown:u,onMouseUp:c,onMouseMove:d}};var ZE={},yie=ie&&ie.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},vie=ie&&ie.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))};Object.defineProperty(ZE,"__esModule",{value:!0});var QI=w;function bie(t){var e=(0,QI.useRef)();e.current=t;var n=(0,QI.useCallback)(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return e.current.apply(e,vie([],yie(r),!1))},[]);return n}ZE.default=bie;var ex={},o4=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(i,o){return i[0]===n?(r=o,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(n,r){var i=t(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,i=t(r,n);~i&&r.splice(i,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,o=this.__entries__;i<o.length;i++){var s=o[i];n.call(r,s[1],s[0])}},e}()}(),tw=typeof window<"u"&&typeof document<"u"&&window.document===document,$p=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),wie=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind($p):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),_ie=2;function Eie(t,e){var n=!1,r=!1,i=0;function o(){n&&(n=!1,t()),r&&a()}function s(){wie(o)}function a(){var l=Date.now();if(n){if(l-i<_ie)return;r=!0}else n=!0,r=!1,setTimeout(s,e);i=l}return a}var xie=20,Sie=["top","right","bottom","left","width","height","size","weight"],Tie=typeof MutationObserver<"u",Cie=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=Eie(this.refresh.bind(this),xie)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!tw||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Tie?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!tw||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,i=Sie.some(function(o){return!!~r.indexOf(o)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),s4=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},bl=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||$p},a4=Lg(0,0,0,0);function Fp(t){return parseFloat(t)||0}function YI(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,i){var o=t["border-"+i+"-width"];return r+Fp(o)},0)}function kie(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r++){var o=i[r],s=t["padding-"+o];n[o]=Fp(s)}return n}function Iie(t){var e=t.getBBox();return Lg(0,0,e.width,e.height)}function Rie(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return a4;var r=bl(t).getComputedStyle(t),i=kie(r),o=i.left+i.right,s=i.top+i.bottom,a=Fp(r.width),l=Fp(r.height);if(r.boxSizing==="border-box"&&(Math.round(a+o)!==e&&(a-=YI(r,"left","right")+o),Math.round(l+s)!==n&&(l-=YI(r,"top","bottom")+s)),!Oie(t)){var u=Math.round(a+o)-e,c=Math.round(l+s)-n;Math.abs(u)!==1&&(a-=u),Math.abs(c)!==1&&(l-=c)}return Lg(i.left,i.top,a,l)}var Pie=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof bl(t).SVGGraphicsElement}:function(t){return t instanceof bl(t).SVGElement&&typeof t.getBBox=="function"}}();function Oie(t){return t===bl(t).document.documentElement}function Aie(t){return tw?Pie(t)?Iie(t):Rie(t):a4}function Nie(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,s=Object.create(o.prototype);return s4(s,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),s}function Lg(t,e,n,r){return{x:t,y:e,width:n,height:r}}var Die=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Lg(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=Aie(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),Mie=function(){function t(e,n){var r=Nie(n);s4(this,{target:e,contentRect:r})}return t}(),Lie=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new o4,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof bl(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new Die(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof bl(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new Mie(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),l4=typeof WeakMap<"u"?new WeakMap:new o4,u4=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Cie.getInstance(),r=new Lie(e,n,this);l4.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){u4.prototype[t]=function(){var e;return(e=l4.get(this))[t].apply(e,arguments)}});var $ie=function(){return typeof $p.ResizeObserver<"u"?$p.ResizeObserver:u4}();const Fie=Object.freeze(Object.defineProperty({__proto__:null,default:$ie},Symbol.toStringTag,{value:"Module"})),jie=sR(Fie);var tx={};Object.defineProperty(tx,"__esModule",{value:!0});function Uie(t,e){e===void 0&&(e=300);var n;return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];window.clearTimeout(n),n=window.setTimeout(function(){return t(r)},e)}}tx.default=Uie;var c4=ie&&ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ex,"__esModule",{value:!0});var _h=w,Vie=c4(jie),Bie=c4(tx),zie=Dd;ex.default=function(t){var e=t.root,n=t.autoScroll,r=t.lineIndex,i=t.lines,o=t.verticalSpace,s=(0,_h.useRef)(new Map),a=(0,_h.useCallback)(function(){if(e){var l=s.current.get(r);l?e.scrollTop=l.offsetTop-e.clientHeight*.5+l.height/2:e.scrollTop=0}},[r,e]);(0,_h.useLayoutEffect)(function(){if(e){var l=function(){for(var c=new Map,d=e.querySelectorAll(".".concat(zie.LINE_CLASSNAME)),h=0,f=d.length;h<f;h+=1){var p=d[h];c.set(h,{height:p.clientHeight,offsetTop:p.offsetTop})}s.current=c};l();var u=new Vie.default((0,Bie.default)(l));return u.observe(e),function(){return u.disconnect()}}},[e,i,o]),(0,_h.useLayoutEffect)(function(){n&&a()},[n,a,i,o])};var jp=ie&&ie.__assign||function(){return jp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},jp.apply(this,arguments)},Wie=ie&&ie.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},$l=ie&&ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(GE,"__esModule",{value:!0});var nw=Nd,bu=w,Hie=Dd,qie=$l(KE),Gie=$l(QE),Kie=$l(YE),Eh=Mg,Qie=$l(XE),au=$l(ZE),Yie=$l(ex),XI=(0,nw.jsx)(Gie.default,{});function Xie(t,e){var n=t.lines,r=t.lineRenderer,i=t.currentMillisecond,o=i===void 0?Eh.DEFAULT_PROPS.currentMillisecond:i,s=t.verticalSpace,a=s===void 0?Eh.DEFAULT_PROPS.verticalSpace:s,l=t.recoverAutoScrollInterval,u=l===void 0?Eh.DEFAULT_PROPS.recoverAutoScrollInterval:l,c=t.recoverAutoScrollSingal,d=c===void 0?Eh.DEFAULT_PROPS.recoverAutoScrollSingal:c,h=t.onLineUpdate,f=t.onWheel,p=t.onKeyDown,m=t.onMouseDown,b=t.onMouseUp,g=t.onMouseMove,y=Wie(t,["lines","lineRenderer","currentMillisecond","verticalSpace","recoverAutoScrollInterval","recoverAutoScrollSingal","onLineUpdate","onWheel","onKeyDown","onMouseDown","onMouseUp","onMouseMove"]),v=(0,bu.useRef)(null),_=(0,Kie.default)(n,o),S=(0,Qie.default)({recoverAutoScrollInterval:u,recoverAutoScrollSingal:d}),C=S.autoScroll,I=S.onWheel,R=S.onKeyDown,B=S.onMouseDown,P=S.onMouseUp,T=S.onMouseMove;(0,Yie.default)({root:v.current,autoScroll:C,lineIndex:_,lines:n,verticalSpace:a}),(0,bu.useEffect)(function(){h&&h({index:_,line:n[_]||null})},[h,_,n]),(0,bu.useImperativeHandle)(e,function(){return v.current});var N=(0,au.default)(function(A){return I(),f&&f(A)}),$=(0,au.default)(function(A){return R(A),p&&p(A)}),F=(0,au.default)(function(A){return B(),m&&m(A)}),V=(0,au.default)(function(A){return P(),b&&b(A)}),j=(0,au.default)(function(A){return T(),g&&g(A)}),Q=(0,bu.useMemo)(function(){return n.map(function(A,W){return(0,nw.jsx)("div",jp({className:Hie.LINE_CLASSNAME},{children:r({index:W,active:_===W,line:A})}),A.id)})},[_,r,n]);return(0,nw.jsxs)(qie.default,jp({tabIndex:-1},y,{onWheel:N,onKeyDown:$,onMouseDown:F,onMouseUp:V,onMouseMove:j,ref:v},{children:[a?XI:null,Q,a?XI:null]}))}GE.default=(0,bu.forwardRef)(Xie);var Jie=ie&&ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Dg,"__esModule",{value:!0});var Zie=Jie(GE);Dg.default=Zie.default;var nx={},Hs={},rx={};(function(t){t.__esModule=!0,t.LineType=void 0,function(e){e.INVALID="invalid",e.LYRIC="lyric",e.METADATA="metadata"}(t.LineType||(t.LineType={}))})(rx);var d4={};(function(t){t.__esModule=!0;var e=rx,n=/^((?:\[\d+:\d+(?:\.\d+)?\])+)(.*)$/,r=/^\[(.+?):(.*?)\]$/,i=/^(\d+):(\d+)(?:\.(\d+))?$/;function o(s){for(var a=[],l=s.split(`
`),u=0,c=l.length;u<c;u+=1){var d=l[u],h=d.match(n);if(h){for(var f=h[1],p=f.split("]["),m=0,b=p;m<b.length;m++){var g=b[m],y=g.replace(/(\[|\])/g,"").match(i),v=y[1],_=y[2],S=y[3]||"00",C=S.length===3?+S:+S*10,I={lineNumber:u,raw:d,type:e.LineType.LYRIC,startMillisecond:+v*60*1e3+ +_*1e3+C,content:h[2]};a.push(I)}continue}var R=d.match(r);if(R){var B=R[1],P=R[2],T={lineNumber:u,raw:d,type:e.LineType.METADATA,key:B,value:P};a.push(T);continue}a.push({lineNumber:u,raw:d,type:e.LineType.INVALID})}return a}t.default=o})(d4);var eoe=ie&&ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Hs.__esModule=!0;Hs.LineType=Hs.parse=void 0;var toe=rx;Hs.LineType=toe.LineType;var noe=eoe(d4);Hs.parse=noe.default;var $g={};Object.defineProperty($g,"__esModule",{value:!0});function roe(){return Math.random().toString(36).substring(2,8)}$g.default=roe;var ioe=ie&&ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(nx,"__esModule",{value:!0});var ooe=w,JI=Hs,soe=ioe($g);function aoe(t){var e=(0,ooe.useMemo)(function(){return(0,JI.parse)(t).filter(function(n){return n.type===JI.LineType.LYRIC}).map(function(n){return{id:(0,soe.default)(),lineNumber:n.lineNumber,raw:n.raw,startMillisecond:n.startMillisecond,content:n.content}}).sort(function(n,r){return n.startMillisecond-r.startMillisecond})},[t]);return e}nx.default=aoe;var rw=ie&&ie.__assign||function(){return rw=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},rw.apply(this,arguments)},loe=ie&&ie.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},h4=ie&&ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(qE,"__esModule",{value:!0});var uoe=Nd,coe=w,doe=h4(Dg),hoe=h4(nx),foe=(0,coe.forwardRef)(function(t,e){var n=t.lrc,r=loe(t,["lrc"]),i=(0,hoe.default)(n);return(0,uoe.jsx)(doe.default,rw({},r,{lines:i,ref:e}))});qE.default=foe;var poe=ie&&ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(HE,"__esModule",{value:!0});var moe=poe(qE);HE.default=moe.default;var ix={},ox={},sx={},ZI=ie&&ie.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},eR=ie&&ie.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},tR=ie&&ie.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},goe=ie&&ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(sx,"__esModule",{value:!0});var nR=Hs,yoe=w,rR=goe($g);sx.default=function(t){var e=(0,yoe.useMemo)(function(){var n,r,i,o,s=new Map;try{for(var a=ZI(t),l=a.next();!l.done;l=a.next()){var u=l.value,c=(0,nR.parse)(u).filter(function(m){return m.type===nR.LineType.LYRIC});try{for(var d=(i=void 0,ZI(c)),h=d.next();!h.done;h=d.next()){var f=h.value,p=s.get(f.startMillisecond)||{id:(0,rR.default)(),startMillisecond:f.startMillisecond,children:[]};p.children.push({id:(0,rR.default)(),lineNumber:f.lineNumber,raw:f.raw,content:f.content}),s.set(f.startMillisecond,p)}}catch(m){i={error:m}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}}}catch(m){n={error:m}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return tR([],eR(s.values()),!1).sort(function(m,b){return m.startMillisecond-b.startMillisecond})},tR([t.length],eR(t),!1));return e};var iw=ie&&ie.__assign||function(){return iw=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},iw.apply(this,arguments)},voe=ie&&ie.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},f4=ie&&ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ox,"__esModule",{value:!0});var boe=Nd,woe=w,_oe=f4(Dg),Eoe=f4(sx),xoe=(0,woe.forwardRef)(function(t,e){var n=t.lrcs,r=voe(t,["lrcs"]),i=(0,Eoe.default)(n);return(0,boe.jsx)(_oe.default,iw({},r,{lines:i,ref:e}))});ox.default=xoe;var Soe=ie&&ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ix,"__esModule",{value:!0});var Toe=Soe(ox);ix.default=Toe.default;var ax={},Coe=ie&&ie.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o};Object.defineProperty(ax,"__esModule",{value:!0});var iR=w;function koe(){var t=Coe((0,iR.useState)(!1),2),e=t[0],n=t[1],r=(0,iR.useCallback)(function(){return n(function(i){return!i})},[]);return{signal:e,recoverAutoScrollImmediately:r}}ax.default=koe;var lx=ie&&ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ks,"__esModule",{value:!0});ks.useRecoverAutoScrollImmediately=ks.MultipleLrc=p4=ks.Lrc=void 0;var Ioe=lx(HE),p4=ks.Lrc=Ioe.default,Roe=lx(ix);ks.MultipleLrc=Roe.default;var Poe=lx(ax);ks.useRecoverAutoScrollImmediately=Poe.default;const Ooe=()=>{const{sourceCurrent:t}=w.useContext(Li),[e,n]=w.useState(""),{currentTime:r}=kd(a=>a.audio),i=w.useRef([]),o=bg();W5(t==null?void 0:t.lyric,a=>{n(a)});const s=w.useCallback(({active:a,line:l,index:u})=>E("p",{ref:c=>{c&&(i.current[u]=c)},onClick:()=>{o(vz(l.startMillisecond/1e3))},className:ir("lyric-item cursor-pointer",a&&"is-active"),children:l.content}),[]);return w.useEffect(()=>{var a;if(i.current.length>0){const l=i.current.findIndex(u=>u.classList.contains("is-active")?u:!1);l!==-1&&((a=i.current[l])==null||a.scrollIntoView({behavior:"smooth",block:"center"}))}},[r]),ne("div",{className:"grid grid-cols-12 h-full items-center px-5 gap-5",children:[E("div",{className:"col-span-5 hidden lg:block",children:E(i4,{song:t})}),E("div",{className:"scroll-lyric flex-grow col-span-12 lg:col-span-7",children:t!=null&&t.lyric?E(p4,{verticalSpace:!0,lrc:e,lineRenderer:s,currentMillisecond:r*1e3,recoverAutoScrollInterval:5e3}):E("p",{className:"lyric-item",children:"Bi ny cha c lyric"})})]})},Aoe=({open:t,onClose:e,handleChangeTime:n,handleTogglePlay:r})=>{const{duration:i}=w.useContext(Li),{currentTime:o}=kd(u=>u.audio),s=bg(),[a,l]=w.useState("Lyric");return E(St,{children:E(r4,{children:t&&ne(t4.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{duration:.3},className:"fixed top-0 left-0 w-full h-full",children:[E(Noe,{}),ne("div",{className:"relative z-10 h-full flex flex-col",children:[ne("div",{className:"flex p-5 flex-wrap",children:[E("div",{className:"flex-grow",children:E("img",{src:"https://zjs.zmdcdn.me/zmp3-desktop/dev/119956/static/media/icon_zing_mp3_60.f6b51045.svg",alt:"",className:"w-[45px] h-[45px]"})}),E("div",{className:"flex-grow flex-center",children:E("ul",{className:"rounded-full w-fit flex gap-2 bg-opacity-ct p-1",children:i8.map(u=>E("li",{className:ir("color-opacity-ct cursor-pointer py-[3px] px-[10px] md:px-[50px] w-fit rounded-full font-bold",a===u.type&&"bg-opacity-ct--active"),onClick:()=>l(u.type),children:u.name},u.id))})}),E("div",{className:"flex-grow flex items-center justify-end",children:E("button",{className:"bg-opacity-ct rounded-full pt-[2px] w-[45px] h-[45px] flex-center hover:opacity-80",onClick:e,children:E(A8,{size:30,color:"white"})})})]}),ne("div",{className:"flex-grow",children:[a==="List"&&E(tie,{}),a==="Lyric"&&E(Ooe,{})]}),ne("div",{className:"py-5 px-2.5 flex-center flex-col",children:[ne("div",{className:"flex items-center gap-5 max-w-[500px] w-full mb-2",children:[E("p",{className:"text-sm text-white",children:jc(Number(o.toFixed(0)))}),E(j$,{values:[o],setValues:u=>{const c=u[0];s(fu(c)),n(c)},max:i}),E("p",{className:"text-sm text-white",children:jc(i)})]}),E(g4,{handleTogglePlay:r})]})]})]})})})},Noe=()=>{const{sourceCurrent:t}=w.useContext(Li);return ne("div",{className:"absolute top-0 left-0 w-full h-full",children:[E("div",{style:{height:"100%",width:"100%",backgroundColor:"rgba(41,21,71,0.8)",position:"absolute",backdropFilter:"blur(20px)",zIndex:2}}),E("div",{style:{width:"100%",height:"100%",backgroundImage:`url(${(t==null?void 0:t.album.thumbnailMedium)??"https://photo-resize-zmp3.zmdcdn.me/"})`,backgroundSize:"cover",backgroundPosition:"center center",backgroundRepeat:"no-repeat",zIndex:1}})]})},w0="FAVORITE_DB",m4=()=>{const[t,e]=w.useState([]);w.useEffect(()=>{n()},[]);const n=()=>{const i=zC(Ky(ph,w0));sQ(i,o=>{e(o.docs.map(s=>({...s.data()})))})},r=w.useCallback(async i=>{try{const o=zC(Ky(ph,w0),JK("id","==",i.id)),s=await rQ(o);if(s.docs.map(l=>({...l.data()})).length<=0){await oQ(Ky(ph,w0),i),e([...t,i]);return}s.forEach(l=>{iQ(l.ref)}),e(t.filter(l=>l.id!==i.id))}catch(o){console.log(o)}},[t,ph]);return{favorite:t,onToggleFavorite:r}},Doe=()=>{const{sourceCurrent:t,audioCurrent:e,handleChooseSong:n,isRandom:r,isLoop:i,setVolume:o,setIsWaiting:s,volume:a,isPlaying:l,setIsPlaying:u,duration:c,setDuration:d}=w.useContext(Li),h=w.useRef(null),{currentTime:f,currentTimeTemp:p}=kd(j=>j.audio),[m,b]=w.useState(!1),g=bg(),[y,v]=w.useState(!1),_=w.useRef(null),[S,C]=I_(),[I,R]=w.useState(!1),{favorite:B,onToggleFavorite:P}=m4();w.useEffect(()=>{R(B.some(j=>j.id===(t==null?void 0:t.id)))},[B,t]),w.useEffect(()=>{const j=h.current;!t||!j||(j.src=t.source[128],d(t.duration),j.controls=!1,j.autoplay=!0,j.volume=a,j.setAttribute("crossorigin","anonymous"))},[t]),w.useEffect(()=>{p!==0&&T(p)},[p]);const T=w.useCallback(j=>{const Q=h.current;Q&&(Q.currentTime=j,g(fu(j)))},[]),N=j=>{if(b(j),j){C({state:"show-lyric"});return}C({})};w.useEffect(()=>{f>=c-1&&n(!i&&r?"RANDOM":"NEXT")},[f,r,i]);const $=()=>{const j=h.current;j&&(l?(j.pause(),u(!1)):(j.play().then(),u(!0)))};w.useEffect(()=>{S.get("state")&&b(!0)},[]),Zre(_,()=>{v(!1)});const F=async()=>{e&&await P(e)},V=w.useMemo(()=>E("audio",{loop:i,ref:h,onLoadedData:()=>{s(!1)},onTimeUpdate:j=>{j.currentTarget.currentTime===c?g(fu(0)):g(fu(j.currentTarget.currentTime))},onPlaying:()=>{s(!1),u(!0)},onPause:()=>u(!1)}),[i,c]);return ne("div",{className:"fixed h-[75px] w-full border-t border-[#7a857f] bottom-0 left-0 bg-[#130c1c] grid grid-cols-12 px-2.5 gap-2.5",children:[V,E(g4,{isHidden:!0,handleTogglePlay:$}),ne("div",{className:"col-span-10 md:col-span-6 lg:col-span-8 text-white flex items-center gap-10",children:[E("img",{src:(e==null?void 0:e.thumbnail)||"https://static-zmp3.zadn.vn/skins/common/logo600.png",alt:"",className:"w-[50px] h-[50px] object-cover rounded"}),ne("div",{className:"flex-grow flex flex-col",children:[ne("div",{className:"mb-2 flex-center gap-2.5",children:[E("p",{className:"text-center text-lg font-semibold",children:t==null?void 0:t.name}),E("div",{className:"w-[5px] h-[5px] rounded-full bg-[#CACECC]"}),E("p",{className:"font-semibold text-[#AFB6B2]",children:t==null?void 0:t.artistsNames})]}),ne("div",{className:"flex items-center gap-5",children:[E("p",{className:"text-sm",children:jc(Number(f.toFixed(0)))}),E(j$,{values:[f],setValues:j=>{const Q=j[0];g(fu(Q)),T(Q)},max:c}),E("p",{className:"text-sm",children:jc(c)})]})]})]}),ne("div",{className:"lg:col-span-2 md:col-span-3 col-span-2 text-white flex-center gap-3",children:[E(pi,{content:"Li bi ht",children:E("button",{onClick:()=>N(!0),children:E(eie,{size:25})})}),E(pi,{content:"Thm vo danh sch yu thch",children:E("button",{onClick:F,className:ir("hidden md:block",I&&"text-primary"),children:E(CZ,{size:25})})}),ne("div",{className:"relative top-[2px] hidden md:block",ref:_,children:[E("div",{className:"absolute bottom-[45px]",children:E(Jre,{values:[a],open:y,setValues:j=>{const Q=h.current;Q&&(o(j[0]),Q.volume=j[0])}})}),E(pi,{content:"m thanh",children:E("button",{onClick:()=>v(!y),children:E(X6,{size:25})})})]})]}),E(Aoe,{open:m,onClose:()=>N(!1),handleChangeTime:T,handleTogglePlay:$})]})},g4=({handleTogglePlay:t,isHidden:e=!1})=>{const{handleChooseSong:n,isRandom:r,isLoop:i,setIsLoop:o,setIsRandom:s,isPlaying:a}=w.useContext(Li);return ne("div",{className:ir("text-white flex-center gap-3",e&&"hidden md:flex lg:col-span-2 md:col-span-3"),children:[E(pi,{content:"Pht ngu nhin",children:E("button",{onClick:()=>s(!r),children:E(SZ,{size:20,className:ir("hover:text-secondary",r&&"text-secondary")})})}),E(pi,{content:"Bi trc",children:E("button",{onClick:()=>n("PREVIOUS"),children:E(RZ,{size:28,className:"hover:text-secondary"})})}),E("button",{onClick:t,children:a?E(kZ,{size:35,className:"hover:text-secondary"}):E(IZ,{size:35,className:"hover:text-secondary"})}),E(pi,{content:"Bi tip theo",children:E("button",{onClick:()=>n("NEXT"),children:E(PZ,{size:28,className:"hover:text-secondary"})})}),E(pi,{content:"Lp li",children:E("button",{onClick:()=>o(!i),children:E(OZ,{size:20,className:ir("hover:text-secondary",i&&"text-secondary")})})})]})},Moe=({children:t})=>E(St,{children:ne("div",{className:"h-screen overflow-hidden bg-[#170F23] flex relative",children:[E(YX,{}),ne("div",{className:"h-content w-full flex flex-col p-2 md:p-5 overflow-y-auto overflow-x-hidden",children:[E(EZ,{}),t]}),E(Doe,{})]})}),Loe=ke.createContext({}),y4=!0;function $oe({baseColor:t,highlightColor:e,width:n,height:r,borderRadius:i,circle:o,direction:s,duration:a,enableAnimation:l=y4}){const u={};return s==="rtl"&&(u["--animation-direction"]="reverse"),typeof a=="number"&&(u["--animation-duration"]=`${a}s`),l||(u["--pseudo-element-display"]="none"),(typeof n=="string"||typeof n=="number")&&(u.width=n),(typeof r=="string"||typeof r=="number")&&(u.height=r),(typeof i=="string"||typeof i=="number")&&(u.borderRadius=i),o&&(u.borderRadius="50%"),typeof t<"u"&&(u["--base-color"]=t),typeof e<"u"&&(u["--highlight-color"]=e),u}function la({count:t=1,wrapper:e,className:n,containerClassName:r,containerTestId:i,circle:o=!1,style:s,...a}){var l,u,c;const d=ke.useContext(Loe),h={...a};for(const[v,_]of Object.entries(a))typeof _>"u"&&delete h[v];const f={...d,...h,circle:o},p={...s,...$oe(f)};let m="react-loading-skeleton";n&&(m+=` ${n}`);const b=(l=f.inline)!==null&&l!==void 0?l:!1,g=[],y=Math.ceil(t);for(let v=0;v<y;v++){let _=p;if(y>t&&v===y-1){const C=(u=_.width)!==null&&u!==void 0?u:"100%",I=t%1,R=typeof C=="number"?C*I:`calc(${C} * ${I})`;_={..._,width:R}}const S=ke.createElement("span",{className:m,style:_,key:v},"");b?g.push(S):g.push(ke.createElement(ke.Fragment,{key:v},S,ke.createElement("br",null)))}return ke.createElement("span",{className:r,"data-testid":i,"aria-live":"polite","aria-busy":(c=f.enableAnimation)!==null&&c!==void 0?c:y4},e?g.map((v,_)=>ke.createElement(e,{key:_},v)):g)}const Foe=()=>ne("div",{className:"grid grid-cols-4 items-center cursor-pointer",children:[ne("div",{className:"flex items-center gap-2.5",children:[E(la,{width:20}),E(la,{width:50,height:50}),E(la,{width:200,count:2})]}),E(la,{width:200,count:1}),E(la,{width:200,count:1}),E(la,{width:200,count:1})]});var ow={},joe={get exports(){return ow},set exports(t){ow=t}};(()=>{var t={296:(i,o,s)=>{var a=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,d=parseInt,h=typeof s.g=="object"&&s.g&&s.g.Object===Object&&s.g,f=typeof self=="object"&&self&&self.Object===Object&&self,p=h||f||Function("return this")(),m=Object.prototype.toString,b=Math.max,g=Math.min,y=function(){return p.Date.now()};function v(S){var C=typeof S;return!!S&&(C=="object"||C=="function")}function _(S){if(typeof S=="number")return S;if(function(R){return typeof R=="symbol"||function(B){return!!B&&typeof B=="object"}(R)&&m.call(R)=="[object Symbol]"}(S))return NaN;if(v(S)){var C=typeof S.valueOf=="function"?S.valueOf():S;S=v(C)?C+"":C}if(typeof S!="string")return S===0?S:+S;S=S.replace(a,"");var I=u.test(S);return I||c.test(S)?d(S.slice(2),I?2:8):l.test(S)?NaN:+S}i.exports=function(S,C,I){var R,B,P,T,N,$,F=0,V=!1,j=!1,Q=!0;if(typeof S!="function")throw new TypeError("Expected a function");function A(se){var Ee=R,xe=B;return R=B=void 0,F=se,T=S.apply(xe,Ee)}function W(se){return F=se,N=setTimeout(q,C),V?A(se):T}function U(se){var Ee=se-$;return $===void 0||Ee>=C||Ee<0||j&&se-F>=P}function q(){var se=y();if(U(se))return Z(se);N=setTimeout(q,function(Ee){var xe=C-(Ee-$);return j?g(xe,P-(Ee-F)):xe}(se))}function Z(se){return N=void 0,Q&&R?A(se):(R=B=void 0,T)}function _e(){var se=y(),Ee=U(se);if(R=arguments,B=this,$=se,Ee){if(N===void 0)return W($);if(j)return N=setTimeout(q,C),A($)}return N===void 0&&(N=setTimeout(q,C)),T}return C=_(C)||0,v(I)&&(V=!!I.leading,P=(j="maxWait"in I)?b(_(I.maxWait)||0,C):P,Q="trailing"in I?!!I.trailing:Q),_e.cancel=function(){N!==void 0&&clearTimeout(N),F=0,R=$=B=N=void 0},_e.flush=function(){return N===void 0?T:Z(y())},_e}},96:(i,o,s)=>{var a="Expected a function",l=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,d=/^0o[0-7]+$/i,h=parseInt,f=typeof s.g=="object"&&s.g&&s.g.Object===Object&&s.g,p=typeof self=="object"&&self&&self.Object===Object&&self,m=f||p||Function("return this")(),b=Object.prototype.toString,g=Math.max,y=Math.min,v=function(){return m.Date.now()};function _(C){var I=typeof C;return!!C&&(I=="object"||I=="function")}function S(C){if(typeof C=="number")return C;if(function(B){return typeof B=="symbol"||function(P){return!!P&&typeof P=="object"}(B)&&b.call(B)=="[object Symbol]"}(C))return NaN;if(_(C)){var I=typeof C.valueOf=="function"?C.valueOf():C;C=_(I)?I+"":I}if(typeof C!="string")return C===0?C:+C;C=C.replace(l,"");var R=c.test(C);return R||d.test(C)?h(C.slice(2),R?2:8):u.test(C)?NaN:+C}i.exports=function(C,I,R){var B=!0,P=!0;if(typeof C!="function")throw new TypeError(a);return _(R)&&(B="leading"in R?!!R.leading:B,P="trailing"in R?!!R.trailing:P),function(T,N,$){var F,V,j,Q,A,W,U=0,q=!1,Z=!1,_e=!0;if(typeof T!="function")throw new TypeError(a);function se(Ge){var Ke=F,En=V;return F=V=void 0,U=Ge,Q=T.apply(En,Ke)}function Ee(Ge){return U=Ge,A=setTimeout(gt,N),q?se(Ge):Q}function xe(Ge){var Ke=Ge-W;return W===void 0||Ke>=N||Ke<0||Z&&Ge-U>=j}function gt(){var Ge=v();if(xe(Ge))return dr(Ge);A=setTimeout(gt,function(Ke){var En=N-(Ke-W);return Z?y(En,j-(Ke-U)):En}(Ge))}function dr(Ge){return A=void 0,_e&&F?se(Ge):(F=V=void 0,Q)}function Kt(){var Ge=v(),Ke=xe(Ge);if(F=arguments,V=this,W=Ge,Ke){if(A===void 0)return Ee(W);if(Z)return A=setTimeout(gt,N),se(W)}return A===void 0&&(A=setTimeout(gt,N)),Q}return N=S(N)||0,_($)&&(q=!!$.leading,j=(Z="maxWait"in $)?g(S($.maxWait)||0,N):j,_e="trailing"in $?!!$.trailing:_e),Kt.cancel=function(){A!==void 0&&clearTimeout(A),U=0,F=W=V=A=void 0},Kt.flush=function(){return A===void 0?Q:dr(v())},Kt}(C,I,{leading:B,maxWait:I,trailing:P})}},703:(i,o,s)=>{var a=s(414);function l(){}function u(){}u.resetWarningCache=l,i.exports=function(){function c(f,p,m,b,g,y){if(y!==a){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}function d(){return c}c.isRequired=c;var h={array:c,bool:c,func:c,number:c,object:c,string:c,symbol:c,any:c,arrayOf:d,element:c,elementType:c,instanceOf:d,node:c,objectOf:d,oneOf:d,oneOfType:d,shape:d,exact:d,checkPropTypes:u,resetWarningCache:l};return h.PropTypes=h,h}},697:(i,o,s)=>{i.exports=s(703)()},414:i=>{i.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},e={};function n(i){var o=e[i];if(o!==void 0)return o.exports;var s=e[i]={exports:{}};return t[i](s,s.exports,n),s.exports}n.n=i=>{var o=i&&i.__esModule?()=>i.default:()=>i;return n.d(o,{a:o}),o},n.d=(i,o)=>{for(var s in o)n.o(o,s)&&!n.o(i,s)&&Object.defineProperty(i,s,{enumerable:!0,get:o[s]})},n.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),n.o=(i,o)=>Object.prototype.hasOwnProperty.call(i,o),n.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var r={};(()=>{n.r(r),n.d(r,{LazyLoadComponent:()=>Ar,LazyLoadImage:()=>Ug,trackWindowScroll:()=>q});const i=w;var o=n.n(i),s=n(697);const a=Po;var l=n.n(a);function u(){return typeof window<"u"&&"IntersectionObserver"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype}function c(k){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(k)}function d(k,x){var O=Object.keys(k);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(k);x&&(L=L.filter(function(ee){return Object.getOwnPropertyDescriptor(k,ee).enumerable})),O.push.apply(O,L)}return O}function h(k,x,O){return x in k?Object.defineProperty(k,x,{value:O,enumerable:!0,configurable:!0,writable:!0}):k[x]=O,k}function f(k,x){for(var O=0;O<x.length;O++){var L=x[O];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(k,L.key,L)}}function p(k,x){return(p=Object.setPrototypeOf||function(O,L){return O.__proto__=L,O})(k,x)}function m(k,x){if(x&&(c(x)==="object"||typeof x=="function"))return x;if(x!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(k)}function b(k){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)})(k)}var g=function(k){k.forEach(function(x){x.isIntersecting&&x.target.onVisible()})},y={},v=function(k){(function(D,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function");D.prototype=Object.create(M&&M.prototype,{constructor:{value:D,writable:!0,configurable:!0}}),M&&p(D,M)})(re,k);var x,O,L,ee,he=(L=re,ee=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var D,M=b(L);if(ee){var J=b(this).constructor;D=Reflect.construct(M,arguments,J)}else D=M.apply(this,arguments);return m(this,D)});function re(D){var M;if(function(X,pe){if(!(X instanceof pe))throw new TypeError("Cannot call a class as a function")}(this,re),(M=he.call(this,D)).supportsObserver=!D.scrollPosition&&D.useIntersectionObserver&&u(),M.supportsObserver){var J=D.threshold;M.observer=function(X){return y[X]=y[X]||new IntersectionObserver(g,{rootMargin:X+"px"}),y[X]}(J)}return M}return x=re,(O=[{key:"componentDidMount",value:function(){this.placeholder&&this.observer&&(this.placeholder.onVisible=this.props.onVisible,this.observer.observe(this.placeholder)),this.supportsObserver||this.updateVisibility()}},{key:"componentWillUnmount",value:function(){this.observer&&this.placeholder&&this.observer.unobserve(this.placeholder)}},{key:"componentDidUpdate",value:function(){this.supportsObserver||this.updateVisibility()}},{key:"getPlaceholderBoundingBox",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.scrollPosition,M=this.placeholder.getBoundingClientRect(),J=l().findDOMNode(this.placeholder).style,X={left:parseInt(J.getPropertyValue("margin-left"),10)||0,top:parseInt(J.getPropertyValue("margin-top"),10)||0};return{bottom:D.y+M.bottom+X.top,left:D.x+M.left+X.left,right:D.x+M.right+X.left,top:D.y+M.top+X.top}}},{key:"isPlaceholderInViewport",value:function(){if(typeof window>"u"||!this.placeholder)return!1;var D=this.props,M=D.scrollPosition,J=D.threshold,X=this.getPlaceholderBoundingBox(M),pe=M.y+window.innerHeight,ge=M.x,Te=M.x+window.innerWidth,Pe=M.y;return Pe-J<=X.bottom&&pe+J>=X.top&&ge-J<=X.right&&Te+J>=X.left}},{key:"updateVisibility",value:function(){this.isPlaceholderInViewport()&&this.props.onVisible()}},{key:"render",value:function(){var D=this,M=this.props,J=M.className,X=M.height,pe=M.placeholder,ge=M.style,Te=M.width;if(pe&&typeof pe.type!="function")return o().cloneElement(pe,{ref:function(Ue){return D.placeholder=Ue}});var Pe=function(Ue){for(var wt=1;wt<arguments.length;wt++){var Ye=arguments[wt]!=null?arguments[wt]:{};wt%2?d(Object(Ye),!0).forEach(function(dt){h(Ue,dt,Ye[dt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ue,Object.getOwnPropertyDescriptors(Ye)):d(Object(Ye)).forEach(function(dt){Object.defineProperty(Ue,dt,Object.getOwnPropertyDescriptor(Ye,dt))})}return Ue}({display:"inline-block"},ge);return Te!==void 0&&(Pe.width=Te),X!==void 0&&(Pe.height=X),o().createElement("span",{className:J,ref:function(Ue){return D.placeholder=Ue},style:Pe},pe)}}])&&f(x.prototype,O),re}(o().Component);v.propTypes={onVisible:s.PropTypes.func.isRequired,className:s.PropTypes.string,height:s.PropTypes.oneOfType([s.PropTypes.number,s.PropTypes.string]),placeholder:s.PropTypes.element,threshold:s.PropTypes.number,useIntersectionObserver:s.PropTypes.bool,scrollPosition:s.PropTypes.shape({x:s.PropTypes.number.isRequired,y:s.PropTypes.number.isRequired}),width:s.PropTypes.oneOfType([s.PropTypes.number,s.PropTypes.string])},v.defaultProps={className:"",placeholder:null,threshold:100,useIntersectionObserver:!0};const _=v;var S=n(296),C=n.n(S),I=n(96),R=n.n(I),B=function(k){var x=getComputedStyle(k,null);return x.getPropertyValue("overflow")+x.getPropertyValue("overflow-y")+x.getPropertyValue("overflow-x")};const P=function(k){if(!(k instanceof HTMLElement))return window;for(var x=k;x&&x instanceof HTMLElement;){if(/(scroll|auto)/.test(B(x)))return x;x=x.parentNode}return window};function T(k){return(T=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(k)}var N=["delayMethod","delayTime"];function $(){return($=Object.assign||function(k){for(var x=1;x<arguments.length;x++){var O=arguments[x];for(var L in O)Object.prototype.hasOwnProperty.call(O,L)&&(k[L]=O[L])}return k}).apply(this,arguments)}function F(k,x){for(var O=0;O<x.length;O++){var L=x[O];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(k,L.key,L)}}function V(k,x){return(V=Object.setPrototypeOf||function(O,L){return O.__proto__=L,O})(k,x)}function j(k,x){if(x&&(T(x)==="object"||typeof x=="function"))return x;if(x!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q(k)}function Q(k){if(k===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}function A(k){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)})(k)}var W=function(){return typeof window>"u"?0:window.scrollX||window.pageXOffset},U=function(){return typeof window>"u"?0:window.scrollY||window.pageYOffset};const q=function(k){var x=function(O){(function(J,X){if(typeof X!="function"&&X!==null)throw new TypeError("Super expression must either be null or a function");J.prototype=Object.create(X&&X.prototype,{constructor:{value:J,writable:!0,configurable:!0}}),X&&V(J,X)})(M,O);var L,ee,he,re,D=(he=M,re=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var J,X=A(he);if(re){var pe=A(this).constructor;J=Reflect.construct(X,arguments,pe)}else J=X.apply(this,arguments);return j(this,J)});function M(J){var X;if(function(ge,Te){if(!(ge instanceof Te))throw new TypeError("Cannot call a class as a function")}(this,M),(X=D.call(this,J)).useIntersectionObserver=J.useIntersectionObserver&&u(),X.useIntersectionObserver)return j(X);var pe=X.onChangeScroll.bind(Q(X));return J.delayMethod==="debounce"?X.delayedScroll=C()(pe,J.delayTime):J.delayMethod==="throttle"&&(X.delayedScroll=R()(pe,J.delayTime)),X.state={scrollPosition:{x:W(),y:U()}},X.baseComponentRef=o().createRef(),X}return L=M,(ee=[{key:"componentDidMount",value:function(){this.addListeners()}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"componentDidUpdate",value:function(){typeof window>"u"||this.useIntersectionObserver||P(l().findDOMNode(this.baseComponentRef.current))!==this.scrollElement&&(this.removeListeners(),this.addListeners())}},{key:"addListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement=P(l().findDOMNode(this.baseComponentRef.current)),this.scrollElement.addEventListener("scroll",this.delayedScroll,{passive:!0}),window.addEventListener("resize",this.delayedScroll,{passive:!0}),this.scrollElement!==window&&window.addEventListener("scroll",this.delayedScroll,{passive:!0}))}},{key:"removeListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement.removeEventListener("scroll",this.delayedScroll),window.removeEventListener("resize",this.delayedScroll),this.scrollElement!==window&&window.removeEventListener("scroll",this.delayedScroll))}},{key:"onChangeScroll",value:function(){this.useIntersectionObserver||this.setState({scrollPosition:{x:W(),y:U()}})}},{key:"render",value:function(){var J=this.props,X=(J.delayMethod,J.delayTime,function(ge,Te){if(ge==null)return{};var Pe,Ue,wt=function(dt,Nr){if(dt==null)return{};var fr,_t,On={},Dr=Object.keys(dt);for(_t=0;_t<Dr.length;_t++)fr=Dr[_t],Nr.indexOf(fr)>=0||(On[fr]=dt[fr]);return On}(ge,Te);if(Object.getOwnPropertySymbols){var Ye=Object.getOwnPropertySymbols(ge);for(Ue=0;Ue<Ye.length;Ue++)Pe=Ye[Ue],Te.indexOf(Pe)>=0||Object.prototype.propertyIsEnumerable.call(ge,Pe)&&(wt[Pe]=ge[Pe])}return wt}(J,N)),pe=this.useIntersectionObserver?null:this.state.scrollPosition;return o().createElement(k,$({forwardRef:this.baseComponentRef,scrollPosition:pe},X))}}])&&F(L.prototype,ee),M}(o().Component);return x.propTypes={delayMethod:s.PropTypes.oneOf(["debounce","throttle"]),delayTime:s.PropTypes.number,useIntersectionObserver:s.PropTypes.bool},x.defaultProps={delayMethod:"throttle",delayTime:300,useIntersectionObserver:!0},x};function Z(k){return(Z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(k)}function _e(k,x){for(var O=0;O<x.length;O++){var L=x[O];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(k,L.key,L)}}function se(k,x){return(se=Object.setPrototypeOf||function(O,L){return O.__proto__=L,O})(k,x)}function Ee(k,x){if(x&&(Z(x)==="object"||typeof x=="function"))return x;if(x!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(k)}function xe(k){return(xe=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)})(k)}var gt=function(k){(function(D,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function");D.prototype=Object.create(M&&M.prototype,{constructor:{value:D,writable:!0,configurable:!0}}),M&&se(D,M)})(re,k);var x,O,L,ee,he=(L=re,ee=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var D,M=xe(L);if(ee){var J=xe(this).constructor;D=Reflect.construct(M,arguments,J)}else D=M.apply(this,arguments);return Ee(this,D)});function re(D){return function(M,J){if(!(M instanceof J))throw new TypeError("Cannot call a class as a function")}(this,re),he.call(this,D)}return x=re,(O=[{key:"render",value:function(){return o().createElement(_,this.props)}}])&&_e(x.prototype,O),re}(o().Component);const dr=q(gt);function Kt(k){return(Kt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(k)}function Ge(k,x){for(var O=0;O<x.length;O++){var L=x[O];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(k,L.key,L)}}function Ke(k,x){return(Ke=Object.setPrototypeOf||function(O,L){return O.__proto__=L,O})(k,x)}function En(k,x){if(x&&(Kt(x)==="object"||typeof x=="function"))return x;if(x!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hr(k)}function hr(k){if(k===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}function Pn(k){return(Pn=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)})(k)}var Or=function(k){(function(D,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function");D.prototype=Object.create(M&&M.prototype,{constructor:{value:D,writable:!0,configurable:!0}}),M&&Ke(D,M)})(re,k);var x,O,L,ee,he=(L=re,ee=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var D,M=Pn(L);if(ee){var J=Pn(this).constructor;D=Reflect.construct(M,arguments,J)}else D=M.apply(this,arguments);return En(this,D)});function re(D){var M;(function(Te,Pe){if(!(Te instanceof Pe))throw new TypeError("Cannot call a class as a function")})(this,re),M=he.call(this,D);var J=D.afterLoad,X=D.beforeLoad,pe=D.scrollPosition,ge=D.visibleByDefault;return M.state={visible:ge},ge&&(X(),J()),M.onVisible=M.onVisible.bind(hr(M)),M.isScrollTracked=!!(pe&&Number.isFinite(pe.x)&&pe.x>=0&&Number.isFinite(pe.y)&&pe.y>=0),M}return x=re,(O=[{key:"componentDidUpdate",value:function(D,M){M.visible!==this.state.visible&&this.props.afterLoad()}},{key:"onVisible",value:function(){this.props.beforeLoad(),this.setState({visible:!0})}},{key:"render",value:function(){if(this.state.visible)return this.props.children;var D=this.props,M=D.className,J=D.delayMethod,X=D.delayTime,pe=D.height,ge=D.placeholder,Te=D.scrollPosition,Pe=D.style,Ue=D.threshold,wt=D.useIntersectionObserver,Ye=D.width;return this.isScrollTracked||wt&&u()?o().createElement(_,{className:M,height:pe,onVisible:this.onVisible,placeholder:ge,scrollPosition:Te,style:Pe,threshold:Ue,useIntersectionObserver:wt,width:Ye}):o().createElement(dr,{className:M,delayMethod:J,delayTime:X,height:pe,onVisible:this.onVisible,placeholder:ge,style:Pe,threshold:Ue,width:Ye})}}])&&Ge(x.prototype,O),re}(o().Component);Or.propTypes={afterLoad:s.PropTypes.func,beforeLoad:s.PropTypes.func,useIntersectionObserver:s.PropTypes.bool,visibleByDefault:s.PropTypes.bool},Or.defaultProps={afterLoad:function(){return{}},beforeLoad:function(){return{}},useIntersectionObserver:!0,visibleByDefault:!1};const Ar=Or;function Ui(k){return(Ui=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(k)}var Fg=["afterLoad","beforeLoad","delayMethod","delayTime","effect","placeholder","placeholderSrc","scrollPosition","threshold","useIntersectionObserver","visibleByDefault","wrapperClassName","wrapperProps"];function Fl(k,x){var O=Object.keys(k);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(k);x&&(L=L.filter(function(ee){return Object.getOwnPropertyDescriptor(k,ee).enumerable})),O.push.apply(O,L)}return O}function Md(k){for(var x=1;x<arguments.length;x++){var O=arguments[x]!=null?arguments[x]:{};x%2?Fl(Object(O),!0).forEach(function(L){Xo(k,L,O[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(k,Object.getOwnPropertyDescriptors(O)):Fl(Object(O)).forEach(function(L){Object.defineProperty(k,L,Object.getOwnPropertyDescriptor(O,L))})}return k}function Xo(k,x,O){return x in k?Object.defineProperty(k,x,{value:O,enumerable:!0,configurable:!0,writable:!0}):k[x]=O,k}function Vi(){return(Vi=Object.assign||function(k){for(var x=1;x<arguments.length;x++){var O=arguments[x];for(var L in O)Object.prototype.hasOwnProperty.call(O,L)&&(k[L]=O[L])}return k}).apply(this,arguments)}function Ld(k,x){for(var O=0;O<x.length;O++){var L=x[O];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(k,L.key,L)}}function ia(k,x){return(ia=Object.setPrototypeOf||function(O,L){return O.__proto__=L,O})(k,x)}function jg(k,x){if(x&&(Ui(x)==="object"||typeof x=="function"))return x;if(x!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(k)}function jl(k){return(jl=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)})(k)}var oa=function(k){(function(D,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function");D.prototype=Object.create(M&&M.prototype,{constructor:{value:D,writable:!0,configurable:!0}}),M&&ia(D,M)})(re,k);var x,O,L,ee,he=(L=re,ee=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var D,M=jl(L);if(ee){var J=jl(this).constructor;D=Reflect.construct(M,arguments,J)}else D=M.apply(this,arguments);return jg(this,D)});function re(D){var M;return function(J,X){if(!(J instanceof X))throw new TypeError("Cannot call a class as a function")}(this,re),(M=he.call(this,D)).state={loaded:!1},M}return x=re,(O=[{key:"onImageLoad",value:function(){var D=this;return this.state.loaded?null:function(){D.props.afterLoad(),D.setState({loaded:!0})}}},{key:"getImg",value:function(){var D=this.props,M=(D.afterLoad,D.beforeLoad,D.delayMethod,D.delayTime,D.effect,D.placeholder,D.placeholderSrc,D.scrollPosition,D.threshold,D.useIntersectionObserver,D.visibleByDefault,D.wrapperClassName,D.wrapperProps,function(J,X){if(J==null)return{};var pe,ge,Te=function(Ue,wt){if(Ue==null)return{};var Ye,dt,Nr={},fr=Object.keys(Ue);for(dt=0;dt<fr.length;dt++)Ye=fr[dt],wt.indexOf(Ye)>=0||(Nr[Ye]=Ue[Ye]);return Nr}(J,X);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(J);for(ge=0;ge<Pe.length;ge++)pe=Pe[ge],X.indexOf(pe)>=0||Object.prototype.propertyIsEnumerable.call(J,pe)&&(Te[pe]=J[pe])}return Te}(D,Fg));return o().createElement("img",Vi({onLoad:this.onImageLoad()},M))}},{key:"getLazyLoadImage",value:function(){var D=this.props,M=D.beforeLoad,J=D.className,X=D.delayMethod,pe=D.delayTime,ge=D.height,Te=D.placeholder,Pe=D.scrollPosition,Ue=D.style,wt=D.threshold,Ye=D.useIntersectionObserver,dt=D.visibleByDefault,Nr=D.width;return o().createElement(Ar,{beforeLoad:M,className:J,delayMethod:X,delayTime:pe,height:ge,placeholder:Te,scrollPosition:Pe,style:Ue,threshold:wt,useIntersectionObserver:Ye,visibleByDefault:dt,width:Nr},this.getImg())}},{key:"getWrappedLazyLoadImage",value:function(D){var M=this.props,J=M.effect,X=M.height,pe=M.placeholderSrc,ge=M.width,Te=M.wrapperClassName,Pe=M.wrapperProps,Ue=this.state.loaded,wt=Ue?" lazy-load-image-loaded":"",Ye=Ue||!pe?{}:{backgroundImage:"url(".concat(pe,")"),backgroundSize:"100% 100%"};return o().createElement("span",Vi({className:Te+" lazy-load-image-background "+J+wt,style:Md(Md({},Ye),{},{color:"transparent",display:"inline-block",height:X,width:ge})},Pe),D)}},{key:"render",value:function(){var D=this.props,M=D.effect,J=D.placeholderSrc,X=D.visibleByDefault,pe=D.wrapperClassName,ge=D.wrapperProps,Te=this.getLazyLoadImage();return(M||J)&&!X||pe||ge?this.getWrappedLazyLoadImage(Te):Te}}])&&Ld(x.prototype,O),re}(o().Component);oa.propTypes={afterLoad:s.PropTypes.func,beforeLoad:s.PropTypes.func,delayMethod:s.PropTypes.string,delayTime:s.PropTypes.number,effect:s.PropTypes.string,placeholderSrc:s.PropTypes.string,threshold:s.PropTypes.number,useIntersectionObserver:s.PropTypes.bool,visibleByDefault:s.PropTypes.bool,wrapperClassName:s.PropTypes.string,wrapperProps:s.PropTypes.object},oa.defaultProps={afterLoad:function(){return{}},beforeLoad:function(){return{}},delayMethod:"throttle",delayTime:300,effect:"",placeholderSrc:null,threshold:100,useIntersectionObserver:!0,visibleByDefault:!1,wrapperClassName:""};const Ug=oa})(),joe.exports=r})();const v4=({song:t,index:e})=>{var o;const{handleChooseAudio:n,audioCurrent:r}=w.useContext(Li),i=t.id===(r==null?void 0:r.id);return ne("div",{className:"grid grid-cols-4 min-w-[900px] items-center cursor-pointer",onClick:()=>n(t),children:[ne("div",{className:"flex items-center",children:[E("p",{className:"text-white font-semibold mr-3",children:i?E(TZ,{className:"text-secondary font-bold",size:20}):e}),E(ow.LazyLoadImage,{src:t.thumbnail,alt:"",className:"w-[40px] h-[40px] object-cover rounded mr-3"}),E("p",{className:ir("text-white font-semibold text-[#afb6b2]",i&&"text-secondary"),children:t.name})]}),E("p",{className:ir("text-white font-semibold text-[#7a857f]",i&&"text-secondary"),children:t.artistsNames}),E("p",{className:ir("text-white font-semibold text-[#7a857f]",i&&"text-secondary"),children:(o=t.album)==null?void 0:o.name}),E("div",{className:"flex-center gap-2.5",children:E("p",{className:ir("text-[#afb6b2] font-semibold",i&&"text-secondary"),children:jc(t.duration)})})]})},Uoe=()=>{const{data:t,isLoading:e}=zO(),n=w.useRef([]),{keyword:r}=kd(s=>s.search),i=w.useMemo(()=>{let s=[];return t&&(s=t.data.song.filter(a=>a.name.toLowerCase().includes(r.toLowerCase()))),s},[t,r]),{audioCurrent:o}=w.useContext(Li);return w.useEffect(()=>{if(o){const s=n.current.find(a=>a&&a.id===`song-${o.id}`);s&&s.scrollIntoView({behavior:"smooth",block:"center"})}},[o]),ne("div",{className:"mt-5",children:[E("p",{className:"text-white font-semibold text-lg",children:"Bng xp hng"}),E("div",{className:"flex flex-col overflow-x-hidden gap-5 mt-5",children:e?Array(10).fill(0).map((s,a)=>E(Foe,{},a)):i.map((s,a)=>E("div",{id:`song-${s.id}`,ref:l=>{n.current[a]=l},children:E(v4,{index:a+1,song:s})},s.id))})]})},Voe=()=>{const{favorite:t}=m4(),{keyword:e}=kd(r=>r.search),n=w.useMemo(()=>E(St,{children:t.map((r,i)=>r.name.toLowerCase().includes(e.toLowerCase())?E("div",{children:E(v4,{index:i+1,song:r})},r.id):null)}),[e]);return E(St,{children:ne("div",{className:"mt-5",children:[E("p",{className:"text-white font-semibold text-lg",children:"Yu thch"}),E("div",{className:"flex flex-col overflow-x-hidden gap-5 mt-5",children:n})]})})},Boe=()=>{const[t]=I_(),e=w.useMemo(()=>t.get("active")==="favorite"?E(Voe,{}):E(Uoe,{}),[t]);return E(St,{children:E(Moe,{children:e})})},zoe=F6([{path:"/",element:E(Boe,{})}]),Woe=new g3({defaultOptions:{queries:{refetchOnWindowFocus:!1}}}),Hoe=()=>(console.log("Nghe nhc vui v"),E(St,{children:E(E3,{client:Woe,children:E(TB,{store:xz,children:ne(QX,{children:[E(LV,{children:E(A6,{router:zoe})}),E(DV,{position:"top-right",toastOptions:{duration:3e3}})]})})})}));_0.createRoot(document.getElementById("root")).render(E(Hoe,{}));
